(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[3],{"/0+H":function(n,e,t){"use strict";e.__esModule=!0,e.isInAmpMode=a,e.useAmp=function(){return a(o.default.useContext(i.AmpStateContext))};var r,o=(r=t("q1tI"))&&r.__esModule?r:{default:r},i=t("lwAK");function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.ampFirst,t=void 0!==e&&e,r=n.hybrid,o=void 0!==r&&r,i=n.hasQuery,a=void 0!==i&&i;return t||o&&a}},"/MXg":function(n,e,t){var r=t("ZkmD");n.exports=function(){var n=r();return{get:function(e,t){var r=n(e);return r.hasOwnProperty("value")?r.value:t},set:function(e,t){return n(e).value=t,this},has:function(e){return"value"in n(e)},delete:function(e){return delete n(e).value}}}},"033R":function(n,e,t){"use strict";var r=t("TBio");n.exports=function(n){var e=["'use strict'","var CACHED={}"],t=[],o=n.funcName+"_cwise_thunk";e.push(["return function ",o,"(",n.shimArgs.join(","),"){"].join(""));for(var i=[],a=[],s=[["array",n.arrayArgs[0],".shape.slice(",Math.max(0,n.arrayBlockIndices[0]),n.arrayBlockIndices[0]<0?","+n.arrayBlockIndices[0]+")":")"].join("")],c=[],l=[],f=0;f<n.arrayArgs.length;++f){var p=n.arrayArgs[f];t.push(["t",p,"=array",p,".dtype,","r",p,"=array",p,".order"].join("")),i.push("t"+p),i.push("r"+p),a.push("t"+p),a.push("r"+p+".join()"),s.push("array"+p+".data"),s.push("array"+p+".stride"),s.push("array"+p+".offset|0"),f>0&&(c.push("array"+n.arrayArgs[0]+".shape.length===array"+p+".shape.length+"+(Math.abs(n.arrayBlockIndices[0])-Math.abs(n.arrayBlockIndices[f]))),l.push("array"+n.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,n.arrayBlockIndices[0])+"]===array"+p+".shape[shapeIndex+"+Math.max(0,n.arrayBlockIndices[f])+"]"))}for(n.arrayArgs.length>1&&(e.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+n.arrayArgs[0]+".shape.length-"+Math.abs(n.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),e.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}")),f=0;f<n.scalarArgs.length;++f)s.push("scalar"+n.scalarArgs[f]);return t.push(["type=[",a.join(","),"].join()"].join("")),t.push("proc=CACHED[type]"),e.push("var "+t.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",i.join(","),"])}","return proc(",s.join(","),")}"].join("")),n.debug&&console.log("-----Generated thunk:\n"+e.join("\n")+"\n----------"),new Function("compile",e.join("\n"))(r.bind(void 0,n))}},"0GS4":function(n,e,t){"use strict";var r=t("63NL"),o=t("o/2B");function i(n){return new Function("y","return function(){return y}")(n)}function a(n,e){for(var t=new Array(n),r=0;r<n;++r)t[r]=e;return t}n.exports=function(n,e,t,s){function c(n,e,t){switch(t){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+e+"],obj"+n+")";case"float":return"gl.uniform1f(locations["+e+"],obj"+n+")";default:var r=t.indexOf("vec");if(!(0<=r&&r<=1&&t.length===4+r)){if(0===t.indexOf("mat")&&4===t.length){var i;if((i=t.charCodeAt(t.length-1)-48)<2||i>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+t);return"gl.uniformMatrix"+i+"fv(locations["+e+"],false,obj"+n+")"}throw new o("","Unknown uniform data type for "+name+": "+t)}if((i=t.charCodeAt(t.length-1)-48)<2||i>4)throw new o("","Invalid data type");switch(t.charAt(0)){case"b":case"i":return"gl.uniform"+i+"iv(locations["+e+"],obj"+n+")";case"v":return"gl.uniform"+i+"fv(locations["+e+"],obj"+n+")";default:throw new o("","Unrecognized data type for vector "+name+": "+t)}}}function l(n,e){if("object"!==typeof e)return[[n,e]];var t=[];for(var r in e){var o=e[r],i=n;parseInt(r)+""===r?i+="["+r+"]":i+="."+r,"object"===typeof o?t.push.apply(t,l(i,o)):t.push([i,o])}return t}function f(e){for(var r=["return function updateProperty(obj){"],o=l("",e),i=0;i<o.length;++i){var a=o[i],f=a[0],p=a[1];s[p]&&r.push(c(f,p,t[p].type))}return r.push("return obj}"),new Function("gl","locations",r.join("\n"))(n,s)}function p(r,c,l){if("object"===typeof l){var p=u(l);Object.defineProperty(r,c,{get:i(p),set:f(l),enumerable:!0,configurable:!1})}else s[l]?Object.defineProperty(r,c,{get:(d=l,new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+d+"])}")(n,e,s)),set:f(l),enumerable:!0,configurable:!1}):r[c]=function(n){switch(n){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var e=n.indexOf("vec");if(0<=e&&e<=1&&n.length===4+e){if((t=n.charCodeAt(n.length-1)-48)<2||t>4)throw new o("","Invalid data type");return"b"===n.charAt(0)?a(t,!1):a(t,0)}if(0===n.indexOf("mat")&&4===n.length){var t;if((t=n.charCodeAt(n.length-1)-48)<2||t>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+n);return a(t*t,0)}throw new o("","Unknown uniform data type for "+name+": "+n)}}(t[l].type);var d}function u(n){var e;if(Array.isArray(n)){e=new Array(n.length);for(var t=0;t<n.length;++t)p(e,t,n[t])}else for(var r in e={},n)p(e,r,n[r]);return e}var d=r(t,!0);return{get:i(u(d)),set:f(d),enumerable:!0,configurable:!0}}},"1BqX":function(n,e,t){"use strict";e.uniforms=function(n,e){for(var t=n.getProgramParameter(e,n.ACTIVE_UNIFORMS),r=[],o=0;o<t;++o){var a=n.getActiveUniform(e,o);if(a){var s=i(n,a.type);if(a.size>1)for(var c=0;c<a.size;++c)r.push({name:a.name.replace("[0]","["+c+"]"),type:s});else r.push({name:a.name,type:s})}}return r},e.attributes=function(n,e){for(var t=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES),r=[],o=0;o<t;++o){var a=n.getActiveAttrib(e,o);a&&r.push({name:a.name,type:i(n,a.type)})}return r};var r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},o=null;function i(n,e){if(!o){var t=Object.keys(r);o={};for(var i=0;i<t.length;++i){var a=t[i];o[n[a]]=r[a]}}return o[e]}},"38ab":function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;let t=n.__glReactGlobalVisitor=n.__glReactGlobalVisitor||[];var r={add(n){t.push(n)},remove(n){const e=t.indexOf(n);-1!==e&&t.splice(e,1)},get:()=>t};e.default=r}).call(this,t("yLpj"))},"3niX":function(n,e,t){"use strict";e.__esModule=!0,e.flush=function(){var n=i.cssRules();return i.flush(),n},e.default=void 0;var r,o=t("q1tI");var i=new(((r=t("SevZ"))&&r.__esModule?r:{default:r}).default),a=function(n){var e,t;function r(e){var t;return(t=n.call(this,e)||this).prevProps={},t}t=n,(e=r).prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t,r.dynamic=function(n){return n.map((function(n){var e=n[0],t=n[1];return i.computeId(e,t)})).join(" ")};var o=r.prototype;return o.shouldComponentUpdate=function(n){return this.props.id!==n.id||String(this.props.dynamic)!==String(n.dynamic)},o.componentWillUnmount=function(){i.remove(this.props)},o.render=function(){return this.shouldComponentUpdate(this.prevProps)&&(this.prevProps.id&&i.remove(this.prevProps),i.add(this.props),this.prevProps=this.props),null},r}(o.Component);e.default=a},"49sm":function(n,e){var t={}.toString;n.exports=Array.isArray||function(n){return"[object Array]"==t.call(n)}},"4Z/T":function(n,e,t){var r;!function(){"use strict";var o={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function i(n){return s(l(n),arguments)}function a(n,e){return i.apply(null,[n].concat(e||[]))}function s(n,e){var t,r,a,s,c,l,f,p,u,d=1,v=n.length,h="";for(r=0;r<v;r++)if("string"===typeof n[r])h+=n[r];else if("object"===typeof n[r]){if((s=n[r]).keys)for(t=e[d],a=0;a<s.keys.length;a++){if(void 0==t)throw new Error(i('[sprintf] Cannot access property "%s" of undefined value "%s"',s.keys[a],s.keys[a-1]));t=t[s.keys[a]]}else t=s.param_no?e[s.param_no]:e[d++];if(o.not_type.test(s.type)&&o.not_primitive.test(s.type)&&t instanceof Function&&(t=t()),o.numeric_arg.test(s.type)&&"number"!==typeof t&&isNaN(t))throw new TypeError(i("[sprintf] expecting number but found %T",t));switch(o.number.test(s.type)&&(p=t>=0),s.type){case"b":t=parseInt(t,10).toString(2);break;case"c":t=String.fromCharCode(parseInt(t,10));break;case"d":case"i":t=parseInt(t,10);break;case"j":t=JSON.stringify(t,null,s.width?parseInt(s.width):0);break;case"e":t=s.precision?parseFloat(t).toExponential(s.precision):parseFloat(t).toExponential();break;case"f":t=s.precision?parseFloat(t).toFixed(s.precision):parseFloat(t);break;case"g":t=s.precision?String(Number(t.toPrecision(s.precision))):parseFloat(t);break;case"o":t=(parseInt(t,10)>>>0).toString(8);break;case"s":t=String(t),t=s.precision?t.substring(0,s.precision):t;break;case"t":t=String(!!t),t=s.precision?t.substring(0,s.precision):t;break;case"T":t=Object.prototype.toString.call(t).slice(8,-1).toLowerCase(),t=s.precision?t.substring(0,s.precision):t;break;case"u":t=parseInt(t,10)>>>0;break;case"v":t=t.valueOf(),t=s.precision?t.substring(0,s.precision):t;break;case"x":t=(parseInt(t,10)>>>0).toString(16);break;case"X":t=(parseInt(t,10)>>>0).toString(16).toUpperCase()}o.json.test(s.type)?h+=t:(!o.number.test(s.type)||p&&!s.sign?u="":(u=p?"+":"-",t=t.toString().replace(o.sign,"")),l=s.pad_char?"0"===s.pad_char?"0":s.pad_char.charAt(1):" ",f=s.width-(u+t).length,c=s.width&&f>0?l.repeat(f):"",h+=s.align?u+t+c:"0"===l?u+c+t:c+u+t)}return h}var c=Object.create(null);function l(n){if(c[n])return c[n];for(var e,t=n,r=[],i=0;t;){if(null!==(e=o.text.exec(t)))r.push(e[0]);else if(null!==(e=o.modulo.exec(t)))r.push("%");else{if(null===(e=o.placeholder.exec(t)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){i|=1;var a=[],s=e[2],l=[];if(null===(l=o.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(l[1]);""!==(s=s.substring(l[0].length));)if(null!==(l=o.key_access.exec(s)))a.push(l[1]);else{if(null===(l=o.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(l[1])}e[2]=a}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");r.push({placeholder:e[0],param_no:e[1],keys:e[2],sign:e[3],pad_char:e[4],align:e[5],width:e[6],precision:e[7],type:e[8]})}t=t.substring(e[0].length)}return c[n]=r}e.sprintf=i,e.vsprintf=a,"undefined"!==typeof window&&(window.sprintf=i,window.vsprintf=a,void 0===(r=function(){return{sprintf:i,vsprintf:a}}.call(e,t,e,n))||(n.exports=r))}()},"5lXm":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=0,()=>++r);e.default=o},"5rLZ":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=function(n){if(n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};var e=a();if(e&&e.has(n))return e.get(n);var t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var i=r?Object.getOwnPropertyDescriptor(n,o):null;i&&(i.get||i.set)?Object.defineProperty(t,o,i):t[o]=n[o]}t.default=n,e&&e.set(n,t);return t}(t("q1tI")),i=(r=t("17x9"))&&r.__esModule?r:{default:r};function a(){if("function"!==typeof WeakMap)return null;var n=new WeakMap;return a=function(){return n},n}function s(){return(s=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function c(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var l=n=>{var e,t;return t=e=class extends o.Component{constructor(...n){super(...n),c(this,"context",void 0)}getGLSize(){const{props:{width:n,height:e},context:{glSizable:t}}=this;if(n&&e)return[n,e];const[r,o]=t.getGLSize();return[n||r,e||o]}getChildContext(){return{glSizable:this}}render(){const{onConnectSizeComponentRef:e}=this.props,[t,r]=this.getGLSize();return o.default.createElement(n,s({ref:e},this.props,{width:t,height:r}))}},c(e,"displayName",`connectSize(${n.displayName||n.name||"?"})`),c(e,"propTypes",{width:i.default.number,height:i.default.number}),c(e,"contextTypes",{glSizable:i.default.object.isRequired}),c(e,"childContextTypes",{glSizable:i.default.object.isRequired}),t};e.default=l},"63NL":function(n,e,t){"use strict";n.exports=function(n,e){for(var t={},r=0;r<n.length;++r)for(var o=n[r].name.split("."),i=t,a=0;a<o.length;++a){var s=o[a].split("[");if(s.length>1){s[0]in i||(i[s[0]]=[]),i=i[s[0]];for(var c=1;c<s.length;++c){var l=parseInt(s[c]);c<s.length-1||a<o.length-1?(l in i||(c<s.length-1?i[l]=[]:i[l]={}),i=i[l]):i[l]=e?r:n[r].type}}else a<o.length-1?(s[0]in i||(i[s[0]]={}),i=i[s[0]]):i[s[0]]=e?r:n[r].type}return t}},"6v/u":function(n,e){n.exports=function(n){return atob(n)}},"8Kt/":function(n,e,t){"use strict";t("lSNA");e.__esModule=!0,e.defaultHead=f,e.default=void 0;var r,o=function(n){if(n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};var e=l();if(e&&e.has(n))return e.get(n);var t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var i=r?Object.getOwnPropertyDescriptor(n,o):null;i&&(i.get||i.set)?Object.defineProperty(t,o,i):t[o]=n[o]}t.default=n,e&&e.set(n,t);return t}(t("q1tI")),i=(r=t("Xuae"))&&r.__esModule?r:{default:r},a=t("lwAK"),s=t("FYa8"),c=t("/0+H");function l(){if("function"!==typeof WeakMap)return null;var n=new WeakMap;return l=function(){return n},n}function f(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[o.default.createElement("meta",{charSet:"utf-8"})];return n||e.push(o.default.createElement("meta",{name:"viewport",content:"width=device-width"})),e}function p(n,e){return"string"===typeof e||"number"===typeof e?n:e.type===o.default.Fragment?n.concat(o.default.Children.toArray(e.props.children).reduce((function(n,e){return"string"===typeof e||"number"===typeof e?n:n.concat(e)}),[])):n.concat(e)}var u=["name","httpEquiv","charSet","itemProp"];function d(n,e){return n.reduce((function(n,e){var t=o.default.Children.toArray(e.props.children);return n.concat(t)}),[]).reduce(p,[]).reverse().concat(f(e.inAmpMode)).filter(function(){var n=new Set,e=new Set,t=new Set,r={};return function(o){var i=!0;if(o.key&&"number"!==typeof o.key&&o.key.indexOf("$")>0){var a=o.key.slice(o.key.indexOf("$")+1);n.has(a)?i=!1:n.add(a)}switch(o.type){case"title":case"base":e.has(o.type)?i=!1:e.add(o.type);break;case"meta":for(var s=0,c=u.length;s<c;s++){var l=u[s];if(o.props.hasOwnProperty(l))if("charSet"===l)t.has(l)?i=!1:t.add(l);else{var f=o.props[l],p=r[l]||new Set;p.has(f)?i=!1:(p.add(f),r[l]=p)}}}return i}}()).reverse().map((function(n,e){var t=n.key||e;return o.default.cloneElement(n,{key:t})}))}function v(n){var e=n.children,t=(0,o.useContext)(a.AmpStateContext),r=(0,o.useContext)(s.HeadManagerContext);return o.default.createElement(i.default,{reduceComponentsToState:d,headManager:r,inAmpMode:(0,c.isInAmpMode)(t)},e)}v.rewind=function(){};var h=v;e.default=h},"8e5R":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=class{onSurfaceMount(n){}onSurfaceUnmount(n){}onSurfaceGLContextChange(n,e){}onSurfaceDrawSkipped(n){}onSurfaceDrawStart(n){}onSurfaceDrawError(n){return!1}onSurfaceDrawEnd(n){}onNodeDrawSkipped(n){}onNodeDrawStart(n){}onNodeSyncDeps(n,e,t){}onNodeDraw(n,e){}onNodeDrawEnd(n){}}},"8oxB":function(n,e){var t,r,o=n.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(n){if(t===setTimeout)return setTimeout(n,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(n,0);try{return t(n,0)}catch(e){try{return t.call(null,n,0)}catch(e){return t.call(this,n,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(n){t=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(n){r=a}}();var c,l=[],f=!1,p=-1;function u(){f&&c&&(f=!1,c.length?l=c.concat(l):p=-1,l.length&&d())}function d(){if(!f){var n=s(u);f=!0;for(var e=l.length;e;){for(c=l,l=[];++p<e;)c&&c[p].run();p=-1,e=l.length}c=null,f=!1,function(n){if(r===clearTimeout)return clearTimeout(n);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(n);try{r(n)}catch(e){try{return r.call(null,n)}catch(e){return r.call(this,n)}}}(n)}}function v(n,e){this.fun=n,this.array=e}function h(){}o.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];l.push(new v(n,e)),1!==l.length||f||s(d)},v.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(n){return[]},o.binding=function(n){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(n){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"9fJb":function(n,e,t){var r=t("GTa7");n.exports=r.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},"9kyW":function(n,e,t){"use strict";n.exports=function(n){for(var e=5381,t=n.length;t;)e=33*e^n.charCodeAt(--t);return e>>>0}},"9tIV":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(n){if(n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};var e=s();if(e&&e.has(n))return e.get(n);var t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var i=r?Object.getOwnPropertyDescriptor(n,o):null;i&&(i.get||i.set)?Object.defineProperty(t,o,i):t[o]=n[o]}t.default=n,e&&e.set(n,t);return t}(t("q1tI")),o=a(t("JwSf")),i=a(t("M/JY"));function a(n){return n&&n.__esModule?n:{default:n}}function s(){if("function"!==typeof WeakMap)return null;var n=new WeakMap;return s=function(){return n},n}function c(){return(c=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function l(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}function f(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}class p extends r.Component{constructor(...n){super(...n),f(this,"_node",void 0),f(this,"_onRef",(n=>{this._node=n}))}getNodeRef(){return this._node}render(){const n=this.props,{children:e}=n,t=l(n,["children"]);return r.default.createElement(o.default,c({},t,{ref:this._onRef,shader:i.default,blendFunc:{src:"one",dst:"one minus src alpha"},uniformsOptions:{t:{interpolation:"linear"}},uniforms:{t:e}}))}}var u=p;e.default=u},AAS3:function(n,e,t){var r=t("hYYf");n.exports=function(n,e){var t=r(e),o=[];return o=(o=o.concat(t(n))).concat(t(null))}},B9vp:function(n,e,t){var r=t("4Z/T").sprintf,o=t("tCpK"),i=t("st01"),a=t("kR76");n.exports=function(n,e,t){"use strict";var s=i(e)||"of unknown name (see npm glsl-shader-name)",c="unknown type";void 0!==t&&(c=t===o.FRAGMENT_SHADER?"fragment":"vertex");for(var l=r("Error compiling %s shader %s:\n",c,s),f=r("%s%s",l,n),p=n.split("\n"),u={},d=0;d<p.length;d++){var v=p[d];if(""!==v&&"\0"!==v){var h=parseInt(v.split(":")[2]);if(isNaN(h))throw new Error(r("Could not parse error: %s",v));u[h]=v}}var m=a(e).split("\n");for(d=0;d<m.length;d++)if(u[d+3]||u[d+2]||u[d+1]){var g=m[d];if(l+=g+"\n",u[d+1]){var y=u[d+1];y=y.substr(y.split(":",3).join(":").length+1).trim(),l+=r("^^^ %s\n\n",y)}}return{long:l.trim(),short:f.trim()}}},BEtg:function(n,e){function t(n){return!!n.constructor&&"function"===typeof n.constructor.isBuffer&&n.constructor.isBuffer(n)}n.exports=function(n){return null!=n&&(t(n)||function(n){return"function"===typeof n.readFloatLE&&"function"===typeof n.slice&&t(n.slice(0,0))}(n)||!!n._isBuffer)}},BkhO:function(n,e,t){var r=t("Xs3h");r=r.slice().filter((function(n){return!/^(gl\_|texture)/.test(n)})),n.exports=r.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},Bnag:function(n,e){n.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},Cz5J:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=(n,e,t)=>"webgl2"===t?n.getContext("webgl2",e):n.getContext("webgl",e)||n.getContext("webgl-experimental",e)||n.getContext("experimental-webgl",e)},EEdt:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t("TGEO");class o extends r.WebGLTextureLoaderAsyncHashCache{canLoad(n){return n instanceof HTMLVideoElement}inputHash(n){return n}loadNoCache(n){const{gl:e}=this,{width:t,height:r}=n;let o;return{dispose:()=>{clearTimeout(o)},promise:new Promise(((t,r)=>{const i=()=>{if(n.videoWidth>0){const r=e.createTexture(),{videoWidth:o,videoHeight:i}=n;e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),t({texture:r,width:o,height:i})}else o=setTimeout(i,100)};i()}))}}update(n){const{gl:e}=this,t=this.get(n);t&&(e.bindTexture(e.TEXTURE_2D,t.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))}}r.globalRegistry.add(o);var i=o;e.default=i},EbDI:function(n,e){n.exports=function(n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}},F16p:function(n,e,t){"use strict";n.exports=function(n,e,t){return 0===n.length?n:e?(t||n.sort(e),function(n,e){for(var t=1,r=n.length,o=n[0],i=n[0],a=1;a<r;++a)if(i=o,e(o=n[a],i)){if(a===t){t++;continue}n[t++]=o}return n.length=t,n}(n,e)):(t||n.sort(),function(n){for(var e=1,t=n.length,r=n[0],o=n[0],i=1;i<t;++i,o=r)if(o=r,(r=n[i])!==o){if(i===e){e++;continue}n[e++]=r}return n.length=e,n}(n))}},FRc1:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(n){if(n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};var e=s();if(e&&e.has(n))return e.get(n);var t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var i=r?Object.getOwnPropertyDescriptor(n,o):null;i&&(i.get||i.set)?Object.defineProperty(t,o,i):t[o]=n[o]}t.default=n,e&&e.set(n,t);return t}(t("q1tI")),o=a(t("JwSf")),i=a(t("M/JY"));function a(n){return n&&n.__esModule?n:{default:n}}function s(){if("function"!==typeof WeakMap)return null;var n=new WeakMap;return s=function(){return n},n}function c(){return(c=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function l(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}function f(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}class p extends r.Component{constructor(...n){super(...n),f(this,"_node",void 0),f(this,"_onRef",(n=>{this._node=n}))}getNodeRef(){return this._node}render(){const n=this.props,{children:e}=n,t=l(n,["children"]);return r.default.createElement(o.default,c({},t,{ref:this._onRef,shader:i.default,blendFunc:{src:"one",dst:"one minus src alpha"},uniformsOptions:{t:{interpolation:"nearest"}},uniforms:{t:e}}))}}var u=p;e.default=u},FYa8:function(n,e,t){"use strict";var r;e.__esModule=!0,e.HeadManagerContext=void 0;var o=((r=t("q1tI"))&&r.__esModule?r:{default:r}).default.createContext({});e.HeadManagerContext=o},GL4Q:function(n,e,t){"use strict";t.d(e,"a",(function(){return s}));var r=t("nKUr"),o=t("q1tI"),i=t("e0Q9"),a=function(n){var e=n.Day,t=Object(o.useState)(0),i=t[0],a=t[1];return Object(o.useEffect)((function(){var n;requestAnimationFrame((function e(t){requestAnimationFrame(e),n||(n=t),a((t-n)/1e3)}))}),[]),Object(r.jsx)(e.Shader,{time:i})};function s(n){var e=n.Day;return Object(r.jsx)(i.Surface,{width:400,height:400,children:Object(r.jsx)(a,{Day:e},e.n)})}},GTa7:function(n,e){n.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},H7XF:function(n,e,t){"use strict";e.byteLength=function(n){var e=l(n),t=e[0],r=e[1];return 3*(t+r)/4-r},e.toByteArray=function(n){var e,t,r=l(n),a=r[0],s=r[1],c=new i(function(n,e,t){return 3*(e+t)/4-t}(0,a,s)),f=0,p=s>0?a-4:a;for(t=0;t<p;t+=4)e=o[n.charCodeAt(t)]<<18|o[n.charCodeAt(t+1)]<<12|o[n.charCodeAt(t+2)]<<6|o[n.charCodeAt(t+3)],c[f++]=e>>16&255,c[f++]=e>>8&255,c[f++]=255&e;2===s&&(e=o[n.charCodeAt(t)]<<2|o[n.charCodeAt(t+1)]>>4,c[f++]=255&e);1===s&&(e=o[n.charCodeAt(t)]<<10|o[n.charCodeAt(t+1)]<<4|o[n.charCodeAt(t+2)]>>2,c[f++]=e>>8&255,c[f++]=255&e);return c},e.fromByteArray=function(n){for(var e,t=n.length,o=t%3,i=[],a=16383,s=0,c=t-o;s<c;s+=a)i.push(f(n,s,s+a>c?c:s+a));1===o?(e=n[t-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(n[t-2]<<8)+n[t-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function l(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");return-1===t&&(t=e),[t,t===e?0:4-t%4]}function f(n,e,t){for(var o,i,a=[],s=e;s<t;s+=3)o=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(255&n[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},HDXh:function(n,e,t){"use strict";(function(n){var r=t("H7XF"),o=t("kVK+"),i=t("49sm");function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(n,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(e)).__proto__=c.prototype:(null===n&&(n=new c(e)),n.length=e),n}function c(n,e,t){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(n,e,t);if("number"===typeof n){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,n)}return l(this,n,e,t)}function l(n,e,t,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?function(n,e,t,r){if(e.byteLength,t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);c.TYPED_ARRAY_SUPPORT?(n=e).__proto__=c.prototype:n=u(n,e);return n}(n,e,t,r):"string"===typeof e?function(n,e,t){"string"===typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(e,t),o=(n=s(n,r)).write(e,t);o!==r&&(n=n.slice(0,o));return n}(n,e,t):function(n,e){if(c.isBuffer(e)){var t=0|d(e.length);return 0===(n=s(n,t)).length||e.copy(n,0,0,t),n}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||(r=e.length)!==r?s(n,0):u(n,e);if("Buffer"===e.type&&i(e.data))return u(n,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(n,e)}function f(n){if("number"!==typeof n)throw new TypeError('"size" argument must be a number');if(n<0)throw new RangeError('"size" argument must not be negative')}function p(n,e){if(f(e),n=s(n,e<0?0:0|d(e)),!c.TYPED_ARRAY_SUPPORT)for(var t=0;t<e;++t)n[t]=0;return n}function u(n,e){var t=e.length<0?0:0|d(e.length);n=s(n,t);for(var r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(n){if(n>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|n}function v(n,e){if(c.isBuffer(n))return n.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(n)||n instanceof ArrayBuffer))return n.byteLength;"string"!==typeof n&&(n=""+n);var t=n.length;if(0===t)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return F(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return q(n).length;default:if(r)return F(n).length;e=(""+e).toLowerCase(),r=!0}}function h(n,e,t){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===t||t>this.length)&&(t=this.length),t<=0)return"";if((t>>>=0)<=(e>>>=0))return"";for(n||(n="utf8");;)switch(n){case"hex":return j(this,e,t);case"utf8":case"utf-8":return R(this,e,t);case"ascii":return O(this,e,t);case"latin1":case"binary":return I(this,e,t);case"base64":return T(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),r=!0}}function m(n,e,t){var r=n[e];n[e]=n[t],n[t]=r}function g(n,e,t,r,o){if(0===n.length)return-1;if("string"===typeof t?(r=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=o?0:n.length-1),t<0&&(t=n.length+t),t>=n.length){if(o)return-1;t=n.length-1}else if(t<0){if(!o)return-1;t=0}if("string"===typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:y(n,e,t,r,o);if("number"===typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(n,e,t):Uint8Array.prototype.lastIndexOf.call(n,e,t):y(n,[e],t,r,o);throw new TypeError("val must be string, number or Buffer")}function y(n,e,t,r,o){var i,a=1,s=n.length,c=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(n.length<2||e.length<2)return-1;a=2,s/=2,c/=2,t/=2}function l(n,e){return 1===a?n[e]:n.readUInt16BE(e*a)}if(o){var f=-1;for(i=t;i<s;i++)if(l(n,i)===l(e,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===c)return f*a}else-1!==f&&(i-=i-f),f=-1}else for(t+c>s&&(t=s-c),i=t;i>=0;i--){for(var p=!0,u=0;u<c;u++)if(l(n,i+u)!==l(e,u)){p=!1;break}if(p)return i}return-1}function x(n,e,t,r){t=Number(t)||0;var o=n.length-t;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!==0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;n[t+a]=s}return a}function b(n,e,t,r){return G(F(e,n.length-t),n,t,r)}function _(n,e,t,r){return G(function(n){for(var e=[],t=0;t<n.length;++t)e.push(255&n.charCodeAt(t));return e}(e),n,t,r)}function w(n,e,t,r){return _(n,e,t,r)}function S(n,e,t,r){return G(q(e),n,t,r)}function E(n,e,t,r){return G(function(n,e){for(var t,r,o,i=[],a=0;a<n.length&&!((e-=2)<0);++a)r=(t=n.charCodeAt(a))>>8,o=t%256,i.push(o),i.push(r);return i}(e,n.length-t),n,t,r)}function T(n,e,t){return 0===e&&t===n.length?r.fromByteArray(n):r.fromByteArray(n.slice(e,t))}function R(n,e,t){t=Math.min(n.length,t);for(var r=[],o=e;o<t;){var i,a,s,c,l=n[o],f=null,p=l>239?4:l>223?3:l>191?2:1;if(o+p<=t)switch(p){case 1:l<128&&(f=l);break;case 2:128===(192&(i=n[o+1]))&&(c=(31&l)<<6|63&i)>127&&(f=c);break;case 3:i=n[o+1],a=n[o+2],128===(192&i)&&128===(192&a)&&(c=(15&l)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(f=c);break;case 4:i=n[o+1],a=n[o+2],s=n[o+3],128===(192&i)&&128===(192&a)&&128===(192&s)&&(c=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(f=c)}null===f?(f=65533,p=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),o+=p}return function(n){var e=n.length;if(e<=z)return String.fromCharCode.apply(String,n);var t="",r=0;for(;r<e;)t+=String.fromCharCode.apply(String,n.slice(r,r+=z));return t}(r)}e.Buffer=c,e.SlowBuffer=function(n){+n!=n&&(n=0);return c.alloc(+n)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:function(){try{var n=new Uint8Array(1);return n.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===n.foo()&&"function"===typeof n.subarray&&0===n.subarray(1,1).byteLength}catch(e){return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(n){return n.__proto__=c.prototype,n},c.from=function(n,e,t){return l(null,n,e,t)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(n,e,t){return function(n,e,t,r){return f(e),e<=0?s(n,e):void 0!==t?"string"===typeof r?s(n,e).fill(t,r):s(n,e).fill(t):s(n,e)}(null,n,e,t)},c.allocUnsafe=function(n){return p(null,n)},c.allocUnsafeSlow=function(n){return p(null,n)},c.isBuffer=function(n){return!(null==n||!n._isBuffer)},c.compare=function(n,e){if(!c.isBuffer(n)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(n===e)return 0;for(var t=n.length,r=e.length,o=0,i=Math.min(t,r);o<i;++o)if(n[o]!==e[o]){t=n[o],r=e[o];break}return t<r?-1:r<t?1:0},c.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(n,e){if(!i(n))throw new TypeError('"list" argument must be an Array of Buffers');if(0===n.length)return c.alloc(0);var t;if(void 0===e)for(e=0,t=0;t<n.length;++t)e+=n[t].length;var r=c.allocUnsafe(e),o=0;for(t=0;t<n.length;++t){var a=n[t];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},c.byteLength=v,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var n=this.length;if(n%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<n;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){var n=this.length;if(n%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<n;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){var n=this.length;if(n%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<n;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){var n=0|this.length;return 0===n?"":0===arguments.length?R(this,0,n):h.apply(this,arguments)},c.prototype.equals=function(n){if(!c.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n||0===c.compare(this,n)},c.prototype.inspect=function(){var n="",t=e.INSPECT_MAX_BYTES;return this.length>0&&(n=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(n+=" ... ")),"<Buffer "+n+">"},c.prototype.compare=function(n,e,t,r,o){if(!c.isBuffer(n))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===t&&(t=n?n.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||t>n.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=t)return 0;if(r>=o)return-1;if(e>=t)return 1;if(this===n)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(t>>>=0)-(e>>>=0),s=Math.min(i,a),l=this.slice(r,o),f=n.slice(e,t),p=0;p<s;++p)if(l[p]!==f[p]){i=l[p],a=f[p];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(n,e,t){return-1!==this.indexOf(n,e,t)},c.prototype.indexOf=function(n,e,t){return g(this,n,e,t,!0)},c.prototype.lastIndexOf=function(n,e,t){return g(this,n,e,t,!1)},c.prototype.write=function(n,e,t,r){if(void 0===e)r="utf8",t=this.length,e=0;else if(void 0===t&&"string"===typeof e)r=e,t=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(t)?(t|=0,void 0===r&&(r="utf8")):(r=t,t=void 0)}var o=this.length-e;if((void 0===t||t>o)&&(t=o),n.length>0&&(t<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return x(this,n,e,t);case"utf8":case"utf-8":return b(this,n,e,t);case"ascii":return _(this,n,e,t);case"latin1":case"binary":return w(this,n,e,t);case"base64":return S(this,n,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,n,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var z=4096;function O(n,e,t){var r="";t=Math.min(n.length,t);for(var o=e;o<t;++o)r+=String.fromCharCode(127&n[o]);return r}function I(n,e,t){var r="";t=Math.min(n.length,t);for(var o=e;o<t;++o)r+=String.fromCharCode(n[o]);return r}function j(n,e,t){var r=n.length;(!e||e<0)&&(e=0),(!t||t<0||t>r)&&(t=r);for(var o="",i=e;i<t;++i)o+=B(n[i]);return o}function A(n,e,t){for(var r=n.slice(e,t),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function C(n,e,t){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}function P(n,e,t,r,o,i){if(!c.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(t+r>n.length)throw new RangeError("Index out of range")}function D(n,e,t,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(n.length-t,2);o<i;++o)n[t+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function L(n,e,t,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(n.length-t,4);o<i;++o)n[t+o]=e>>>8*(r?o:3-o)&255}function N(n,e,t,r,o,i){if(t+r>n.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function M(n,e,t,r,i){return i||N(n,0,t,4),o.write(n,e,t,r,23,4),t+4}function k(n,e,t,r,i){return i||N(n,0,t,8),o.write(n,e,t,r,52,8),t+8}c.prototype.slice=function(n,e){var t,r=this.length;if((n=~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<n&&(e=n),c.TYPED_ARRAY_SUPPORT)(t=this.subarray(n,e)).__proto__=c.prototype;else{var o=e-n;t=new c(o,void 0);for(var i=0;i<o;++i)t[i]=this[i+n]}return t},c.prototype.readUIntLE=function(n,e,t){n|=0,e|=0,t||C(n,e,this.length);for(var r=this[n],o=1,i=0;++i<e&&(o*=256);)r+=this[n+i]*o;return r},c.prototype.readUIntBE=function(n,e,t){n|=0,e|=0,t||C(n,e,this.length);for(var r=this[n+--e],o=1;e>0&&(o*=256);)r+=this[n+--e]*o;return r},c.prototype.readUInt8=function(n,e){return e||C(n,1,this.length),this[n]},c.prototype.readUInt16LE=function(n,e){return e||C(n,2,this.length),this[n]|this[n+1]<<8},c.prototype.readUInt16BE=function(n,e){return e||C(n,2,this.length),this[n]<<8|this[n+1]},c.prototype.readUInt32LE=function(n,e){return e||C(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]},c.prototype.readUInt32BE=function(n,e){return e||C(n,4,this.length),16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])},c.prototype.readIntLE=function(n,e,t){n|=0,e|=0,t||C(n,e,this.length);for(var r=this[n],o=1,i=0;++i<e&&(o*=256);)r+=this[n+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(n,e,t){n|=0,e|=0,t||C(n,e,this.length);for(var r=e,o=1,i=this[n+--r];r>0&&(o*=256);)i+=this[n+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(n,e){return e||C(n,1,this.length),128&this[n]?-1*(255-this[n]+1):this[n]},c.prototype.readInt16LE=function(n,e){e||C(n,2,this.length);var t=this[n]|this[n+1]<<8;return 32768&t?4294901760|t:t},c.prototype.readInt16BE=function(n,e){e||C(n,2,this.length);var t=this[n+1]|this[n]<<8;return 32768&t?4294901760|t:t},c.prototype.readInt32LE=function(n,e){return e||C(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},c.prototype.readInt32BE=function(n,e){return e||C(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},c.prototype.readFloatLE=function(n,e){return e||C(n,4,this.length),o.read(this,n,!0,23,4)},c.prototype.readFloatBE=function(n,e){return e||C(n,4,this.length),o.read(this,n,!1,23,4)},c.prototype.readDoubleLE=function(n,e){return e||C(n,8,this.length),o.read(this,n,!0,52,8)},c.prototype.readDoubleBE=function(n,e){return e||C(n,8,this.length),o.read(this,n,!1,52,8)},c.prototype.writeUIntLE=function(n,e,t,r){(n=+n,e|=0,t|=0,r)||P(this,n,e,t,Math.pow(2,8*t)-1,0);var o=1,i=0;for(this[e]=255&n;++i<t&&(o*=256);)this[e+i]=n/o&255;return e+t},c.prototype.writeUIntBE=function(n,e,t,r){(n=+n,e|=0,t|=0,r)||P(this,n,e,t,Math.pow(2,8*t)-1,0);var o=t-1,i=1;for(this[e+o]=255&n;--o>=0&&(i*=256);)this[e+o]=n/i&255;return e+t},c.prototype.writeUInt8=function(n,e,t){return n=+n,e|=0,t||P(this,n,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),this[e]=255&n,e+1},c.prototype.writeUInt16LE=function(n,e,t){return n=+n,e|=0,t||P(this,n,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&n,this[e+1]=n>>>8):D(this,n,e,!0),e+2},c.prototype.writeUInt16BE=function(n,e,t){return n=+n,e|=0,t||P(this,n,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=n>>>8,this[e+1]=255&n):D(this,n,e,!1),e+2},c.prototype.writeUInt32LE=function(n,e,t){return n=+n,e|=0,t||P(this,n,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=n>>>24,this[e+2]=n>>>16,this[e+1]=n>>>8,this[e]=255&n):L(this,n,e,!0),e+4},c.prototype.writeUInt32BE=function(n,e,t){return n=+n,e|=0,t||P(this,n,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=n>>>24,this[e+1]=n>>>16,this[e+2]=n>>>8,this[e+3]=255&n):L(this,n,e,!1),e+4},c.prototype.writeIntLE=function(n,e,t,r){if(n=+n,e|=0,!r){var o=Math.pow(2,8*t-1);P(this,n,e,t,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&n;++i<t&&(a*=256);)n<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(n/a>>0)-s&255;return e+t},c.prototype.writeIntBE=function(n,e,t,r){if(n=+n,e|=0,!r){var o=Math.pow(2,8*t-1);P(this,n,e,t,o-1,-o)}var i=t-1,a=1,s=0;for(this[e+i]=255&n;--i>=0&&(a*=256);)n<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(n/a>>0)-s&255;return e+t},c.prototype.writeInt8=function(n,e,t){return n=+n,e|=0,t||P(this,n,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),n<0&&(n=255+n+1),this[e]=255&n,e+1},c.prototype.writeInt16LE=function(n,e,t){return n=+n,e|=0,t||P(this,n,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&n,this[e+1]=n>>>8):D(this,n,e,!0),e+2},c.prototype.writeInt16BE=function(n,e,t){return n=+n,e|=0,t||P(this,n,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=n>>>8,this[e+1]=255&n):D(this,n,e,!1),e+2},c.prototype.writeInt32LE=function(n,e,t){return n=+n,e|=0,t||P(this,n,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&n,this[e+1]=n>>>8,this[e+2]=n>>>16,this[e+3]=n>>>24):L(this,n,e,!0),e+4},c.prototype.writeInt32BE=function(n,e,t){return n=+n,e|=0,t||P(this,n,e,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),c.TYPED_ARRAY_SUPPORT?(this[e]=n>>>24,this[e+1]=n>>>16,this[e+2]=n>>>8,this[e+3]=255&n):L(this,n,e,!1),e+4},c.prototype.writeFloatLE=function(n,e,t){return M(this,n,e,!0,t)},c.prototype.writeFloatBE=function(n,e,t){return M(this,n,e,!1,t)},c.prototype.writeDoubleLE=function(n,e,t){return k(this,n,e,!0,t)},c.prototype.writeDoubleBE=function(n,e,t){return k(this,n,e,!1,t)},c.prototype.copy=function(n,e,t,r){if(t||(t=0),r||0===r||(r=this.length),e>=n.length&&(e=n.length),e||(e=0),r>0&&r<t&&(r=t),r===t)return 0;if(0===n.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),n.length-e<r-t&&(r=n.length-e+t);var o,i=r-t;if(this===n&&t<e&&e<r)for(o=i-1;o>=0;--o)n[o+e]=this[o+t];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)n[o+e]=this[o+t];else Uint8Array.prototype.set.call(n,this.subarray(t,t+i),e);return i},c.prototype.fill=function(n,e,t,r){if("string"===typeof n){if("string"===typeof e?(r=e,e=0,t=this.length):"string"===typeof t&&(r=t,t=this.length),1===n.length){var o=n.charCodeAt(0);o<256&&(n=o)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof n&&(n&=255);if(e<0||this.length<e||this.length<t)throw new RangeError("Out of range index");if(t<=e)return this;var i;if(e>>>=0,t=void 0===t?this.length:t>>>0,n||(n=0),"number"===typeof n)for(i=e;i<t;++i)this[i]=n;else{var a=c.isBuffer(n)?n:F(new c(n,r).toString()),s=a.length;for(i=0;i<t-e;++i)this[i+e]=a[i%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function B(n){return n<16?"0"+n.toString(16):n.toString(16)}function F(n,e){var t;e=e||1/0;for(var r=n.length,o=null,i=[],a=0;a<r;++a){if((t=n.charCodeAt(a))>55295&&t<57344){if(!o){if(t>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=t;continue}if(t<56320){(e-=3)>-1&&i.push(239,191,189),o=t;continue}t=65536+(o-55296<<10|t-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,t<128){if((e-=1)<0)break;i.push(t)}else if(t<2048){if((e-=2)<0)break;i.push(t>>6|192,63&t|128)}else if(t<65536){if((e-=3)<0)break;i.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return i}function q(n){return r.toByteArray(function(n){if((n=function(n){return n.trim?n.trim():n.replace(/^\s+|\s+$/g,"")}(n).replace(U,"")).length<2)return"";for(;n.length%4!==0;)n+="=";return n}(n))}function G(n,e,t,r){for(var o=0;o<r&&!(o+t>=e.length||o>=n.length);++o)e[o+t]=n[o];return o}}).call(this,t("yLpj"))},HbIt:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=class{constructor(n){var e,t,r;r=void 0,(t="gl")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,this.gl=n}dispose(){}canLoad(n){return!1}load(n){return Promise.reject("load() is not implemented")}get(n){return null}update(n){}}},IDFI:function(n,e,t){"use strict";n.exports=function(n){for(var e=new Array(n),t=0;t<n;++t)e[t]=t;return e}},Ijbi:function(n,e,t){var r=t("WkPL");n.exports=function(n){if(Array.isArray(n))return r(n)}},IrQ8:function(n,e,t){"use strict";e.shader=function(n,e,t){return f(n).getShaderReference(e,t)},e.program=function(n,e,t,r,o){return f(n).getProgram(e,t,r,o)};var r=t("o/2B"),o=t("B9vp"),i=new("undefined"===typeof WeakMap?t("/MXg"):WeakMap),a=0;function s(n,e,t,r,o,i,a){this.id=n,this.src=e,this.type=t,this.shader=r,this.count=i,this.programs=[],this.cache=a}function c(n){this.gl=n,this.shaders=[{},{}],this.programs={}}s.prototype.dispose=function(){if(0===--this.count){for(var n=this.cache,e=n.gl,t=this.programs,r=0,o=t.length;r<o;++r){var i=n.programs[t[r]];i&&(delete n.programs[r],e.deleteProgram(i))}e.deleteShader(this.shader),delete n.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};var l=c.prototype;function f(n){var e=i.get(n);return e||(e=new c(n),i.set(n,e)),e}l.getShaderReference=function(n,e){var t=this.gl,i=this.shaders[n===t.FRAGMENT_SHADER|0],c=i[e];if(c&&t.isShader(c.shader))c.count+=1;else{var l=function(n,e,t){var i=n.createShader(e);if(n.shaderSource(i,t),n.compileShader(i),!n.getShaderParameter(i,n.COMPILE_STATUS)){var a=n.getShaderInfoLog(i);try{var s=o(a,t,e)}catch(c){throw console.warn("Failed to format compiler error: "+c),new r(a,"Error compiling shader:\n"+a)}throw new r(a,s.short,s.long)}return i}(t,n,e);c=i[e]=new s(a++,e,n,l,[],1,this)}return c},l.getProgram=function(n,e,t,o){var i=[n.id,e.id,t.join(":"),o.join(":")].join("@"),a=this.programs[i];return a&&this.gl.isProgram(a)||(this.programs[i]=a=function(n,e,t,o,i){var a=n.createProgram();n.attachShader(a,e),n.attachShader(a,t);for(var s=0;s<o.length;++s)n.bindAttribLocation(a,i[s],o[s]);if(n.linkProgram(a),!n.getProgramParameter(a,n.LINK_STATUS)){var c=n.getProgramInfoLog(a);throw new r(c,"Error linking program: "+c)}return a}(this.gl,n.shader,e.shader,t,o),n.programs.push(i),e.programs.push(i)),a}},JwSf:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=h(t("QLaP")),o=v(t("q1tI")),i=h(t("17x9")),a=h(t("zqV6")),s=h(t("tbvF")),c=h(t("nXQg")),l=h(t("dLFq")),f=v(t("laZL")),p=h(t("Um7X")),u=h(t("5lXm"));function d(){if("function"!==typeof WeakMap)return null;var n=new WeakMap;return d=function(){return n},n}function v(n){if(n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};var e=d();if(e&&e.has(n))return e.get(n);var t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var i=r?Object.getOwnPropertyDescriptor(n,o):null;i&&(i.get||i.set)?Object.defineProperty(t,o,i):t[o]=n[o]}return t.default=n,e&&e.set(n,t),t}function h(n){return n&&n.__esModule?n:{default:n}}function m(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function g(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?m(Object(t),!0).forEach((function(e){y(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function y(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const x={zero:"ZERO",one:"ONE","src color":"SRC_COLOR","one minus src color":"ONE_MINUS_SRC_COLOR","src alpha":"SRC_ALPHA","one minus src alpha":"ONE_MINUS_SRC_ALPHA","dst color":"DST_COLOR","one minus dst color":"ONE_MINUS_DST_COLOR","dst alpha":"DST_ALPHA","one minus dst alpha":"ONE_MINUS_DST_ALPHA","constant color":"CONSTANT_COLOR","one minus constant color":"ONE_MINUS_CONSTANT_COLOR","constant alpha":"CONSTANT_ALPHA","one minus constant alpha":"ONE_MINUS_CONSTANT_ALPHA","src alpha saturate":"SRC_ALPHA_SATURATE"},b=({width:n,height:e},{glSizable:t})=>{if(n&&e)return[n,e];const[r,o]=t.getGLSize();return[n||r,e||o]},_=(n,e)=>{if(e in n)return n[e];if(e in x){const t=x[e];if(t in n)return n[t]}console.warn("Invalid blendFunc. Got:",e)},w=(n,e)=>{switch(e){case"clamp to edge":return n.CLAMP_TO_EDGE;case"repeat":return n.REPEAT;case"mirrored repeat":return n.MIRRORED_REPEAT;default:return console.warn("Invalid wrap. Got:",e),n.CLAMP_TO_EDGE}},S=(n,e,t)=>{var r=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,r);var o=n.createTexture();if(!o)throw new Error("createTexture returned null");return n.bindTexture(n.TEXTURE_2D,o),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,e,t,0,n.RGBA,n.UNSIGNED_BYTE,null),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,o,0),{handle:r,color:o,bind:()=>{n.bindFramebuffer(n.FRAMEBUFFER,r),n.viewport(0,0,e,t)},syncSize:(r,i)=>{r===e&&i===t||(e=r,t=i,n.bindTexture(n.TEXTURE_2D,o),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,r,i,0,n.RGBA,n.UNSIGNED_BYTE,null))},dispose:()=>{n.deleteFramebuffer(r),n.deleteTexture(o)}}},E={interpolation:"linear",wrap:["clamp to edge","clamp to edge"]},T=(n,e)=>{const t=g(g({},E),e);let r,o,i=((n,e)=>{switch(e){case"linear":return n.LINEAR;case"nearest":return n.NEAREST;default:return console.warn("Invalid interpolation. Got:",e),n.LINEAR}})(n,t.interpolation);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,i),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,i),Array.isArray(t.wrap)?2!==t.wrap.length?(console.warn("textureOptions wrap: should be an array of 2 values. Got:",t.wrap),r=o=n.CLAMP_TO_EDGE):(r=w(n,t.wrap[0]),o=w(n,t.wrap[1])):r=o=w(n,t.wrap),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,o)},R={shader:i.default.object.isRequired,uniformsOptions:i.default.object,uniforms:i.default.object,ignoreUnusedUniforms:i.default.any,sync:i.default.bool,width:i.default.number,height:i.default.number,children:i.default.any,backbuffering:i.default.bool,blendFunc:i.default.object,clear:i.default.object,onDraw:i.default.func};class z extends o.Component{constructor(...n){super(...n),y(this,"drawProps",this.props),y(this,"context",void 0),y(this,"framebuffer",void 0),y(this,"backbuffer",void 0),y(this,"_needsRedraw",!1),y(this,"capturePixelsArray",void 0),y(this,"id",(0,u.default)()),y(this,"uniformsBus",{}),y(this,"dependencies",[]),y(this,"dependents",[]),y(this,"_resolveElement",((n,e,t)=>{if(!o.default.isValidElement(e)){if("function"!==typeof e)return;if(e=e(this.redraw),!o.default.isValidElement(e))return}return o.default.createElement(l.default,{key:n+(t?"."+t:""),uniform:n,index:t},e)})),y(this,"_renderUniformElement",(n=>{const{uniforms:e}=this.props;let t=e[n];return Array.isArray(t)?t.map(((e,t)=>this._resolveElement(n,e,t))):this._resolveElement(n,t,0)})),y(this,"redraw",(()=>{this._needsRedraw||(this._needsRedraw=!0,this.dependents.forEach((n=>n.redraw())))})),y(this,"flush",(()=>{this.context.glSurface._draw()})),y(this,"_latestShaderInfo",void 0),y(this,"_shader",void 0)}getChildContext(){return{glParent:this,glSizable:this}}componentDidMount(){const{glSurface:{gl:n}}=this.context;n&&this._prepareGLObjects(n),this.context.glParent._addGLNodeChild(this),this.redraw(),this.props.sync&&this.flush()}componentWillUnmount(){const{capturePixelsArray:n}=this;this._destroyGLObjects(),n&&a.default.freeUint8(n),this._needsRedraw=!1,this.context.glParent._removeGLNodeChild(this),this.dependencies.forEach((n=>n._removeDependent(this)))}_syncNextDrawProps(n,e){const t=b(n,e);this.framebuffer&&this.framebuffer.syncSize(...t),this.backbuffer&&this.backbuffer.syncSize(...t),(0,r.default)(n.backbuffering===this.drawProps.backbuffering,"Node backbuffering prop must not changed. (not yet supported)"),this.drawProps=n}render(){const{children:n,uniforms:e}=this.props,{glSurface:{RenderLessElement:t}}=this.context;return o.default.createElement(t,null,n,Object.keys(e).map(this._renderUniformElement))}componentDidUpdate(){this._syncNextDrawProps(this.props,this.context),this.redraw(),this.props.sync&&this.flush()}getGLShortName(){const{shader:n}=this.drawProps;return`Node(${(0,f.isShaderIdentifier)(n)?f.default.getShortName(n):"<inline>"})`}getGLName(){const{shader:n}=this.drawProps,e=(0,f.isShaderIdentifier)(n)?f.default.getName(n):"<inline>";return`Node#${this.id}(${e})`}getGLSize(){return b(this.drawProps,this.context)}getGLOutput(){const{framebuffer:n}=this;return(0,r.default)(n,"Node#getGLOutput: framebuffer is not defined. It cannot be called on a root Node"),n.color}getGLBackbufferOutput(){const{backbuffer:n}=this;return(0,r.default)(n,"Node#getGLBackbufferOutput: backbuffer is not defined. Make sure `backbuffering` prop is defined"),n.color}setDrawProps(n){const e=g(g({},this.drawProps),n);this._syncNextDrawProps(e,this.context),this.redraw(),e.sync&&this.flush()}capture(n,e,t,o){const[i,a]=this.getGLSize(),{gl:c}=this.context.glSurface;(0,r.default)(c,"gl is no longer available"),void 0===n&&(n=0),void 0===e&&(e=0),void 0===t&&(t=i-n),void 0===o&&(o=a-e),(0,r.default)(n>=0&&n+t<=i&&e>=0&&e+o<=a,"capture(%s,%s,%s,%s): requested rectangle is out of bounds (%s,%s)",n,e,t,o,i,a);const l=t*o*4,f=this._captureAlloc(l);return this._bind(),c.readPixels(n,e,t,o,c.RGBA,c.UNSIGNED_BYTE,f),(0,s.default)(f,[o,t,4]).step(-1,1,1).transpose(1,0,2)}_destroyGLObjects(){const{glSurface:n}=this.context;if(n.glIsAvailable()){const{framebuffer:n,backbuffer:e,_shader:t}=this;t&&t.dispose(),n&&n.dispose(),e&&e.dispose()}delete this._shader,delete this.framebuffer,delete this.backbuffer}_prepareGLObjects(n){const[e,t]=this.getGLSize(),{glParent:o,glSurface:i}=this.context;if(o===i)(0,r.default)(!this.drawProps.backbuffering,"`backbuffering` is currently not supported for a Root Node. Try to wrap %s in a <LinearCopy> or <NearestCopy>.",this.getGLName());else{const r=S(n,e,t);if(this.framebuffer=r,this.drawProps.backbuffering){const r=S(n,e,t);this.backbuffer=r}}}_onContextLost(){this.dependencies.forEach((n=>n._onContextLost())),this._destroyGLObjects()}_onContextRestored(n){this._prepareGLObjects(n),this.dependencies.forEach((e=>e._onContextRestored(n))),this._needsRedraw=!0}_addGLNodeChild(n){}_removeGLNodeChild(n){}_addUniformBus(n,e,t){(this.uniformsBus[e]||(this.uniformsBus[e]=[]))[t]=n}_removeUniformBus(n,e,t){const r=this.uniformsBus[e]||(this.uniformsBus[e]=[]);r[t]===n&&(r[t]=null)}_addDependent(n){-1===this.dependents.indexOf(n)&&((0,p.default)(this,n),this.dependents.push(n))}_removeDependent(n){const e=this.dependents.indexOf(n);-1!==e&&this.dependents.splice(e,1)}_syncDependencies(n){const e=this.dependencies,t=n.filter((n=>-1===e.indexOf(n))),r=e.filter((e=>-1===n.indexOf(e)));return t.forEach((n=>n._addDependent(this))),r.forEach((n=>n._removeDependent(this))),this.dependencies=n,[t,r]}_bind(){this.framebuffer?this.framebuffer.bind():this.context.glSurface._bindRootNode()}_captureAlloc(n){let{capturePixelsArray:e}=this;e&&n!==e.length&&(a.default.freeUint8(e),e=null);const t=e||a.default.mallocUint8(n);return this.capturePixelsArray=t,t}_getShader(n){const{glSurface:e}=this.context,t=this.getGLName();if((0,r.default)(n,t+": shader prop must be provided"),(0,f.isShaderIdentifier)(n))return e._getShader(n);const o=(0,f.shaderDefinitionToShaderInfo)((0,f.ensureShaderDefinition)(n," in "+t),t),i=this._latestShaderInfo;let a=this._shader;return a&&i&&(0,f.shaderInfoEquals)(i,o)||(a&&(a.dispose(),delete this._shader),a=e._makeShader(o),this._latestShaderInfo=o,this._shader=a),a}_draw(){const{glSurface:n}=this.context,{gl:e}=n,t=n.getVisitors(),o=this.getGLName();if(!e||!this._needsRedraw)return void t.forEach((n=>n.onNodeDrawSkipped(this)));const{backbuffering:i,uniforms:a,uniformsOptions:s,shader:f,blendFunc:p,clear:u,onDraw:d,ignoreUnusedUniforms:v}=this.drawProps;if(!this.framebuffer){const{glSizable:n}=this.context,[e,t]=n.getGLSize(),[i,a]=this.getGLSize();(0,r.default)(i===e&&a===t,o+" is root but have overrided {width=%s,height=%s} which doesn't match Surface size {width=%s,height=%s}. Try to wrap your Node in a <NearestCopy> or <LinearCopy>",i,a,e,t)}const h=this._getShader(f);this._needsRedraw=!1;const{types:m}=h,g=[],y=[];let x=0;const b=Object.keys(m.uniforms),w=Object.keys(a),{uniformsBus:S}=this;for(let r in S)r in a||w.push(r);const E=new Map,R=(t,i,a)=>{let s,f,p=t;if("function"===typeof p&&(p=p(this.redraw)),p){if((n=>"Backbuffer"===n?(console.warn('Backbuffer is deprecated, use Uniform.Backbuffer instead: `import {Uniform} from "gl-react"`'),!0):n===c.default.Backbuffer)(p))this.drawProps.backbuffering||console.warn(`${o}, uniform ${a}: you must set \`backbuffering\` on Node when using Backbuffer`),f={glNode:this,glNodePickBackbuffer:!0};else if((n=>n&&"object"===typeof n&&"BackbufferFrom"===n.type)(p)){(0,r.default)("object"===typeof p,"invalid backbufferFromNode. Got: %s",p);let n=p.node;n instanceof l.default&&(n=n.getGLRenderableNode(),(0,r.default)(n,"backbufferFromNode(bus) but bus.getGLRenderableNode() is %s",n)),(0,r.default)(n instanceof z,"invalid backbufferFromNode(obj): obj must be an instanceof Node or Bus. Got: %s",p),n.drawProps.backbuffering||console.warn(`${o}, uniform ${a}: you must set \`backbuffering\` on the Node referenced in backbufferFrom(${n.getGLName()})`),f={glNode:n,glNodePickBackbuffer:!0}}else if(p instanceof z)s=p,f={glNode:p};else if(p instanceof l.default){const n=p.getGLRenderableNode();if(n)s=n,f={glNode:n};else{s=p;const n=p.getGLRenderableContent();n?p=n:(console.warn(`${o}, uniform ${a}: child is not renderable. Got:`,n),f={directTexture:null})}}}else void 0===p&&console.warn(`${o}, uniform '${a}' is undefined.If you explicitely want to clear a texture, set it to null.`);if(!f&&p){const{loader:e,input:t}=n._resolveTextureLoader(p);if(e){const n=e.get(t);if(n)e.update(t),f={directTexture:n.texture,directTextureSize:[n.width,n.height]};else{const n=e.load(t);y.push(n)}}else console.warn(`${o}, uniform ${a}: no loader found for value`,t,p)}s&&g.push(s);const u=f?i:null;return{getMetaInfo:()=>({initialObj:t,obj:p,dependency:s,textureOptions:u}),getSize:()=>{const n=[2,2];return f?"directTextureSize"in f?f.directTextureSize:f.glNode?f.glNode.getGLSize():n:n},prepare:()=>{const t=f&&(f.directTexture||f.glNode&&(f.glNodePickBackbuffer?f.glNode.getGLBackbufferOutput():f.glNode.getGLOutput()))||n.getEmptyTexture();if(E.has(t))return E.get(t);const r=x++;return e.activeTexture(e.TEXTURE0+r),e.bindTexture(e.TEXTURE_2D,t),T(e,u),E.set(t,r),r}}},O=w.map((n=>{const e=m.uniforms[n];if(!e){return!0===v||v instanceof Array&&v.includes(n)||console.warn(`${o} uniform '${n}' is not declared, nor used, in your shader code`),{key:n,value:void 0}}const t=a[n];if(b.splice(b.indexOf(n),1),"sampler2D"===e){const r=S[n],{getMetaInfo:o,prepare:i}=R(r&&r[0]||t,s[n],n);return{key:n,type:e,getMetaInfo:o,prepare:i}}if(t===c.default.Resolution)return{key:n,type:e,value:this.getGLSize()};if((i=t)&&"object"===typeof i&&"TextureSize"===i.type){(0,r.default)(t&&"object"===typeof t,"unexpected textureSize object. Got: %s",t);const{getSize:i}=R(t.obj,null,n),a=i();a||console.warn(`${o}, uniform ${n}: texture size is undetermined`);const s=t.ratio?a?a[0]/a[1]:1:a||[0,0];return{key:n,type:e,value:s}}if(Array.isArray(e)&&"sampler2D"===e[0]){let r;const i=S[n],a=((n,e)=>{const t=[],r=Math.max(n.length,e.length);for(let o=0;o<r;o++)t[o]=e[o]||n[o];return t})(Array.isArray(t)?t:[],Array.isArray(i)?i:[]);a.length?a.length!==e.length?(console.warn(`${o}, uniform '${n}' should be an array of exactly ${e.length} textures (not ${a.length}).`),r=e.map((()=>null))):r=a:(console.warn(`${o}, uniform '${n}' should be an array of textures.`),r=e.map((()=>null)));const c=s[n],l=r.map(((e,t)=>R(e,c,n+"["+t+"]")));return{key:n,type:e,getMetaInfo:()=>l.reduce(((n,e)=>n.concat(e.getMetaInfo())),[]),prepare:()=>l.map((n=>n.prepare()))}}return void 0===t&&console.warn(`${o}, uniform '${n}' is undefined.`),{key:n,type:e,value:t};var i}));if(0!==b.length&&console.warn(o+": Missing uniforms: "+b.map((n=>`'${n}'`)).join(", ")+"\nall uniforms must be provided because implementations might share and reuse a Shader Program"),y.length>0)return Promise.all(y).then(this.redraw),void t.forEach((n=>n.onNodeDrawSkipped(this)));t.forEach((n=>n.onNodeDrawStart(this)));const[I,j]=this._syncDependencies(g);if(t.forEach((n=>n.onNodeSyncDeps(this,I,j))),i){const{backbuffer:n,framebuffer:e}=this;this.backbuffer=e,n&&(this.framebuffer=n)}if(this.dependencies.forEach((n=>n._draw())),t.forEach((n=>n.onNodeDraw(this,O))),h.bind(),this._bind(),O.forEach((n=>{const e=n.prepare?n.prepare():n.value;void 0!==e&&(h.uniforms[n.key]=e)})),p){const n=_(e,p.src),t=_(e,p.dst);n&&t&&e.blendFunc(n,t)}u&&(e.clearColor(...u.color),e.clear(e.COLOR_BUFFER_BIT)),e.drawArrays(e.TRIANGLES,0,3),d&&d(),t.forEach((n=>n.onNodeDrawEnd(this)))}}e.default=z,y(z,"propTypes",R),y(z,"defaultProps",{uniformsOptions:{},uniforms:{},blendFunc:{src:"src alpha",dst:"one minus src alpha"},clear:{color:[0,0,0,0]}}),y(z,"contextTypes",{glParent:i.default.object.isRequired,glSurface:i.default.object.isRequired,glSizable:i.default.object.isRequired}),y(z,"childContextTypes",{glParent:i.default.object.isRequired,glSizable:i.default.object.isRequired})},KN1S:function(n,e,t){"use strict";var r=t("0GS4"),o=t("fpEm"),i=t("63NL"),a=t("IrQ8"),s=t("1BqX"),c=t("o/2B");function l(n){this.gl=n,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var f=l.prototype;function p(n,e){return n.name<e.name?-1:1}f.bind=function(){var n;this.program||this._relink();var e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),t=this.gl.lastAttribCount;if(e>t)for(n=t;n<e;n++)this.gl.enableVertexAttribArray(n);else if(t>e)for(n=e;n<t;n++)this.gl.disableVertexAttribArray(n);this.gl.lastAttribCount=e,this.gl.useProgram(this.program)},f.dispose=function(){for(var n=this.gl.lastAttribCount,e=0;e<n;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},f.update=function(n,e,t,l){if(!e||1===arguments.length){var f=n;n=f.vertex,e=f.fragment,t=f.uniforms,l=f.attributes}var u=this,d=u.gl,v=u._vref;u._vref=a.shader(d,d.VERTEX_SHADER,n),v&&v.dispose(),u.vertShader=u._vref.shader;var h=this._fref;if(u._fref=a.shader(d,d.FRAGMENT_SHADER,e),h&&h.dispose(),u.fragShader=u._fref.shader,!t||!l){var m=d.createProgram();if(d.attachShader(m,u.fragShader),d.attachShader(m,u.vertShader),d.linkProgram(m),!d.getProgramParameter(m,d.LINK_STATUS)){var g=d.getProgramInfoLog(m);throw new c(g,"Error linking program:"+g)}t=t||s.uniforms(d,m),l=l||s.attributes(d,m),d.deleteProgram(m)}(l=l.slice()).sort(p);var y,x=[],b=[],_=[];for(y=0;y<l.length;++y){var w=l[y];if(w.type.indexOf("mat")>=0){for(var S=0|w.type.charAt(w.type.length-1),E=new Array(S),T=0;T<S;++T)E[T]=_.length,b.push(w.name+"["+T+"]"),"number"===typeof w.location?_.push(w.location+T):Array.isArray(w.location)&&w.location.length===S&&"number"===typeof w.location[T]?_.push(0|w.location[T]):_.push(-1);x.push({name:w.name,type:w.type,locations:E})}else x.push({name:w.name,type:w.type,locations:[_.length]}),b.push(w.name),"number"===typeof w.location?_.push(0|w.location):_.push(-1)}var R=0;for(y=0;y<_.length;++y)if(_[y]<0){for(;_.indexOf(R)>=0;)R+=1;_[y]=R}var z=new Array(t.length);function O(){u.program=a.program(d,u._vref,u._fref,b,_);for(var n=0;n<t.length;++n)z[n]=d.getUniformLocation(u.program,t[n].name)}O(),u._relink=O,u.types={uniforms:i(t),attributes:i(l)},u.attributes=o(d,u,x,_),Object.defineProperty(u,"uniforms",r(d,u,t,z))},n.exports=function(n,e,t,r,o){var i=new l(n);return i.update(e,t,r,o),i}},LhdL:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=t("OTww"))&&r.__esModule?r:{default:r};e.default=class{constructor(n,e=o.default){!function(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(this,"loaders",void 0),this.loaders=e.get().map((e=>new e(n)))}dispose(){this.loaders.forEach((n=>n.dispose()))}resolve(n){return this.loaders.find((e=>e.canLoad(n)))}}},"M/JY":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(t("dEu3"));function o(n){return n&&n.__esModule?n:{default:n}}var i=o(t("laZL")).default.create({copy:{frag:r.default`
precision highp float;
varying vec2 uv;
uniform sampler2D t;
void main(){
  gl_FragColor=texture2D(t,uv);
}`}}).copy;e.default=i},MX0m:function(n,e,t){n.exports=t("3niX")},Ni9w:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=class{constructor(){var n,e,t;t=[],(e="_loaders")in(n=this)?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}add(n){this._loaders.push(n),this._loaders.sort(((n,e)=>("number"===typeof e.priority?e.priority:0)-("number"===typeof n.priority?n.priority:0)))}remove(n){const e=this._loaders.indexOf(n);-1!==e&&this._loaders.splice(e,1)}get(){return this._loaders}}},O8XB:function(n,e,t){"use strict";(function(n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,i,a,s,c,l=u(t("tbvF")),f=u(t("Ytbt")),p=u(t("zqV6"));function u(n){return n&&n.__esModule?n:{default:n}}"undefined"===typeof n&&(r.Buffer=(i=o=class{},c=e=>e instanceof n,(s="isBuffer")in(a=o)?Object.defineProperty(a,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[s]=c,i));e.default=(n,e,t,r)=>{const o="undefined"!==typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext;let i=t.dtype,a=t.shape.slice(),s=n.getParameter(n.MAX_TEXTURE_SIZE);if(a[0]<0||a[0]>s||a[1]<0||a[1]>s)throw new Error("gl-react: Invalid texture size");let c=function(n,e){return 3===n.length?1===e[2]&&e[1]===n[0]*n[2]&&e[0]===n[2]:1===e[0]&&e[1]===n[0]}(a,t.stride.slice()),u=0;"float32"===i?u=n.FLOAT:"float64"===i?(u=n.FLOAT,c=!1,i="float32"):"uint8"===i?u=n.UNSIGNED_BYTE:(u=n.UNSIGNED_BYTE,c=!1,i="uint8");let d,v=0,h=0;if(2===a.length)h=v=n.LUMINANCE,a=[a[0],a[1],1],t=(0,l.default)(t.data,a,[t.stride[0],t.stride[1],1],t.offset);else{if(3!==a.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===a[2])h=v=n.ALPHA,o||(r=!1);else if(2===a[2])h=v=n.LUMINANCE_ALPHA,o||(r=!1);else if(3===a[2])v=n.RGB,h=o?n.RGB:n.RGB32F;else{if(4!==a[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");v=n.RGBA,h=o?n.RGBA:n.RGBA32F}}u!==n.FLOAT||r||(u=n.UNSIGNED_BYTE,c=!1);let m,g=t.size;if(c)d=0===t.offset&&t.data.length===g?t.data:t.data.subarray(t.offset,t.offset+g);else{let e=[a[2],a[2]*a[0],1];if("float32"!==i&&"float64"!==i||u!==n.UNSIGNED_BYTE){m=p.default.malloc(g,i);let n=(0,l.default)(m,a,e,0);f.default.assign(n,t)}else{m=p.default.malloc(g,"uint8"),function(n,e){f.default.muls(n,e,255)}((0,l.default)(m,a,e,0),t)}d=m.subarray(0,g)}n.texImage2D(n.TEXTURE_2D,0,h,a[0],a[1],0,v,u,d),m&&p.default.free(m)}}).call(this,t("HDXh").Buffer,t("yLpj"))},OHjB:function(n,e,t){"use strict";t.d(e,"a",(function(){return l}));var r=t("nKUr"),o=t("MX0m"),i=t.n(o),a=(t("q1tI"),t("YFqc")),s=t.n(a),c=t("rL8q");function l(n){var e=n.Day;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("p",{className:"jsx-1224002593 description",children:[Object(r.jsx)(s.a,{href:"/day/".concat(e.n),children:Object(r.jsxs)("a",{className:"jsx-1224002593",children:["Day ",e.n,"."]})})," ",Object(r.jsxs)("span",{className:"jsx-1224002593 daily",children:['"',e.title,'"']})," by"," ",Object(r.jsx)("a",{href:"https://twitter.com/greweb",target:"_blank",className:"jsx-1224002593",children:"@greweb"})]}),Object(r.jsxs)("nav",{className:"jsx-1224002593",children:[Object(c.a)(e.n-1)?Object(r.jsx)(s.a,{href:"/day/".concat(e.n-1),children:Object(r.jsx)("a",{className:"jsx-1224002593",children:"\u2190 previous day"})}):Object(r.jsx)("span",{className:"jsx-1224002593"}),Object(c.a)(e.n+1)?Object(r.jsx)(s.a,{href:"/day/".concat(e.n+1),children:Object(r.jsx)("a",{className:"jsx-1224002593",children:"next day \u2192"})}):null]}),Object(r.jsx)(i.a,{id:"1224002593",children:[".description.jsx-1224002593{text-align:center;line-height:1.3rem;font-size:1.3rem;font-weight:300;}",".description.jsx-1224002593 .daily.jsx-1224002593{font-weight:600;}","nav.jsx-1224002593{width:400px;font-size:0.6em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}"]})]})}},OTww:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=t("Ni9w"))&&r.__esModule?r:{default:r};const i="undefined"===typeof window?n:window,a="__webglTextureLoader_registry";var s=i[a]||(i[a]=new o.default);e.default=s}).call(this,t("yLpj"))},QLaP:function(n,e,t){"use strict";n.exports=function(n,e,t,r,o,i,a,s){if(!n){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[t,r,o,i,a,s],f=0;(c=new Error(e.replace(/%s/g,(function(){return l[f++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},QM7d:function(n,e,t){"use strict";var r=t("033R");function o(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}n.exports=function(n){var e=new o;e.pre=n.pre,e.body=n.body,e.post=n.post;var t=n.args.slice(0);e.argTypes=t;for(var i=0;i<t.length;++i){var a=t[i];if("array"===a||"object"===typeof a&&a.blockIndices){if(e.argTypes[i]="array",e.arrayArgs.push(i),e.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),e.shimArgs.push("array"+i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)e.scalarArgs.push(i),e.shimArgs.push("scalar"+i);else if("index"===a){if(e.indexArgs.push(i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(e.shapeArgs.push(i),i<e.pre.args.length&&e.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<e.post.args.length&&e.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!==typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+t[i]);e.argTypes[i]="offset",e.offsetArgs.push({array:a.array,offset:a.offset}),e.offsetArgIndex.push(i)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>t.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>t.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>t.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!n.printCode||!!n.debug,e.funcName=n.funcName||"cwise",e.blockSize=n.blockSize||64,r(e)}},RIqP:function(n,e,t){var r=t("Ijbi"),o=t("EbDI"),i=t("ZhPi"),a=t("Bnag");n.exports=function(n){return r(n)||o(n)||i(n)||a()}},RjOF:function(n,e,t){"use strict";var r,o="";n.exports=function(n,e){if("string"!==typeof n)throw new TypeError("expected a string");if(1===e)return n;if(2===e)return n+n;var t=n.length*e;if(r!==n||"undefined"===typeof r)r=n,o="";else if(o.length>=t)return o.substr(0,t);for(;t>o.length&&e>1;)1&e&&(o+=n),e>>=1,n+=n;return o=(o+=n).substr(0,t)}},Ry8g:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default=n=>{const e=n.getExtension("WEBGL_lose_context");e&&e.loseContext()}},SMLl:function(n,e,t){"use strict";var r=t("RjOF");n.exports=function(n,e,t){return r(t="undefined"!==typeof t?t+"":" ",e)+n}},SevZ:function(n,e,t){"use strict";e.__esModule=!0,e.default=void 0;var r=i(t("9kyW")),o=i(t("bVZc"));function i(n){return n&&n.__esModule?n:{default:n}}var a=function(){function n(n){var e=void 0===n?{}:n,t=e.styleSheet,r=void 0===t?null:t,i=e.optimizeForSpeed,a=void 0!==i&&i,s=e.isBrowser,c=void 0===s?"undefined"!==typeof window:s;this._sheet=r||new o.default({name:"styled-jsx",optimizeForSpeed:a}),this._sheet.inject(),r&&"boolean"===typeof a&&(this._sheet.setOptimizeForSpeed(a),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser=c,this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()}var e=n.prototype;return e.add=function(n){var e=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(n.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._isBrowser&&!this._fromServer&&(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce((function(n,e){return n[e]=0,n}),{}));var t=this.getIdAndRules(n),r=t.styleId,o=t.rules;if(r in this._instancesCounts)this._instancesCounts[r]+=1;else{var i=o.map((function(n){return e._sheet.insertRule(n)})).filter((function(n){return-1!==n}));this._indices[r]=i,this._instancesCounts[r]=1}},e.remove=function(n){var e=this,t=this.getIdAndRules(n).styleId;if(function(n,e){if(!n)throw new Error("StyleSheetRegistry: "+e+".")}(t in this._instancesCounts,"styleId: `"+t+"` not found"),this._instancesCounts[t]-=1,this._instancesCounts[t]<1){var r=this._fromServer&&this._fromServer[t];r?(r.parentNode.removeChild(r),delete this._fromServer[t]):(this._indices[t].forEach((function(n){return e._sheet.deleteRule(n)})),delete this._indices[t]),delete this._instancesCounts[t]}},e.update=function(n,e){this.add(e),this.remove(n)},e.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={},this.computeId=this.createComputeId(),this.computeSelector=this.createComputeSelector()},e.cssRules=function(){var n=this,e=this._fromServer?Object.keys(this._fromServer).map((function(e){return[e,n._fromServer[e]]})):[],t=this._sheet.cssRules();return e.concat(Object.keys(this._indices).map((function(e){return[e,n._indices[e].map((function(n){return t[n].cssText})).join(n._optimizeForSpeed?"":"\n")]})).filter((function(n){return Boolean(n[1])})))},e.createComputeId=function(){var n={};return function(e,t){if(!t)return"jsx-"+e;var o=String(t),i=e+o;return n[i]||(n[i]="jsx-"+(0,r.default)(e+"-"+o)),n[i]}},e.createComputeSelector=function(n){void 0===n&&(n=/__jsx-style-dynamic-selector/g);var e={};return function(t,r){this._isBrowser||(r=r.replace(/\/style/gi,"\\/style"));var o=t+r;return e[o]||(e[o]=r.replace(n,t)),e[o]}},e.getIdAndRules=function(n){var e=this,t=n.children,r=n.dynamic,o=n.id;if(r){var i=this.computeId(o,r);return{styleId:i,rules:Array.isArray(t)?t.map((function(n){return e.computeSelector(i,n)})):[this.computeSelector(i,t)]}}return{styleId:this.computeId(o),rules:Array.isArray(t)?t:[t]}},e.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce((function(n,e){return n[e.id.slice(2)]=e,n}),{})},n}();e.default=a},TBio:function(n,e,t){"use strict";var r=t("F16p");function o(n,e,t){var r,o,i=n.length,a=e.arrayArgs.length,s=e.indexArgs.length>0,c=[],l=[],f=0,p=0;for(r=0;r<i;++r)l.push(["i",r,"=0"].join(""));for(o=0;o<a;++o)for(r=0;r<i;++r)p=f,f=n[r],0===r?l.push(["d",o,"s",r,"=t",o,"p",f].join("")):l.push(["d",o,"s",r,"=(t",o,"p",f,"-s",p,"*t",o,"p",p,")"].join(""));for(l.length>0&&c.push("var "+l.join(",")),r=i-1;r>=0;--r)f=n[r],c.push(["for(i",r,"=0;i",r,"<s",f,";++i",r,"){"].join(""));for(c.push(t),r=0;r<i;++r){for(p=f,f=n[r],o=0;o<a;++o)c.push(["p",o,"+=d",o,"s",r].join(""));s&&(r>0&&c.push(["index[",p,"]-=s",p].join("")),c.push(["++index[",f,"]"].join(""))),c.push("}")}return c.join("\n")}function i(n,e,t){for(var r=n.body,o=[],i=[],a=0;a<n.args.length;++a){var s=n.args[a];if(!(s.count<=0)){var c=new RegExp(s.name,"g"),l="",f=e.arrayArgs.indexOf(a);switch(e.argTypes[a]){case"offset":var p=e.offsetArgIndex.indexOf(a);f=e.offsetArgs[p].array,l="+q"+p;case"array":l="p"+f+l;var u="l"+a,d="a"+f;if(0===e.arrayBlockIndices[f])1===s.count?"generic"===t[f]?s.lvalue?(o.push(["var ",u,"=",d,".get(",l,")"].join("")),r=r.replace(c,u),i.push([d,".set(",l,",",u,")"].join(""))):r=r.replace(c,[d,".get(",l,")"].join("")):r=r.replace(c,[d,"[",l,"]"].join("")):"generic"===t[f]?(o.push(["var ",u,"=",d,".get(",l,")"].join("")),r=r.replace(c,u),s.lvalue&&i.push([d,".set(",l,",",u,")"].join(""))):(o.push(["var ",u,"=",d,"[",l,"]"].join("")),r=r.replace(c,u),s.lvalue&&i.push([d,"[",l,"]=",u].join("")));else{for(var v=[s.name],h=[l],m=0;m<Math.abs(e.arrayBlockIndices[f]);m++)v.push("\\s*\\[([^\\]]+)\\]"),h.push("$"+(m+1)+"*t"+f+"b"+m);if(c=new RegExp(v.join(""),"g"),l=h.join("+"),"generic"===t[f])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(c,[d,"[",l,"]"].join(""))}break;case"scalar":r=r.replace(c,"Y"+e.scalarArgs.indexOf(a));break;case"index":r=r.replace(c,"index");break;case"shape":r=r.replace(c,"shape")}}}return[o.join("\n"),r,i.join("\n")].join("\n").trim()}function a(n){for(var e=new Array(n.length),t=!0,r=0;r<n.length;++r){var o=n[r],i=o.match(/\d+/);i=i?i[0]:"",0===o.charAt(0)?e[r]="u"+o.charAt(1)+i:e[r]=o.charAt(0)+i,r>0&&(t=t&&e[r]===e[r-1])}return t?e[0]:e.join("")}n.exports=function(n,e){for(var t=e[1].length-Math.abs(n.arrayBlockIndices[0])|0,s=new Array(n.arrayArgs.length),c=new Array(n.arrayArgs.length),l=0;l<n.arrayArgs.length;++l)c[l]=e[2*l],s[l]=e[2*l+1];var f=[],p=[],u=[],d=[],v=[];for(l=0;l<n.arrayArgs.length;++l){n.arrayBlockIndices[l]<0?(u.push(0),d.push(t),f.push(t),p.push(t+n.arrayBlockIndices[l])):(u.push(n.arrayBlockIndices[l]),d.push(n.arrayBlockIndices[l]+t),f.push(0),p.push(n.arrayBlockIndices[l]));for(var h=[],m=0;m<s[l].length;m++)u[l]<=s[l][m]&&s[l][m]<d[l]&&h.push(s[l][m]-u[l]);v.push(h)}var g=["SS"],y=["'use strict'"],x=[];for(m=0;m<t;++m)x.push(["s",m,"=SS[",m,"]"].join(""));for(l=0;l<n.arrayArgs.length;++l){g.push("a"+l),g.push("t"+l),g.push("p"+l);for(m=0;m<t;++m)x.push(["t",l,"p",m,"=t",l,"[",u[l]+m,"]"].join(""));for(m=0;m<Math.abs(n.arrayBlockIndices[l]);++m)x.push(["t",l,"b",m,"=t",l,"[",f[l]+m,"]"].join(""))}for(l=0;l<n.scalarArgs.length;++l)g.push("Y"+l);if(n.shapeArgs.length>0&&x.push("shape=SS.slice(0)"),n.indexArgs.length>0){var b=new Array(t);for(l=0;l<t;++l)b[l]="0";x.push(["index=[",b.join(","),"]"].join(""))}for(l=0;l<n.offsetArgs.length;++l){var _=n.offsetArgs[l],w=[];for(m=0;m<_.offset.length;++m)0!==_.offset[m]&&(1===_.offset[m]?w.push(["t",_.array,"p",m].join("")):w.push([_.offset[m],"*t",_.array,"p",m].join("")));0===w.length?x.push("q"+l+"=0"):x.push(["q",l,"=",w.join("+")].join(""))}var S=r([].concat(n.pre.thisVars).concat(n.body.thisVars).concat(n.post.thisVars));for((x=x.concat(S)).length>0&&y.push("var "+x.join(",")),l=0;l<n.arrayArgs.length;++l)y.push("p"+l+"|=0");n.pre.body.length>3&&y.push(i(n.pre,n,c));var E=i(n.body,n,c),T=function(n){for(var e=0,t=n[0].length;e<t;){for(var r=1;r<n.length;++r)if(n[r][e]!==n[0][e])return e;++e}return e}(v);T<t?y.push(function(n,e,t,r){for(var i=e.length,a=t.arrayArgs.length,s=t.blockSize,c=t.indexArgs.length>0,l=[],f=0;f<a;++f)l.push(["var offset",f,"=p",f].join(""));for(f=n;f<i;++f)l.push(["for(var j"+f+"=SS[",e[f],"]|0;j",f,">0;){"].join("")),l.push(["if(j",f,"<",s,"){"].join("")),l.push(["s",e[f],"=j",f].join("")),l.push(["j",f,"=0"].join("")),l.push(["}else{s",e[f],"=",s].join("")),l.push(["j",f,"-=",s,"}"].join("")),c&&l.push(["index[",e[f],"]=j",f].join(""));for(f=0;f<a;++f){for(var p=["offset"+f],u=n;u<i;++u)p.push(["j",u,"*t",f,"p",e[u]].join(""));l.push(["p",f,"=(",p.join("+"),")"].join(""))}for(l.push(o(e,t,r)),f=n;f<i;++f)l.push("}");return l.join("\n")}(T,v[0],n,E)):y.push(o(v[0],n,E)),n.post.body.length>3&&y.push(i(n.post,n,c)),n.debug&&console.log("-----Generated cwise routine for ",e,":\n"+y.join("\n")+"\n----------");var R=[n.funcName||"unnamed","_cwise_loop_",s[0].join("s"),"m",T,a(c)].join("");return new Function(["function ",R,"(",g.join(","),"){",y.join("\n"),"} return ",R].join(""))()}},TGEO:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"WebGLTextureLoader",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"WebGLTextureLoaderAsyncHashCache",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"WebGLTextureLoaderSyncHashCache",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"LoadersRegistry",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"LoaderResolver",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"globalRegistry",{enumerable:!0,get:function(){return c.default}});var r=l(t("HbIt")),o=l(t("cDsr")),i=l(t("VYxY")),a=l(t("Ni9w")),s=l(t("LhdL")),c=l(t("OTww"));function l(n){return n&&n.__esModule?n:{default:n}}},UWhB:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(t("dv69")),o=i(t("8e5R"));function i(n){return n&&n.__esModule?n:{default:n}}const a=n=>Array.isArray(n)?n.reduce(((n,e)=>n.concat(a(e))),[]):[String(n.dependency&&n.dependency.getGLName()||n.initialObj)].concat(n.textureOptions?[n.textureOptions]:[]);class s extends o.default{constructor(...n){var e,t,r;super(...n),r=0,(t="groupNestedLvl")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}onSurfaceGLContextChange(n,e){e?(0,r.default)(n.getGLName()+" _context acquired_"):(0,r.default)(n.getGLName()+" _context lost_")}onSurfaceDrawSkipped(){}onSurfaceDrawStart(n){const[e,t]=n.getGLSize();console.groupCollapsed("Surface draw"),this.groupNestedLvl=1,(0,r.default)("_size_ `"+e+"`x`"+t+"`")}onSurfaceDrawError(n){for(console.error(n);this.groupNestedLvl>0;)console.groupEnd(),this.groupNestedLvl--;return!0}onSurfaceDrawEnd(){this.groupNestedLvl--,console.groupEnd()}onNodeDrawSkipped(n){(0,r.default)(n.getGLName()+" redraw _skipped_: "+(n.context.glSurface.gl?n._needsRedraw?"":"no need to redraw":"no gl context available!"))}onNodeDrawStart(n){this.groupNestedLvl++,console.group(n.getGLName())}onNodeSyncDeps(n,e,t){e.length&&console.log(n.getGLName()+" +deps "+e.map((n=>n.getGLName())).join(", ")),t.length&&console.log(n.getGLName()+" -deps "+e.map((n=>n.getGLName())).join(", "))}onNodeDraw(n,e){const{blendFunc:t,clear:o}=n.props;this.groupNestedLvl++,console.group("DRAW "+n.getGLName());const[i,s]=n.getGLSize();(0,r.default)("_size_ `"+i+"`x`"+s+"` _clear_ `"+JSON.stringify(o)+"` _blendFunc_ `"+JSON.stringify(t)+"`"),(0,r.default)("_"+e.length+" uniforms:_"),e.forEach((n=>{let{key:e,type:t,value:o,getMetaInfo:i}=n;t=String(t||"UNKNOWN");const s=void 0===o?"":Array.isArray(o)?"["+o.map((n=>"`"+String(n)+"`")).join(",")+"]":"`"+String(o)+"`";let c="";for(let r=t.length+e.length-18;r<0;r++)c+=" ";(0,r.default)(`${c}*${"UNKNOWN"===t?"[c='color:red']UNKNOWN[c]":t}* _${e}_ = ${s}`,...i?a(i()):[])}))}onNodeDrawEnd(){this.groupNestedLvl-=2,console.groupEnd(),console.groupEnd()}}e.default=s},Um7X:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function n(e,t){if((0,r.default)(e!==t,"gl-react: Found a loop in the rendering graph.\nIf you want to get back previous state, please use `backbuffering` instead"),t instanceof o.default)for(let r=0;r<t.dependents.length;r++)n(e,t.dependents[r])};var r=i(t("QLaP")),o=i(t("JwSf"));function i(n){return n&&n.__esModule?n:{default:n}}},VYxY:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=t("HbIt"))&&r.__esModule?r:{default:r};function i(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}class a extends o.default{constructor(...n){super(...n),i(this,"results",new Map),i(this,"promises",new Map),i(this,"_disposed",!1)}inputHash(n){return""}getNoCache(n){throw new Error("getNoCache must be implemented")}dispose(){const{gl:n,results:e,promises:t}=this;e.forEach((n=>{this.disposeTexture(n.texture)})),e.clear(),t.clear(),this._disposed=!0}disposeTexture(n){this.gl.deleteTexture(n)}get(n){const e=this.inputHash(n),t=this.results.get(e);if(t)return t;const r=this.getNoCache(n);return this.results.set(e,r),r}load(n){const e=this.inputHash(n),t=this.promises.get(e);if(t)return t;const r=Promise.resolve(this.get(n));return this.promises.set(e,r),r}}var s=a;e.default=s},W9HR:function(n,e,t){"use strict";t.d(e,"a",(function(){return c}));var r=t("nKUr"),o=t("MX0m"),i=t.n(o),a=(t("q1tI"),t("YFqc")),s=t.n(a);function c(n){var e=n.text,t=void 0===e?"One Day, One Shader":e;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h1",{className:"jsx-2908109831 title",children:Object(r.jsx)(s.a,{href:"/",children:Object(r.jsx)("a",{className:"jsx-2908109831",children:t})})}),Object(r.jsx)(i.a,{id:"2908109831",children:[".title.jsx-2908109831{text-align:center;margin:0;line-height:1.15;font-size:2rem;}"]})]})}},Xs3h:function(n,e){n.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},Xuae:function(n,e,t){"use strict";var r=t("RIqP"),o=t("lwsE"),i=t("W8MJ"),a=(t("PJYZ"),t("7W2i")),s=t("a1gu"),c=t("Nsbk");function l(n){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var t,r=c(n);if(e){var o=c(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return s(this,t)}}e.__esModule=!0,e.default=void 0;var f=t("q1tI"),p=function(n){a(t,n);var e=l(t);function t(n){var i;return o(this,t),(i=e.call(this,n))._hasHeadManager=void 0,i.emitChange=function(){i._hasHeadManager&&i.props.headManager.updateHead(i.props.reduceComponentsToState(r(i.props.headManager.mountedInstances),i.props))},i._hasHeadManager=i.props.headManager&&i.props.headManager.mountedInstances,i}return i(t,[{key:"componentDidMount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.add(this),this.emitChange()}},{key:"componentDidUpdate",value:function(){this.emitChange()}},{key:"componentWillUnmount",value:function(){this._hasHeadManager&&this.props.headManager.mountedInstances.delete(this),this.emitChange()}},{key:"render",value:function(){return null}}]),t}(f.Component);e.default=p},YFqc:function(n,e,t){n.exports=t("cTJO")},Ytbt:function(n,e,t){"use strict";var r=t("QM7d"),o={body:"",args:[],thisVars:[],localVars:[]};function i(n){if(!n)return o;for(var e=0;e<n.args.length;++e){var t=n.args[e];n.args[e]=0===e?{name:t,lvalue:!0,rvalue:!!n.rvalue,count:n.count||1}:{name:t,lvalue:!1,rvalue:!0,count:1}}return n.thisVars||(n.thisVars=[]),n.localVars||(n.localVars=[]),n}function a(n){for(var e=[],t=0;t<n.args.length;++t)e.push("a"+t);return new Function("P",["return function ",n.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""))(function(n){return r({args:n.args,pre:i(n.pre),body:i(n.body),post:i(n.proc),funcName:n.funcName})}(n))}var s={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var n in s){var t=s[n];e[n]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:n}),e[n+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+t+"=b"},rvalue:!0,funcName:n+"eq"}),e[n+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:n+"s"}),e[n+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+t+"=s"},rvalue:!0,funcName:n+"seq"})}}();var c={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var n in c){var t=c[n];e[n]=a({args:["array","array"],body:{args:["a","b"],body:"a="+t+"b"},funcName:n}),e[n+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+t+"a"},rvalue:!0,count:2,funcName:n+"eq"})}}();var l={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var n in l){var t=l[n];e[n]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+t+"c"},funcName:n}),e[n+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+t+"s"},funcName:n+"s"}),e[n+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+t+"b"},rvalue:!0,count:2,funcName:n+"eq"}),e[n+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+t+"s"},rvalue:!0,count:2,funcName:n+"seq"})}}();var f=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var n=0;n<f.length;++n){var t=f[n];e[t]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:t}),e[t+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"})}}();var p=["max","min","atan2","pow"];!function(){for(var n=0;n<p.length;++n){var t=p[n];e[t]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t}),e[t+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:t+"s"}),e[t+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"seq"})}}();var u=["atan2","pow"];!function(){for(var n=0;n<u.length;++n){var t=u[n];e[t+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"op"}),e[t+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:t+"ops"}),e[t+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opeq"}),e[t+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+t,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:t+"opseq"})}}(),e.any=r({args:["array"],pre:o,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=r({args:["array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=r({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=r({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=r({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=r({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=r({args:["array","array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},ZkmD:function(n,e,t){var r=t("szI9");n.exports=function(){var n={};return function(e){if(("object"!==typeof e||null===e)&&"function"!==typeof e)throw new Error("Weakmap-shim: Key must be object");var t=e.valueOf(n);return t&&t.identity===n?t:r(e,n)}}},ZzT5:function(n,e,t){"use strict";t.d(e,"a",(function(){return a})),t.d(e,"b",(function(){return s}));var r=t("nKUr"),o=t("MX0m"),i=t.n(o);t("q1tI");function a(n){var e=n.children;return Object(r.jsxs)(r.Fragment,{children:[e,Object(r.jsx)(i.a,{id:"3469673304",children:["html,body{padding:0;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto, Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue, sans-serif;}","*{box-sizing:border-box;}","a{color:inherit;-webkit-text-decoration:none;text-decoration:none;}","a:hover,a:active{-webkit-text-decoration:underline;text-decoration:underline;}"]})]})}function s(n){var e=n.children;return Object(r.jsxs)(a,{children:[e,Object(r.jsx)(i.a,{id:"2550269578",children:["body{background:#000;color:#fff;}"]})]})}},aiXG:function(n,e){n.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},b0oO:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var r=t("nKUr"),o=t("MX0m"),i=t.n(o);t("q1tI");function a(n){var e=n.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("header",{className:"jsx-1329991137",children:e}),Object(r.jsx)(i.a,{id:"1329991137",children:["header.jsx-1329991137{padding:1rem 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]})]})}},bPVu:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t("TGEO");class o extends r.WebGLTextureLoaderAsyncHashCache{canLoad(n){return"string"===typeof n}inputHash(n){return n}loadNoCache(n){const{gl:e}=this;let t;return{promise:new Promise(((e,r)=>t=function(n,e,t){let r=new window.Image;return"data:"!==n.slice(0,5)&&(r.crossOrigin=!0),r.onload=function(){r&&e(r),r=null},r.onabort=r.onerror=t,r.src=n,function(){r&&(r.onload=null,r.onerror=null,r.onabort=null,r.src="",r=null)}}(n,e,r))).then((n=>{const{width:t,height:r}=n,o=e.createTexture();return e.bindTexture(e.TEXTURE_2D,o),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),{texture:o,width:t,height:r}})),dispose:()=>t()}}}r.globalRegistry.add(o);var i=o;e.default=i},bQgK:function(n,e,t){(function(e){(function(){var t,r,o,i,a,s;"undefined"!==typeof performance&&null!==performance&&performance.now?n.exports=function(){return performance.now()}:"undefined"!==typeof e&&null!==e&&e.hrtime?(n.exports=function(){return(t()-a)/1e6},r=e.hrtime,i=(t=function(){var n;return 1e9*(n=r())[0]+n[1]})(),s=1e9*e.uptime(),a=i-s):Date.now?(n.exports=function(){return Date.now()-o},o=Date.now()):(n.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,t("8oxB"))},bVZc:function(n,e,t){"use strict";(function(n){function t(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}e.__esModule=!0,e.default=void 0;var r="undefined"!==typeof n&&n.env&&!0,o=function(n){return"[object String]"===Object.prototype.toString.call(n)},i=function(){function n(n){var e=void 0===n?{}:n,t=e.name,i=void 0===t?"stylesheet":t,s=e.optimizeForSpeed,c=void 0===s?r:s,l=e.isBrowser,f=void 0===l?"undefined"!==typeof window:l;a(o(i),"`name` must be a string"),this._name=i,this._deletedRulePlaceholder="#"+i+"-deleted-rule____{}",a("boolean"===typeof c,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=c,this._isBrowser=f,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var p=this._isBrowser&&document.querySelector('meta[property="csp-nonce"]');this._nonce=p?p.getAttribute("content"):null}var e,i,s,c=n.prototype;return c.setOptimizeForSpeed=function(n){a("boolean"===typeof n,"`setOptimizeForSpeed` accepts a boolean"),a(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=n,this.inject()},c.isOptimizeForSpeed=function(){return this._optimizeForSpeed},c.inject=function(){var n=this;if(a(!this._injected,"sheet already injected"),this._injected=!0,this._isBrowser&&this._optimizeForSpeed)return this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),void(this._optimizeForSpeed||(r||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0));this._serverSheet={cssRules:[],insertRule:function(e,t){return"number"===typeof t?n._serverSheet.cssRules[t]={cssText:e}:n._serverSheet.cssRules.push({cssText:e}),t},deleteRule:function(e){n._serverSheet.cssRules[e]=null}}},c.getSheetForTag=function(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]},c.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},c.insertRule=function(n,e){if(a(o(n),"`insertRule` accepts only strings"),!this._isBrowser)return"number"!==typeof e&&(e=this._serverSheet.cssRules.length),this._serverSheet.insertRule(n,e),this._rulesCount++;if(this._optimizeForSpeed){var t=this.getSheet();"number"!==typeof e&&(e=t.cssRules.length);try{t.insertRule(n,e)}catch(s){return r||console.warn("StyleSheet: illegal rule: \n\n"+n+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var i=this._tags[e];this._tags.push(this.makeStyleTag(this._name,n,i))}return this._rulesCount++},c.replaceRule=function(n,e){if(this._optimizeForSpeed||!this._isBrowser){var t=this._isBrowser?this.getSheet():this._serverSheet;if(e.trim()||(e=this._deletedRulePlaceholder),!t.cssRules[n])return n;t.deleteRule(n);try{t.insertRule(e,n)}catch(i){r||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),t.insertRule(this._deletedRulePlaceholder,n)}}else{var o=this._tags[n];a(o,"old rule at index `"+n+"` not found"),o.textContent=e}return n},c.deleteRule=function(n){if(this._isBrowser)if(this._optimizeForSpeed)this.replaceRule(n,"");else{var e=this._tags[n];a(e,"rule at index `"+n+"` not found"),e.parentNode.removeChild(e),this._tags[n]=null}else this._serverSheet.deleteRule(n)},c.flush=function(){this._injected=!1,this._rulesCount=0,this._isBrowser?(this._tags.forEach((function(n){return n&&n.parentNode.removeChild(n)})),this._tags=[]):this._serverSheet.cssRules=[]},c.cssRules=function(){var n=this;return this._isBrowser?this._tags.reduce((function(e,t){return t?e=e.concat(Array.prototype.map.call(n.getSheetForTag(t).cssRules,(function(e){return e.cssText===n._deletedRulePlaceholder?null:e}))):e.push(null),e}),[]):this._serverSheet.cssRules},c.makeStyleTag=function(n,e,t){e&&a(o(e),"makeStyleTag acceps only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+n,""),e&&r.appendChild(document.createTextNode(e));var i=document.head||document.getElementsByTagName("head")[0];return t?i.insertBefore(r,t):i.appendChild(r),r},e=n,(i=[{key:"length",get:function(){return this._rulesCount}}])&&t(e.prototype,i),s&&t(e,s),n}();function a(n,e){if(!n)throw new Error("StyleSheet: "+e+".")}e.default=i}).call(this,t("8oxB"))},cDsr:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=(r=t("HbIt"))&&r.__esModule?r:{default:r};function i(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const a=new Promise((()=>{}));class s extends o.default{constructor(...n){super(...n),i(this,"disposes",new Map),i(this,"inputs",new Map),i(this,"promises",new Map),i(this,"results",new Map),i(this,"_disposed",!1)}inputHash(n){return""}loadNoCache(n){return{promise:Promise.reject(new Error("loadNoCache is not implemented")),dispose:()=>{}}}dispose(){const{gl:n,promises:e,results:t,inputs:r,disposes:o}=this;o.forEach((n=>n())),t.forEach((n=>{this.disposeTexture(n.texture)})),e.clear(),t.clear(),r.clear(),o.clear(),this._disposed=!0}disposeTexture(n){this.gl.deleteTexture(n)}load(n){const e=this.inputHash(n),t=this.promises.get(e);if(t)return t;const r=this.loadNoCache(n);this.disposes.set(e,r.dispose);const o=r.promise.then((n=>this.promises.has(e)?(this.disposes.delete(e),this.results.set(e,n),n):a));return this.promises.set(e,o),o}get(n){return this.results.get(this.inputHash(n))}cancelLoad(n){const e=this.inputHash(n);this.promises.delete(e);const t=this.disposes.get(e);t&&(t(),this.disposes.delete(e))}}var c=s;e.default=c},cTJO:function(n,e,t){"use strict";var r=t("J4zp"),o=t("284h");e.__esModule=!0,e.default=void 0;var i=o(t("q1tI")),a=t("elyg"),s=t("nOHt"),c=t("vNVm"),l={};function f(n,e,t,r){if((0,a.isLocalURL)(e)){n.prefetch(e,t,r).catch((function(n){0}));var o=r&&"undefined"!==typeof r.locale?r.locale:n&&n.locale;l[e+"%"+t+(o?"%"+o:"")]=!0}}var p=function(n){var e=!1!==n.prefetch,t=(0,s.useRouter)(),o=t&&t.pathname||"/",p=i.default.useMemo((function(){var e=(0,a.resolveHref)(o,n.href,!0),t=r(e,2),i=t[0],s=t[1];return{href:i,as:n.as?(0,a.resolveHref)(o,n.as):s||i}}),[o,n.href,n.as]),u=p.href,d=p.as,v=n.children,h=n.replace,m=n.shallow,g=n.scroll,y=n.locale;"string"===typeof v&&(v=i.default.createElement("a",null,v));var x=i.Children.only(v),b=x&&"object"===typeof x&&x.ref,_=(0,c.useIntersection)({rootMargin:"200px"}),w=r(_,2),S=w[0],E=w[1],T=i.default.useCallback((function(n){S(n),b&&("function"===typeof b?b(n):"object"===typeof b&&(b.current=n))}),[b,S]);(0,i.useEffect)((function(){var n=E&&e&&(0,a.isLocalURL)(u),r="undefined"!==typeof y?y:t&&t.locale,o=l[u+"%"+d+(r?"%"+r:"")];n&&!o&&f(t,u,d,{locale:r})}),[d,u,E,y,e,t]);var R={ref:T,onClick:function(n){x.props&&"function"===typeof x.props.onClick&&x.props.onClick(n),n.defaultPrevented||function(n,e,t,r,o,i,s,c){("A"!==n.currentTarget.nodeName||!function(n){var e=n.currentTarget.target;return e&&"_self"!==e||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||n.nativeEvent&&2===n.nativeEvent.which}(n)&&(0,a.isLocalURL)(t))&&(n.preventDefault(),null==s&&(s=r.indexOf("#")<0),e[o?"replace":"push"](t,r,{shallow:i,locale:c}).then((function(n){n&&s&&(window.scrollTo(0,0),document.body.focus())})))}(n,t,u,d,h,m,g,y)},onMouseEnter:function(n){(0,a.isLocalURL)(u)&&(x.props&&"function"===typeof x.props.onMouseEnter&&x.props.onMouseEnter(n),f(t,u,d,{priority:!0}))}};return(n.passHref||"a"===x.type&&!("href"in x.props))&&(R.href=(0,a.addBasePath)((0,a.addLocale)(d,"undefined"!==typeof y?y:t&&t.locale,t&&t.defaultLocale))),i.default.cloneElement(x,R)};e.default=p},dEu3:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(n,...e){let t="";for(let r=0;r<n.length;r++)t+=(0===r?"":e[r-1])+n[r];return t},e.GLSLSymbol=void 0;e.GLSLSymbol="GLSL"},dGjt:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.list=void 0;var r=p(t("QLaP")),o=function(n){if(n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};var e=f();if(e&&e.has(n))return e.get(n);var t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var i=r?Object.getOwnPropertyDescriptor(n,o):null;i&&(i.get||i.set)?Object.defineProperty(t,o,i):t[o]=n[o]}t.default=n,e&&e.set(n,t);return t}(t("q1tI")),i=p(t("17x9")),a=p(t("KN1S")),s=(p(t("dLFq")),p(t("laZL"))),c=p(t("38ab")),l=t("TGEO");function f(){if("function"!==typeof WeakMap)return null;var n=new WeakMap;return f=function(){return n},n}function p(n){return n&&n.__esModule?n:{default:n}}function u(){return(u=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function d(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const v={children:i.default.any.isRequired,style:i.default.any,preload:i.default.array,onLoad:i.default.func,onLoadError:i.default.func,onContextLost:i.default.func,onContextRestored:i.default.func,visitor:i.default.object};let h=0;const m=[];e.list=()=>m.slice(0);const g=Object.keys(v);e.default=({GLView:n,RenderLessElement:e,mapRenderableContent:t,requestFrame:f,cancelFrame:p})=>{var y,x;return x=y=class extends o.Component{constructor(...n){super(...n),d(this,"id",++h),d(this,"gl",void 0),d(this,"buffer",void 0),d(this,"loaderResolver",void 0),d(this,"glView",void 0),d(this,"root",void 0),d(this,"shaders",{}),d(this,"_preparingGL",[]),d(this,"_needsRedraw",!1),d(this,"state",{ready:!1,rebootId:0,debug:!1}),d(this,"RenderLessElement",e),d(this,"mapRenderableContent",t),d(this,"redraw",(()=>{this._needsRedraw=!0})),d(this,"flush",(()=>{this._draw()})),d(this,"_emptyTexture",void 0),d(this,"_onContextCreate",(n=>{this._prepareGL(n,(()=>{this.setState({ready:!0},(()=>{try{this._handleLoad()}catch(n){this._handleError(n)}}))}),this._handleError)})),d(this,"_onContextFailure",(n=>{this._handleError(n)})),d(this,"_onContextLost",(()=>{this.props.onContextLost&&this.props.onContextLost(),this._stopLoop(),this._destroyGL(),this.root&&this.root._onContextLost()})),d(this,"_onContextRestored",(n=>{this.root&&this.root._onContextRestored(n),this._prepareGL(n,this._handleRestoredSuccess,this._handleRestoredFailure)})),d(this,"_onRef",(n=>{this.glView=n})),d(this,"_handleError",(n=>{const{onLoadError:e}=this.props;e?e(n):console.error(n)})),d(this,"_handleRestoredFailure",(()=>{})),d(this,"_handleRestoredSuccess",(()=>{this.redraw(),this.flush(),this._startLoop(),this.props.onContextRestored&&this.props.onContextRestored()})),d(this,"_handleLoad",(()=>{this.root||console.warn(this.getGLName()+" children does not contain any discoverable Node");const{onLoad:n}=this.props;this.redraw(),this.flush(),this._startLoop(),n&&n()})),d(this,"_loopRaf",void 0)}getChildContext(){return{glParent:this,glSurface:this,glSizable:this}}componentDidMount(){m.push(this),this.getVisitors().forEach((n=>n.onSurfaceMount(this)))}componentWillUnmount(){this._stopLoop(),this._destroyGL();const n=m.indexOf(this);-1!==n&&m.splice(n,1),this.getVisitors().forEach((n=>n.onSurfaceUnmount(this)))}componentDidUpdate(){this.redraw()}render(){const{props:e,state:{ready:t,rebootId:r,debug:i}}=this,{children:a,style:s}=e,c={};return Object.keys(e).forEach((n=>{-1===g.indexOf(n)&&(c[n]=e[n])})),o.default.createElement(n,u({key:r,debug:i,ref:this._onRef,onContextCreate:this._onContextCreate,onContextFailure:this._onContextFailure,onContextLost:this._onContextLost,onContextRestored:this._onContextRestored,style:s},c),t?a:null)}rebootForDebug(){this._stopLoop(),this._destroyGL(),this.setState((({rebootId:n})=>({rebootId:n+1,ready:!1,debug:!0})))}getVisitors(){return c.default.get().concat(this.props.visitor||[])}getGLSize(){const{gl:n}=this;return[n?n.drawingBufferWidth:0,n?n.drawingBufferHeight:0]}getGLName(){return`Surface#${this.id}`}getGLShortName(){return"Surface"}captureAsDataURL(...e){const{glView:t}=this;return(0,r.default)(t,"GLView is mounted"),(0,r.default)(t.captureAsDataURL,"captureAsDataURL is not defined in %s",n.displayName||n.name),t.captureAsDataURL(...e)}captureAsBlob(...e){const{glView:t}=this;return(0,r.default)(t,"GLView is mounted"),(0,r.default)(t.captureAsBlob,"captureAsBlob is not defined in %s",n.displayName||n.name),t.captureAsBlob(...e)}capture(n,e,t,o){return(0,r.default)(this.root,"Surface#capture: surface is not yet ready or don't have any root Node"),this.root.capture(n,e,t,o)}glIsAvailable(){return!!this.gl}getEmptyTexture(){let{gl:n,_emptyTexture:e}=this;return(0,r.default)(n,"getEmptyTexture called while gl was not defined"),e||(this._emptyTexture=e=n.createTexture(),n.bindTexture(n.TEXTURE_2D,e),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,2,2,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]))),e}_destroyGL(){const{gl:n}=this;if(n){this.gl=null,this._emptyTexture&&(n.deleteTexture(this._emptyTexture),this._emptyTexture=null),this.loaderResolver&&this.loaderResolver.dispose();for(let n in this.shaders)this.shaders[n].dispose();this.shaders={},n.deleteBuffer(this.buffer),this.getVisitors().map((n=>n.onSurfaceGLContextChange(this,null)))}}_prepareGL(n,e,t){this.gl=n,this.getVisitors().map((e=>e.onSurfaceGLContextChange(this,n))),this.loaderResolver=new l.LoaderResolver(n),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,1);const r=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,r),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,4,4,-1]),n.STATIC_DRAW),this.buffer=r;const{preload:o}=this.props,i=[];(o||[]).forEach((n=>{if(!n)return void console.warn("Can't preload value",n);const{loader:e,input:t}=this._resolveTextureLoader(n);if(!e)return void console.warn("Can't preload input",n,t);e.get(t)||i.push(e.load(t))})),this._preparingGL=i,i.length>0?Promise.all(i).then(e,t):e()}_addGLNodeChild(n){(0,r.default)(!this.root,"Surface can only contains a single root. Got: %s",this.root&&this.root.getGLName()),this.root=n,n._addDependent(this),this.redraw()}_removeGLNodeChild(n){this.root=null,this.redraw()}_resolveTextureLoader(n){let e=n;return{loader:this.loaderResolver&&this.loaderResolver.resolve(e),input:e}}_makeShader({frag:n,vert:e},t){const{gl:o}=this;(0,r.default)(o,"gl is not available");const i=(0,a.default)(o,e,n);for(let r in i.attributes)i.attributes[r].pointer();return i}_getShader(n){const{shaders:e}=this;return e[n.id]||(e[n.id]=this._makeShader(s.default.get(n),s.default.getName(n)))}_bindRootNode(){const{gl:n}=this;(0,r.default)(n,"gl context not available"),n.bindFramebuffer(n.FRAMEBUFFER,null);const[e,t]=this.getGLSize();n.viewport(0,0,e,t)}_startLoop(){p(this._loopRaf);const n=()=>{this._loopRaf=f(n),this._needsRedraw&&this._draw()};this._loopRaf=f(n)}_stopLoop(){p(this._loopRaf)}_draw(){const{gl:n,root:e,glView:t}=this;(0,r.default)(t,"GLView is mounted");const o=this.getVisitors();if(n&&e&&this._needsRedraw){this._needsRedraw=!1,o.forEach((n=>n.onSurfaceDrawStart(this))),t.beforeDraw&&t.beforeDraw(n);try{e._draw()}catch(i){let n=!1;if(o.forEach((e=>{n=e.onSurfaceDrawError(i)||n})),!n)throw console.warn(i),i;return}t.afterDraw&&t.afterDraw(n),o.forEach((n=>n.onSurfaceDrawEnd(this)))}else o.forEach((n=>n.onSurfaceDrawSkipped(this)))}},d(y,"propTypes",v),d(y,"childContextTypes",{glSurface:i.default.object.isRequired,glParent:i.default.object.isRequired,glSizable:i.default.object.isRequired}),x}},dLFq:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=f(t("QLaP")),o=function(n){if(n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};var e=l();if(e&&e.has(n))return e.get(n);var t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var i=r?Object.getOwnPropertyDescriptor(n,o):null;i&&(i.get||i.set)?Object.defineProperty(t,o,i):t[o]=n[o]}t.default=n,e&&e.set(n,t);return t}(t("q1tI")),i=f(t("17x9")),a=f(t("JwSf")),s=f(t("Um7X")),c=f(t("5lXm"));function l(){if("function"!==typeof WeakMap)return null;var n=new WeakMap;return l=function(){return n},n}function f(n){return n&&n.__esModule?n:{default:n}}function p(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}class u extends o.Component{constructor(...n){super(...n),p(this,"id",(0,c.default)()),p(this,"context",void 0),p(this,"dependents",[]),p(this,"glNode",null),p(this,"glBusRootNode",void 0),p(this,"onRef",(n=>{this.glBusRootNode=n})),p(this,"redraw",(()=>{this.dependents.forEach((n=>n.redraw()))})),p(this,"_draw",(()=>{}))}componentDidMount(){const{uniform:n,index:e}=this.props;if(n){const{glParent:t}=this.context;(0,r.default)(t instanceof a.default,'a <Bus uniform=".." /> needs to be inside a Node'),t._addUniformBus(this,n,e)}this.redraw()}componentWillUnmount(){const{uniform:n,index:e}=this.props;if(n){const{glParent:t}=this.context;(0,r.default)(t instanceof a.default,'a <Bus uniform=".." /> needs to be inside a Node'),t._removeUniformBus(this,n,e)}}componentDidUpdate({uniform:n,index:e}){const{uniform:t,index:o}=this.props;if(t&&(t!==n||o!==e)){const{glParent:i}=this.context;(0,r.default)(i instanceof a.default,'a <Bus uniform=".." /> needs to be inside a Node'),n&&i._removeUniformBus(this,n,e),i._addUniformBus(this,t,o)}this.redraw()}getChildContext(){return{glParent:this}}_addGLNodeChild(n){this.glNode=n,this.context.glParent.redraw()}_removeGLNodeChild(n){this.glNode=null}_addDependent(n){-1===this.dependents.indexOf(n)&&((0,s.default)(this,n),this.dependents.push(n))}_removeDependent(n){const e=this.dependents.indexOf(n);-1!==e&&this.dependents.splice(e,1)}getGLRenderableNode(){return this.glNode}getGLRenderableContent(){const{mapRenderableContent:n}=this.context.glSurface,{glBusRootNode:e}=this;return e&&n?n(e):null}getGLName(){return`Bus(${this.glNode?this.glNode.getGLName():String(this.getGLRenderableContent())})`}getGLShortName(){const n=this.getGLRenderableContent(),e=String(n&&n.constructor&&n.constructor.name||n);return`Bus(${this.glNode?this.glNode.getGLShortName():e})`}capture(n,e,t,o){return(0,r.default)(this.glNode,"Bus does not contain any Node"),this.glNode.capture(n,e,t,o)}_onContextLost(){const{glNode:n}=this;n&&n._onContextLost()}_onContextRestored(n){const{glNode:e}=this;e&&e._onContextRestored(n)}render(){const{children:n}=this.props,{glSurface:{RenderLessElement:e,mapRenderableContent:t}}=this.context;return o.default.createElement(e,{ref:t?this.onRef:void 0},"function"===typeof n?n(this.redraw):n)}}e.default=u,p(u,"defaultProps",{index:0}),p(u,"contextTypes",{glParent:i.default.object.isRequired,glSurface:i.default.object.isRequired}),p(u,"childContextTypes",{glParent:i.default.object.isRequired})},dv69:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const{userAgent:r,vendor:o}="undefined"!==typeof navigator?navigator:{userAgent:"",vendor:""};var i,a,s,c,l,f,p,u,d,v,h,m,g;d=function(...n){return n.forEach((function(e){return"string"===typeof e?n=n.concat(m(e)):n.push(e)})),g.apply(window,n)},g=function(...n){return Function.prototype.apply.call(console.log,console,n)},s=[{regex:/\*([^\*]+)\*/,replacer:function(n,e){return"%c"+e+"%c"},styles:function(){return["font-style: italic",""]}},{regex:/_([^_]+)_/,replacer:function(n,e){return"%c"+e+"%c"},styles:function(){return["font-weight: bold",""]}},{regex:/`([^`]+)`/,replacer:function(n,e){return"%c"+e+"%c"},styles:function(){return["background: rgb(255, 255, 219); padding: 1px 5px; border: 1px solid rgba(0, 0, 0, 0.1)",""]}},{regex:/\[c=(?:"|')?((?:(?!(?:"|')\]).)*)(?:"|')?\]((?:(?!\[c\]).)*)\[c\]/,replacer:function(n,e,t){return"%c"+t+"%c"},styles:function(n){return[n[1],""]}}],l=function(n){var e;return e=!1,s.forEach((function(t){if(t.regex.test(n))return e=!0})),e},c=function(n){var e;return e=[],s.forEach((function(t){var r;if(r=n.match(t.regex))return e.push({format:t,match:r})})),e.sort((function(n,e){return n.match.index-e.match.index}))},m=function(n){var e,t;for(t=[];l(n);)e=c(n)[0],n=n.replace(e.format.regex,e.format.replacer),t=t.concat(e.format.styles(e.match));return[n].concat(t)},u=function(){return/Safari/.test(r)&&/Apple Computer/.test(o)},p=function(){return/OPR/.test(r)&&/Opera/.test(o)},f=function(){return/Firefox/.test(r)},h=function(){var n;return!!(n=r.match(/AppleWebKit\/(\d+)\.(\d+)(\.|\+|\s)/))&&537.38<=parseInt(n[1],10)+parseInt(n[2],10)/100},v=function(){var n;return!!(n=r.match(/OPR\/(\d+)\./))&&15<=parseInt(n[1],10)},a=function(){return"undefined"!==typeof window&&(window.console.firebug||window.console.exception)},(i=function(){return/MSIE/.test(r)}()||f()&&!a()||p()&&!v()||u()&&!h()?g:d).l=g;var y=i;e.default=y},e0Q9:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Surface=void 0;var r=t("rr/c"),o=a(t("xEkU")),i=a(t("v25H"));function a(n){return n&&n.__esModule?n:{default:n}}t("h/uW");const s=(0,r.createSurface)({GLView:i.default,RenderLessElement:"span",mapRenderableContent:n=>n instanceof Element?n.firstElementChild:null,requestFrame:o.default,cancelFrame:o.default.cancel});e.Surface=s},fpEm:function(n,e,t){"use strict";n.exports=function(n,e,t,o){for(var i={},c=0,l=t.length;c<l;++c){var f=t[c],p=f.name,u=f.type,d=f.locations;switch(u){case"bool":case"int":case"float":a(n,e,d[0],o,1,i,p);break;default:if(u.indexOf("vec")>=0){if((v=u.charCodeAt(u.length-1)-48)<2||v>4)throw new r("","Invalid data type for attribute "+p+": "+u);a(n,e,d[0],o,v,i,p)}else{if(!(u.indexOf("mat")>=0))throw new r("","Unknown data type for attribute "+p+": "+u);var v;if((v=u.charCodeAt(u.length-1)-48)<2||v>4)throw new r("","Invalid data type for attribute "+p+": "+u);s(n,e,d,o,v,i,p)}}}return i};var r=t("o/2B");function o(n,e,t,r,o,i){this._gl=n,this._wrapper=e,this._index=t,this._locations=r,this._dimension=o,this._constFunc=i}var i=o.prototype;function a(n,e,t,r,i,a,s){for(var c=["gl","v"],l=[],f=0;f<i;++f)c.push("x"+f),l.push("x"+f);c.push("if(x0.length===void 0){return gl.vertexAttrib"+i+"f(v,"+l.join()+")}else{return gl.vertexAttrib"+i+"fv(v,x0)}");var p=Function.apply(null,c),u=new o(n,e,t,r,i,p);Object.defineProperty(a,s,{set:function(e){return n.disableVertexAttribArray(r[t]),p(n,r[t],e),e},get:function(){return u},enumerable:!0})}function s(n,e,t,r,o,i,s){for(var c=new Array(o),l=new Array(o),f=0;f<o;++f)a(n,e,t[f],r,o,c,f),l[f]=c[f];Object.defineProperty(c,"location",{set:function(n){if(Array.isArray(n))for(var e=0;e<o;++e)l[e].location=n[e];else for(e=0;e<o;++e)l[e].location=n+e;return n},get:function(){for(var n=new Array(o),e=0;e<o;++e)n[e]=r[t[e]];return n},enumerable:!0}),c.pointer=function(e,i,a,s){e=e||n.FLOAT,i=!!i,a=a||o*o,s=s||0;for(var c=0;c<o;++c){var l=r[t[c]];n.vertexAttribPointer(l,o,e,i,a,s+c*o),n.enableVertexAttribArray(l)}};var p=new Array(o),u=n["vertexAttrib"+o+"fv"];Object.defineProperty(i,s,{set:function(e){for(var i=0;i<o;++i){var a=r[t[i]];if(n.disableVertexAttribArray(a),Array.isArray(e[0]))u.call(n,a,e[i]);else{for(var s=0;s<o;++s)p[s]=e[o*i+s];u.call(n,a,p)}}return e},get:function(){return c},enumerable:!0})}i.pointer=function(n,e,t,r){var o=this,i=o._gl,a=o._locations[o._index];i.vertexAttribPointer(a,o._dimension,n||i.FLOAT,!!e,t||0,r||0),i.enableVertexAttribArray(a)},i.set=function(n,e,t,r){return this._constFunc(this._locations[this._index],n,e,t,r)},Object.defineProperty(i,"location",{get:function(){return this._locations[this._index]},set:function(n){return n!==this._locations[this._index]&&(this._locations[this._index]=0|n,this._wrapper.program=null),0|n}})},g4pe:function(n,e,t){n.exports=t("8Kt/")},"h/uW":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"CanvasTextureLoader",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"VideoTextureLoader",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"ImageURLTextureLoader",{enumerable:!0,get:function(){return i.default}});var r=a(t("l8j9")),o=a(t("EEdt")),i=a(t("bPVu"));function a(n){return n&&n.__esModule?n:{default:n}}},hK8l:function(n,e,t){"use strict";function r(n,e,t){var o=0|n[t];if(o<=0)return[];var i,a=new Array(o);if(t===n.length-1)for(i=0;i<o;++i)a[i]=e;else for(i=0;i<o;++i)a[i]=r(n,e,t+1);return a}n.exports=function(n,e){switch("undefined"===typeof e&&(e=0),typeof n){case"number":if(n>0)return function(n,e){var t,r;for(t=new Array(n),r=0;r<n;++r)t[r]=e;return t}(0|n,e);break;case"object":if("number"===typeof n.length)return r(n,e,0)}return[]}},hYYf:function(n,e,t){n.exports=function(n){var e,t,p,u=0,d=0,v=c,h=[],m=[],g=1,y=0,x=0,b=!1,_=!1,w="",S=i,E=r;"300 es"===(n=n||{}).version&&(S=s,E=a);var T={},R={};for(u=0;u<S.length;u++)T[S[u]]=!0;for(u=0;u<E.length;u++)R[E[u]]=!0;return function(n){return m=[],null!==n?function(n){u=0,n.toString&&(n=n.toString());var t;w+=n.replace(/\r\n/g,"\n"),p=w.length;for(;e=w[u],u<p;){switch(t=u,v){case 0:u=C();break;case 1:u=A();break;case 2:u=j();break;case 3:u=P();break;case 4:u=N();break;case 11:u=L();break;case 5:u=M();break;case l:u=k();break;case 9:u=I();break;case c:u=O()}if(t!==u)switch(w[t]){case"\n":y=0,++g;break;default:++y}}return d+=u,w=w.slice(u),m}(n):function(n){h.length&&z(h.join(""));return v=10,z("(eof)"),m}()};function z(n){n.length&&m.push({type:f[v],data:n,position:x,line:g,column:y})}function O(){return h=h.length?[]:h,"/"===t&&"*"===e?(x=d+u-1,v=0,t=e,u+1):"/"===t&&"/"===e?(x=d+u-1,v=1,t=e,u+1):"#"===e?(v=2,x=d+u,u):/\s/.test(e)?(v=9,x=d+u,u):(b=/\d/.test(e),_=/[^\w_]/.test(e),x=d+u,v=b?4:_?3:l,u)}function I(){return/[^\s]/g.test(e)?(z(h.join("")),v=c,u):(h.push(e),t=e,u+1)}function j(){return"\r"!==e&&"\n"!==e||"\\"===t?(h.push(e),t=e,u+1):(z(h.join("")),v=c,u)}function A(){return j()}function C(){return"/"===e&&"*"===t?(h.push(e),z(h.join("")),v=c,u+1):(h.push(e),t=e,u+1)}function P(){if("."===t&&/\d/.test(e))return v=5,u;if("/"===t&&"*"===e)return v=0,u;if("/"===t&&"/"===e)return v=1,u;if("."===e&&h.length){for(;D(h););return v=5,u}if(";"===e||")"===e||"("===e){if(h.length)for(;D(h););return z(e),v=c,u+1}var n=2===h.length&&"="!==e;if(/[\w_\d\s]/.test(e)||n){for(;D(h););return v=c,u}return h.push(e),t=e,u+1}function D(n){for(var e,t,r=0;;){if(e=o.indexOf(n.slice(0,n.length+r).join("")),t=o[e],-1===e){if(r--+n.length>0)continue;t=n.slice(0,1).join("")}return z(t),x+=t.length,(h=h.slice(t.length)).length}}function L(){return/[^a-fA-F0-9]/.test(e)?(z(h.join("")),v=c,u):(h.push(e),t=e,u+1)}function N(){return"."===e||/[eE]/.test(e)?(h.push(e),v=5,t=e,u+1):"x"===e&&1===h.length&&"0"===h[0]?(v=11,h.push(e),t=e,u+1):/[^\d]/.test(e)?(z(h.join("")),v=c,u):(h.push(e),t=e,u+1)}function M(){return"f"===e&&(h.push(e),t=e,u+=1),/[eE]/.test(e)?(h.push(e),t=e,u+1):("-"!==e&&"+"!==e||!/[eE]/.test(t))&&/[^\d]/.test(e)?(z(h.join("")),v=c,u):(h.push(e),t=e,u+1)}function k(){if(/[^\d\w_]/.test(e)){var n=h.join("");return v=R[n]?8:T[n]?7:6,z(h.join("")),v=c,u}return h.push(e),t=e,u+1}};var r=t("GTa7"),o=t("aiXG"),i=t("Xs3h"),a=t("9fJb"),s=t("BkhO"),c=999,l=9999,f=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},hmBY:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var r=t("nKUr"),o=t("MX0m"),i=t.n(o);t("q1tI");function a(n){var e=n.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("main",{className:"jsx-1508801263",children:e}),Object(r.jsx)(i.a,{id:"1508801263",children:["main.jsx-1508801263{-webkit-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]})]})}},ieaa:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var r=t("nKUr"),o=t("MX0m"),i=t.n(o);t("q1tI");function a(){return Object(r.jsxs)("p",{className:"jsx-1268869240",children:[Object(r.jsx)("strong",{className:"jsx-1268869240",children:"\ud83c\udf99 Livestream each Saturday: "}),"\u201c",Object(r.jsx)("a",{href:"https://twitch.tv/greweb",target:"_blank",className:"jsx-1268869240 live",children:"It's Shaderday!"}),"\u201d",Object(r.jsx)(i.a,{id:"1268869240",children:["a.jsx-1268869240{color:inherit;-webkit-text-decoration:none;text-decoration:none;}","a.jsx-1268869240:hover,a.jsx-1268869240:active{-webkit-text-decoration:underline;text-decoration:underline;}","a.live.jsx-1268869240{-webkit-text-decoration:underline;text-decoration:underline;}"]})]})}},kR76:function(n,e,t){var r=t("SMLl");n.exports=function(n,e,t){e="number"===typeof e?e:1,t=t||": ";var o=n.split(/\r?\n/),i=String(o.length+e-1).length;return o.map((function(n,o){var a=o+e,s=String(a).length;return r(a,i-s)+t+n})).join("\n")}},"kVK+":function(n,e){e.read=function(n,e,t,r,o){var i,a,s=8*o-r-1,c=(1<<s)-1,l=c>>1,f=-7,p=t?o-1:0,u=t?-1:1,d=n[e+p];for(p+=u,i=d&(1<<-f)-1,d>>=-f,f+=s;f>0;i=256*i+n[e+p],p+=u,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=r;f>0;a=256*a+n[e+p],p+=u,f-=8);if(0===i)i=1-l;else{if(i===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),i-=l}return(d?-1:1)*a*Math.pow(2,i-r)},e.write=function(n,e,t,r,o,i){var a,s,c,l=8*i-o-1,f=(1<<l)-1,p=f>>1,u=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,v=r?1:-1,h=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+p>=1?u/c:u*Math.pow(2,1-p))*c>=2&&(a++,c/=2),a+p>=f?(s=0,a=f):a+p>=1?(s=(e*c-1)*Math.pow(2,o),a+=p):(s=e*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;n[t+d]=255&s,d+=v,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;n[t+d]=255&a,d+=v,a/=256,l-=8);n[t+d-v]|=128*h}},l8j9:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=t("TGEO");class o extends r.WebGLTextureLoaderSyncHashCache{constructor(...n){var e,t,r;super(...n),r={},(t="disposes")in(e=this)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}canLoad(n){return n instanceof HTMLCanvasElement}inputHash(n){return n}getNoCache(n){const{gl:e}=this,{width:t,height:r}=n,o=e.createTexture();return e.bindTexture(e.TEXTURE_2D,o),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),{texture:o,width:t,height:r}}update(n){const{gl:e}=this,{texture:t}=this.get(n);e.bindTexture(e.TEXTURE_2D,t),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)}}r.globalRegistry.add(o);var i=o;e.default=i},lSNA:function(n,e){n.exports=function(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}},laZL:function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.isShaderIdentifier=function(n){return"object"===typeof n&&!!n&&n.type===a&&"string"===typeof n.id},e.ensureShaderDefinition=d,e.shaderDefinitionToShaderInfo=g,e.shaderInfoEquals=function(n,e){return n.frag===e.frag&&n.vert===e.vert},e.default=void 0;var r=i(t("QLaP")),o=i(t("dEu3"));function i(n){return n&&n.__esModule?n:{default:n}}const a="ShaderID",s={},c={},l={},f=(p=0,()=>(++p).toString());var p;const u={100:o.default`
attribute vec2 _p;
varying vec2 uv;
void main() {
gl_Position = vec4(_p,0.0,1.0);
uv = vec2(0.5, 0.5) * (_p+vec2(1.0, 1.0));
}`,"300 es":o.default`#version 300 es
in vec2 _p;
out vec2 uv;
void main() {
gl_Position = vec4(_p,0.0,1.0);
uv = vec2(0.5, 0.5) * (_p+vec2(1.0, 1.0));
}`};function d(n,e=""){return(0,r.default)(n&&"string"===typeof n.frag,"A `frag` GLSL code (string) is required"+e),n}const v="#version";function h(n){const e=n.indexOf("\n"),t=e>-1?n.slice(0,e):n;return t.startsWith(v)?t.slice(v.length+1):"100"}const m=(n,e)=>e?n+"\n#define SHADER_NAME "+e+"\n":n;function g({frag:n,vert:e},t){const r=h(n=n.trim());if(e){if(r!==h(e=e.trim()))throw new Error("GLSL shader vert and frag version must match")}else if(!(e=u[r]))throw new Error("gl-react: could not find static vertex shader for GLSL version '"+r+"'");return{frag:n=m(n,t),vert:e=m(e,t)}}var y=n.__glReactShaders=n.__glReactShaders||{create(n){const e={};return Object.keys(n).forEach((t=>{const r=d(n[t]," in Shaders.create({ "+t+": ... })"),o=f(),i=Object.freeze({type:a,id:o});s[o]=r,c[o]=t,e[t]=i;const p=g(r,t);l[o]=p})),e},getName:n=>(c[n.id]||"???")+`#${String(n.id)}`,getShortName:n=>c[n.id]||"???",get:n=>((0,r.default)(n.id in s,"Shader %s does not exist. Make sure you don't have gl-react dup issue: `npm ls gl-react`",n.id),l[n.id])};e.default=y}).call(this,t("yLpj"))},lwAK:function(n,e,t){"use strict";var r;e.__esModule=!0,e.AmpStateContext=void 0;var o=((r=t("q1tI"))&&r.__esModule?r:{default:r}).default.createContext({});e.AmpStateContext=o},nXQg:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={Backbuffer:"_Backbuffer_",backbufferFrom:n=>({type:"BackbufferFrom",node:n}),Resolution:"_Resolution_",textureSize:n=>({type:"TextureSize",obj:n}),textureSizeRatio:n=>({type:"TextureSize",obj:n,ratio:!0})};e.default=r},"o/2B":function(n,e){function t(n,e,t){this.shortMessage=e||"",this.longMessage=t||"",this.rawError=n||"",this.message="gl-shader: "+(e||n||"")+(t?"\n"+t:""),this.stack=(new Error).stack}t.prototype=new Error,t.prototype.name="GLError",t.prototype.constructor=t,n.exports=t},pIo5:function(n,e,t){"use strict";function r(n){var e=32;return(n&=-n)&&e--,65535&n&&(e-=16),16711935&n&&(e-=8),252645135&n&&(e-=4),858993459&n&&(e-=2),1431655765&n&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(n){return(n>0)-(n<0)},e.abs=function(n){var e=n>>31;return(n^e)-e},e.min=function(n,e){return e^(n^e)&-(n<e)},e.max=function(n,e){return n^(n^e)&-(n<e)},e.isPow2=function(n){return!(n&n-1)&&!!n},e.log2=function(n){var e,t;return e=(n>65535)<<4,e|=t=((n>>>=e)>255)<<3,e|=t=((n>>>=t)>15)<<2,(e|=t=((n>>>=t)>3)<<1)|(n>>>=t)>>1},e.log10=function(n){return n>=1e9?9:n>=1e8?8:n>=1e7?7:n>=1e6?6:n>=1e5?5:n>=1e4?4:n>=1e3?3:n>=100?2:n>=10?1:0},e.popCount=function(n){return 16843009*((n=(858993459&(n-=n>>>1&1431655765))+(n>>>2&858993459))+(n>>>4)&252645135)>>>24},e.countTrailingZeros=r,e.nextPow2=function(n){return n+=0===n,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,(n|=n>>>16)+1},e.prevPow2=function(n){return n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,(n|=n>>>16)-(n>>>1)},e.parity=function(n){return n^=n>>>16,n^=n>>>8,n^=n>>>4,27030>>>(n&=15)&1};var o=new Array(256);!function(n){for(var e=0;e<256;++e){var t=e,r=e,o=7;for(t>>>=1;t;t>>>=1)r<<=1,r|=1&t,--o;n[e]=r<<o&255}}(o),e.reverse=function(n){return o[255&n]<<24|o[n>>>8&255]<<16|o[n>>>16&255]<<8|o[n>>>24&255]},e.interleave2=function(n,e){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))<<1},e.deinterleave2=function(n,e){return(n=65535&((n=16711935&((n=252645135&((n=858993459&((n=n>>>e&1431655765)|n>>>1))|n>>>2))|n>>>4))|n>>>16))<<16>>16},e.interleave3=function(n,e,t){return n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2),(n|=(e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2))<<1)|(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<2},e.deinterleave3=function(n,e){return(n=1023&((n=4278190335&((n=251719695&((n=3272356035&((n=n>>>e&1227133513)|n>>>2))|n>>>4))|n>>>8))|n>>>16))<<22>>22},e.nextCombination=function(n){var e=n|n-1;return e+1|(~e&-~e)-1>>>r(n)+1}},rL8q:function(n,e,t){"use strict";t.d(e,"b",(function(){return ta})),t.d(e,"a",(function(){return ra}));var r={};t.r(r),t.d(r,"n",(function(){return cn})),t.d(r,"title",(function(){return ln})),t.d(r,"Shader",(function(){return fn}));var o={};t.r(o),t.d(o,"n",(function(){return dn})),t.d(o,"title",(function(){return vn})),t.d(o,"Shader",(function(){return hn}));var i={};t.r(i),t.d(i,"n",(function(){return yn})),t.d(i,"title",(function(){return xn})),t.d(i,"Shader",(function(){return bn}));var a={};t.r(a),t.d(a,"n",(function(){return jn})),t.d(a,"title",(function(){return An})),t.d(a,"Shader",(function(){return Cn}));var s={};t.r(s),t.d(s,"n",(function(){return Nn})),t.d(s,"title",(function(){return Mn})),t.d(s,"Shader",(function(){return kn}));var c={};t.r(c),t.d(c,"n",(function(){return Fn})),t.d(c,"title",(function(){return qn})),t.d(c,"Shader",(function(){return Gn}));var l={};t.r(l),t.d(l,"n",(function(){return Xn})),t.d(l,"title",(function(){return Yn})),t.d(l,"Shader",(function(){return Wn}));var f={};t.r(f),t.d(f,"n",(function(){return Zn})),t.d(f,"title",(function(){return $n})),t.d(f,"Shader",(function(){return Jn}));var p={};t.r(p),t.d(p,"n",(function(){return te})),t.d(p,"title",(function(){return re})),t.d(p,"Shader",(function(){return oe}));var u={};t.r(u),t.d(u,"n",(function(){return se})),t.d(u,"title",(function(){return ce})),t.d(u,"Shader",(function(){return le}));var d={};t.r(d),t.d(d,"n",(function(){return ue})),t.d(d,"title",(function(){return de})),t.d(d,"Shader",(function(){return ve}));var v={};t.r(v),t.d(v,"n",(function(){return ge})),t.d(v,"title",(function(){return ye})),t.d(v,"Shader",(function(){return xe}));var h={};t.r(h),t.d(h,"n",(function(){return we})),t.d(h,"title",(function(){return Se})),t.d(h,"Shader",(function(){return Ee}));var m={};t.r(m),t.d(m,"n",(function(){return ze})),t.d(m,"title",(function(){return Oe})),t.d(m,"Shader",(function(){return Ie}));var g={};t.r(g),t.d(g,"n",(function(){return He})),t.d(g,"title",(function(){return Ve})),t.d(g,"Shader",(function(){return Xe}));var y={};t.r(y),t.d(y,"n",(function(){return Ze})),t.d(y,"title",(function(){return $e})),t.d(y,"Shader",(function(){return Je}));var x={};t.r(x),t.d(x,"n",(function(){return tt})),t.d(x,"title",(function(){return rt})),t.d(x,"Shader",(function(){return ot}));var b={};t.r(b),t.d(b,"n",(function(){return st})),t.d(b,"title",(function(){return ct})),t.d(b,"Shader",(function(){return lt}));var _={};t.r(_),t.d(_,"n",(function(){return ut})),t.d(_,"title",(function(){return dt})),t.d(_,"Shader",(function(){return vt}));var w={};t.r(w),t.d(w,"n",(function(){return yt})),t.d(w,"title",(function(){return xt})),t.d(w,"Shader",(function(){return bt}));var S={};t.r(S),t.d(S,"n",(function(){return Tt})),t.d(S,"title",(function(){return Rt})),t.d(S,"Shader",(function(){return zt}));var E={};t.r(E),t.d(E,"n",(function(){return At})),t.d(E,"title",(function(){return Ct})),t.d(E,"Shader",(function(){return Pt}));var T={};t.r(T),t.d(T,"n",(function(){return Nt})),t.d(T,"title",(function(){return Mt})),t.d(T,"Shader",(function(){return kt}));var R={};t.r(R),t.d(R,"n",(function(){return Ft})),t.d(R,"title",(function(){return qt})),t.d(R,"Shader",(function(){return Gt}));var z={};t.r(z),t.d(z,"n",(function(){return Yt})),t.d(z,"title",(function(){return Wt})),t.d(z,"Shader",(function(){return Kt}));var O={};t.r(O),t.d(O,"n",(function(){return nr})),t.d(O,"title",(function(){return er})),t.d(O,"Shader",(function(){return tr}));var I={};t.r(I),t.d(I,"n",(function(){return sr})),t.d(I,"title",(function(){return cr})),t.d(I,"Shader",(function(){return lr}));var j={};t.r(j),t.d(j,"n",(function(){return vr})),t.d(j,"title",(function(){return hr})),t.d(j,"Shader",(function(){return mr}));var A={};t.r(A),t.d(A,"n",(function(){return br})),t.d(A,"title",(function(){return _r})),t.d(A,"Shader",(function(){return wr}));var C={};t.r(C),t.d(C,"n",(function(){return Tr})),t.d(C,"title",(function(){return Rr})),t.d(C,"Shader",(function(){return zr}));var P={};t.r(P),t.d(P,"n",(function(){return jr})),t.d(P,"title",(function(){return Ar})),t.d(P,"Shader",(function(){return Cr}));var D={};t.r(D),t.d(D,"n",(function(){return Nr})),t.d(D,"title",(function(){return Mr})),t.d(D,"Shader",(function(){return kr}));var L={};t.r(L),t.d(L,"n",(function(){return Fr})),t.d(L,"title",(function(){return qr})),t.d(L,"Shader",(function(){return Gr}));var N={};t.r(N),t.d(N,"n",(function(){return Xr})),t.d(N,"title",(function(){return Yr})),t.d(N,"Shader",(function(){return Wr}));var M={};t.r(M),t.d(M,"n",(function(){return $r})),t.d(M,"title",(function(){return Jr})),t.d(M,"Shader",(function(){return no}));var k={};t.r(k),t.d(k,"n",(function(){return io})),t.d(k,"title",(function(){return ao})),t.d(k,"Shader",(function(){return so}));var U={};t.r(U),t.d(U,"n",(function(){return po})),t.d(U,"title",(function(){return uo})),t.d(U,"Shader",(function(){return vo}));var B={};t.r(B),t.d(B,"n",(function(){return yo})),t.d(B,"title",(function(){return xo})),t.d(B,"Shader",(function(){return bo}));var F={};t.r(F),t.d(F,"n",(function(){return Eo})),t.d(F,"title",(function(){return To})),t.d(F,"Shader",(function(){return Ro}));var q={};t.r(q),t.d(q,"n",(function(){return Io})),t.d(q,"title",(function(){return jo})),t.d(q,"Shader",(function(){return Ao}));var G={};t.r(G),t.d(G,"n",(function(){return Do})),t.d(G,"title",(function(){return Lo})),t.d(G,"Shader",(function(){return No}));var H={};t.r(H),t.d(H,"n",(function(){return Uo})),t.d(H,"title",(function(){return Bo})),t.d(H,"Shader",(function(){return Fo}));var V={};t.r(V),t.d(V,"n",(function(){return Vo})),t.d(V,"title",(function(){return Xo})),t.d(V,"Shader",(function(){return Yo}));var X={};t.r(X),t.d(X,"n",(function(){return Zo})),t.d(X,"title",(function(){return $o})),t.d(X,"Shader",(function(){return Jo}));var Y={};t.r(Y),t.d(Y,"n",(function(){return ti})),t.d(Y,"title",(function(){return ri})),t.d(Y,"Shader",(function(){return oi}));var W={};t.r(W),t.d(W,"n",(function(){return si})),t.d(W,"title",(function(){return ci})),t.d(W,"Shader",(function(){return li}));var K={};t.r(K),t.d(K,"n",(function(){return ui})),t.d(K,"title",(function(){return di})),t.d(K,"Shader",(function(){return vi}));var Q={};t.r(Q),t.d(Q,"n",(function(){return gi})),t.d(Q,"title",(function(){return yi})),t.d(Q,"Shader",(function(){return xi}));var Z={};t.r(Z),t.d(Z,"n",(function(){return Si})),t.d(Z,"title",(function(){return Ei})),t.d(Z,"Shader",(function(){return Ti}));var $={};t.r($),t.d($,"n",(function(){return Ii})),t.d($,"title",(function(){return ji})),t.d($,"Shader",(function(){return Ai}));var J={};t.r(J),t.d(J,"n",(function(){return Di})),t.d(J,"title",(function(){return Li})),t.d(J,"Shader",(function(){return Ni}));var nn={};t.r(nn),t.d(nn,"n",(function(){return Ui})),t.d(nn,"title",(function(){return Bi})),t.d(nn,"Shader",(function(){return Fi}));var en={};t.r(en),t.d(en,"n",(function(){return Hi})),t.d(en,"title",(function(){return Vi})),t.d(en,"Shader",(function(){return Xi}));var tn={};function rn(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}t.r(tn),t.d(tn,"n",(function(){return Ki})),t.d(tn,"title",(function(){return Qi})),t.d(tn,"Shader",(function(){return Zi}));var on=t("nKUr"),an=(t("g4pe"),t("rr/c"));function sn(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\nfloat vingt (vec2 p) {\n  p *= 1.1;\n  p -= 0.1;\n  return step(0.3, p.x) * step(p.x, 0.5) * \n  step(0.5, p.y) * step(p.y, 1.0) +\n  step(0., p.x) * step(p.x, 0.2) * \n  step(0., p.y) * step(p.y, 0.5) +\n  step(0., p.x) * step(p.x, 0.5) * \n  step(0., p.y) * step(p.y, 0.2) +\n  step(0., p.x) * step(p.x, 0.5) * \n  step(0.4, p.y) * step(p.y, 0.6) +\n  step(0., p.x) * step(p.x, 0.5) * \n  step(0.8, p.y) * step(p.y, 1.0) +\n  step(0.6, p.x) * step(p.x, 1.0) * \n  step(0.1, p.y) * step(p.y, 0.9) -\n  step(0.7, p.x) * step(p.x, 0.9) * \n  step(0.2, p.y) * step(p.y, 0.8);\n}\nvoid main() {\n  vec2 p = uv + 0.1 * vec2(cos(uv.x*10.+time*0.1), sin(1.0+uv.y*10.+time*0.2));\n  p -= 0.2 * pow(time*0.1, 1.3);\n  vec2 r = p * (0.1+pow(0.2*time, 1.2));\n  float s = vingt(mod(r, 1.0)) * step(mod(r.x, 4.0), 2.0) * step(mod(r.y, 2.0), 1.0);\n  gl_FragColor = vec4(\n    mix(\n      vec3(1., 1., 1.),\n      vec3(uv.x, uv.y, 0.5 + 0.2 * cos(time)),\n      step(0.5, s)\n    ), 1.0);\n}"]);return sn=function(){return n},n}var cn=1,ln="Hello 2020",fn=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:pn.day001,uniforms:{time:e}})},pn=an.Shaders.create({day001:{frag:Object(an.GLSL)(sn())}});function un(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n \nfloat shape (vec2 p, float d) {\n  float t = 0.5 + time * 0.05;\n  t = pow(t, 2.);\n  t += d * 0.003 * pow(t, 1.1);\n  p -= 0.5;\n  p /= 2.0;\n  p *= mat2(cos(t), -sin(t), sin(t), cos(t));\n  p += 0.5;\n  t *= 2.;\n  vec2 c = p - vec2(.5+0.2*cos(t), .5-0.2*sin(t));\n  p *= length(c);\n  float m = mod(p.x * 5.* smoothstep(0., 5., t) + t * c.y, 1.0);\n  return step(length(vec2(m, p.y) - .5), .42);\n}\n\nvoid main() {\n  gl_FragColor = vec4(\n    shape(uv, -1.),\n    shape(uv, 0.),\n    shape(uv, 1.),\n    1.0\n  );\n}"]);return un=function(){return n},n}var dn=2,vn="stripes",hn=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:mn.node,uniforms:{time:e}})},mn=an.Shaders.create({node:{frag:Object(an.GLSL)(un())}});function gn(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nconst float PI = ",";\n\nfloat flower (vec2 p, float n, float s, float r) {\n  float a = 0.5 + 0.5 * atan(p.y, p.x) / PI;\n  float d = length(p);\n  float amp = (1. + 0.5 * cos((r + a * n) * 2. * PI)) / 3.;\n  return step(d, s * amp);\n}\n\nfloat helios (vec2 p, float n, float s, float r) {\n  return step(\n    length(p) - step(length(p), 0.03),\n    s * fract(r + n * (0.5 + 0.5 * atan(p.y, p.x) / PI)));\n}\n\nvec2 pattern (vec2 p, vec2 m) {\n  float f = 0.5 * m.y * step(1., mod(0.5 + p.x / m.x, 2.));\n  p.y += f;\n  p = mod(p + m / 2., m) - m / 2.;\n  return p;\n}\n\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec3 clr (float f) {\n  float c = cos(time);\n  f += 0.2 * (1. + sign(c) * pow(abs(c), 0.2));\n  return palette(\n    f,\n    vec3(0.5),\n    vec3(0.5),\n    vec3(1.00, 1.00, 1.00),\n    vec3(0.0, 0.2, 0.3)\n  );\n}\n\nvoid main() {\n  vec3 c = mix(\n    mix(\n      clr(0.2),\n      clr(0.18),\n      helios(uv - 0.5, 5., 0.4, 0.2 * time)\n    ),\n    clr(.2 + .1 * cos(6. * time + floor(10.0 * uv.y + 0.5))),\n    flower(pattern(uv, vec2(0.2)), 5., 0.1, time)\n  );\n  gl_FragColor = vec4(c, 1.0);\n}"]);return gn=function(){return n},n}var yn=3,xn="zephyr",bn=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:_n.node,uniforms:{time:e}})},_n=an.Shaders.create({node:{frag:Object(an.GLSL)(gn(),Math.PI)}}),wn=t("q1tI"),Sn=t.n(wn);function En(){var n=rn(["\n  precision highp float;\n  varying vec2 uv;\n  uniform float size;\n  uniform sampler2D t; // the previous world state\n  void main() {\n    float prev = step(0.5, texture2D(t, uv).r);\n    float c = 1.0 / size;\n    float sum =\n    step(0.5, texture2D(t, uv + vec2(-1.0, -1.0)*c).r) +\n    step(0.5, texture2D(t, uv + vec2(-1.0,  0.0)*c).r) +\n    step(0.5, texture2D(t, uv + vec2(-1.0,  1.0)*c).r) +\n    step(0.5, texture2D(t, uv + vec2( 0.0,  1.0)*c).r) +\n    step(0.5, texture2D(t, uv + vec2( 1.0,  1.0)*c).r) +\n    step(0.5, texture2D(t, uv + vec2( 1.0,  0.0)*c).r) +\n    step(0.5, texture2D(t, uv + vec2( 1.0, -1.0)*c).r) +\n    step(0.5, texture2D(t, uv + vec2( 0.0, -1.0)*c).r);\n    float next = prev==1.0 && sum >= 2.0 && sum <= 3.0 || sum == 3.0 ? 1.0 : 0.0;\n    gl_FragColor = vec4(vec3(next), 1.0);\n  }"]);return En=function(){return n},n}function Tn(){var n=rn(["\n  precision highp float;\n  uniform float seed;\n  // i\n  varying vec2 uv;\n  float random (vec2 uv) {\n    return fract(sin(dot(uv + seed, vec2(12.9898,78.233))) * 43758.5453);\n  }\n  // i\n  void main() {\n    gl_FragColor = vec4(vec3(step(0.5, random(uv))), 1.0);\n  }"]);return Tn=function(){return n},n}var Rn=an.Shaders.create({InitGameOfLife:{frag:Object(an.GLSL)(Tn())},GameOfLife:{frag:Object(an.GLSL)(En())}}),zn=Sn.a.memo((function(n){var e=n.tick,t=n.size;return e%(n.refreshEveryTicks||1/0)===0?Object(on.jsx)(an.Node,{shader:Rn.InitGameOfLife,uniforms:{seed:Math.random()},width:t,height:t,backbuffering:!0,sync:!0}):Object(on.jsx)(an.Node,{shader:Rn.GameOfLife,width:t,height:t,backbuffering:!0,sync:!0,uniforms:{t:an.Uniform.Backbuffer,size:t}})}));function On(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\nuniform sampler2D a, b;\n\nconst float PI = ",";\n\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvoid main() {\n  float t = mod(time * 0.2, 2.);\n  vec2 p = uv - .5;\n  float x = 0.5 + 0.5 * atan(p.y, p.x) / PI;\n  float y = mod((sqrt(1.6 * length(p)) - 2. * time / 5.), 2.);\n  x = mod(x + 0.1 * y, 1.);\n  float y1 = fract(y);\n  float y2 = fract(y - 1.);\n  float sa = step(1., y);\n  float sb = step(y, 1.);\n  float wallA = texture2D(a, vec2(x, y1)).r;\n  float wallB = texture2D(b, vec2(x, y2)).r;\n  float fade = smoothstep(.01, .011, length(p));\n  vec3 c =\n    palette(\n      .5 +\n      fade * (\n      0.02 * step(fract(20. * x), 0.5) +\n      .1 * sa * wallA -\n      .1 * sb * wallB ),\n      vec3(.8),\n      vec3(.5),\n      vec3(.3, .9, .9),\n      vec3(0.8, 0.3, 0.2)\n    );\n  gl_FragColor = vec4(c, 1.0);\n}"]);return On=function(){return n},n}var In,jn=4,An="Ray of Life",Cn=function(n){var e=n.time;In||(In=e);var t=e-In,r=Math.floor(10*t),o=r+25,i=10*(1+Math.floor(r/50)),a=10*(1+Math.floor(o/50));return Object(on.jsx)(Pn,{time:e,a:Object(on.jsx)(an.NearestCopy,{children:Object(on.jsx)(zn,{refreshEveryTicks:50,tick:r,size:i})}),b:Object(on.jsx)(an.NearestCopy,{children:Object(on.jsx)(zn,{refreshEveryTicks:50,tick:o,size:a})})})},Pn=function(n){var e=n.a,t=n.b,r=n.time;return Object(on.jsx)(an.Node,{uniforms:{a:e,b:t,time:r},shader:Dn.main})},Dn=an.Shaders.create({main:{frag:Object(an.GLSL)(On(),Math.PI)}});t("e0Q9");function Ln(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nfloat opRepF(in float p, in float s) {\n  return mod(p+s*0.5,s)-s*0.5;\n}\nvec2 opRep(in vec2 p, in float s) {\n  return mod(p+s*0.5,s)-s*0.5;\n}\n\nmat2 rot (float a) {\n  float c = cos(a);\n  float s = sin(a);\n  return mat2(c,s,-s,c);\n}\n\nfloat sphere (vec3 p, float r) {\n  return length(p)-r;\n}\n\nfloat box (vec3 p, vec3 c) {\n  return length(max(abs(p)-c,0.));\n}\n\nfloat smin( float a, float b, float k ) {\n  float h = clamp( 0.5+0.5*(b-a)/k, 0.0, 1.0 );\n  return mix( b, a, h ) - k*h*(1.0-h);\n}\n\nfloat smax(float a,float b, float k) {\n    return -smin(-a,-b,k);\n}\n\nfloat shape (vec3 p) {\n  float a = box(p, vec3(3.));\n  float b = sphere(p, 3.8);\n  return max(-b, a);\n}\n\nfloat shape2 (vec3 p) {\n  vec3 w = vec3(p);\n  p.xy = opRep(p.xy, 2.);\n  p.z = opRepF(p.z, 2.);\n  float s = sphere(p, 1.4 + 0.6 * cos(6. * time));\n  s = max(s, box(w, vec3(3.)));\n  return s;\n}\n\nfloat SDF(vec3 p) {\n  float s = 99.;\n  p.x -= 3.;\n  p.zy *= rot(cos(time / 5.));\n  p.zx *= rot(cos(time / 2.));\n  p.yx *= rot(0.5 * sin(time / 3.));\n  p.z = opRepF(p.z, 20.);\n  p.z -= 3.;\n  p.x = opRepF(p.x, 20.);\n  p.x -= 3.;\n  float s1 = min(s, shape(p));\n  p.z += 7.;\n  p.x += 7.;\n  float s2 = min(s, shape2(p));\n  return min(s1, s2);\n}\n\nvoid main() {\n  vec3 p = vec3 (0., 0., -14.);\n  vec3 dir = normalize(vec3((uv - 0.5) * 2.,1.));\n  float shad = 1.;\n  for (int i=0; i<60; i++) {\n    float d = SDF(p);\n    if (d<0.001) {\n      shad = float(i)/60.;\n      break;\n    }\n    p += d * dir * 0.5;\n  }\n  vec3 c =\n    pow(smoothstep(50., 0., p.z), 3.) *\n    sqrt(vec3(1. - shad));\n  gl_FragColor = vec4(c,1.0);\n}"]);return Ln=function(){return n},n}var Nn=5,Mn="Here We Go Again",kn=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:Un.node,uniforms:{time:e}})},Un=an.Shaders.create({node:{frag:Object(an.GLSL)(Ln())}});function Bn(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nconst float SEED = ",";\n\n// from http://glslsandbox.com/e#43182.0\n#define SQRT3 1.7320508\nconst vec2 s = vec2(1.0, SQRT3);\nfloat hex(in vec2 p){\n  p = abs(p);\n  return max(dot(p, s*.5), p.x);\n}\nvec4 getHex(vec2 p) {\n  vec4 hC = floor(vec4(p, p - vec2(.5, 1))/s.xyxy) + .5;\n  vec4 h = vec4(p - hC.xy*s, p - (hC.zw + .5)*s);\n  return dot(h.xy, h.xy)<dot(h.zw, h.zw) ? vec4(h.xy, hC.xy) : vec4(h.zw, hC.zw + 9.73);\n}\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n///////////////////////////////////////////\n\n\nvec4 scene (vec4 h) {\n  vec2 p = h.xy;\n  vec2 id = h.zw;\n  float one = step(0., p.x+s.y*p.y) * step(0., s.y*p.y-p.x);\n  float two = step(0., p.x-s.y*p.y) * step(0., p.x);\n  float thr = step(p.x+s.y*p.y, 0.) * step(p.x, 0.);\n  float special =\n      step(mod(id.y, 4.), mod(id.x, 3.5)) *\n      step(mod(id.x + 3.*id.y, 5.), 0.5);\n  vec3 c =\n  palette(\n    0.1 * one + 0.2 * two + 0.3 * thr,\n    vec3(0.5),\n    vec3(0.5),\n    vec3(1.00, 1.00, 1.00),\n    vec3(\n      mod(id.y * 73.6, 1.) * special * smoothstep(1.0, 0.0, cos(time + 0.1 * uv.x)),\n      0.8 * fract((id)*0.01))\n  );\n  return vec4(c, 1.0);\n}\n\nvoid main() {\n  vec2 p = 1000.0 * SEED + 0.3 * time + 5. * uv;\n  gl_FragColor = scene(getHex(p));\n}"]);return Bn=function(){return n},n}var Fn=6,qn="Bestagons",Gn=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:Hn.node,uniforms:{time:e}})},Hn=an.Shaders.create({node:{frag:Object(an.GLSL)(Bn(),Math.random())}});function Vn(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\n// from http://glslsandbox.com/e#43182.0\n#define SQRT3 1.7320508\nconst vec2 s = vec2(1.0, SQRT3);\nfloat hex(in vec2 p){\n  p = abs(p);\n  return max(dot(p, s*.5), p.x);\n}\nvec4 getHex(vec2 p) {\n  vec4 hC = floor(vec4(p, p - vec2(.5, 1))/s.xyxy) + .5;\n  vec4 h = vec4(p - hC.xy*s, p - (hC.zw + .5)*s);\n  return dot(h.xy, h.xy)<dot(h.zw, h.zw) ? vec4(h.xy, hC.xy) : vec4(h.zw, hC.zw + 9.73);\n}\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n///////////////////////////////////////////\n\nmat2 rot (float a) {\n  float c = cos(a);\n  float s = sin(a);\n  return mat2(c,s,-s,c);\n}\n\nfloat sdSegment (in vec3 p, in float L, in float R) {\n  p.y -= min(L, max(0.0, p.y));\n  return length(p) - R;\n}\n\nvec2 id;\n\nfloat SDF(vec3 p) {\n  // The whole 3D objects are defined in this function\n  p.z += 3. + cos(0.5 * time);\n  p.yz *= rot(-1. + 0.1 * pow(.5 + .5*cos(0.9 * time), 4.) + 0.2 * cos(.08 * time));\n  p.xz *= rot(.1 * time);\n  vec4 h = getHex(p.xz);\n  id = h.zw;\n  p.x = h.x;\n  p.z = h.y;\n  p.x += 0.1 * sin(4.*(p.z + p.y + time - 0.03 * id.x));\n  return sdSegment(p.xyz, 3., 0.25);\n}\n\nvoid main() {\n  vec3 p = vec3 (0., 0., -10.);\n  vec3 dir = normalize(vec3((uv - 0.5) * 2.,1.));\n  float shad = 1.;\n  for (int i=0; i<60; i++) {\n    float d = SDF(p);\n    if (d<0.001) {\n      shad = float(i)/60.;\n      break;\n    }\n    p += d * dir * 0.5;\n  }\n\n  // Coloring\n  vec3 c =\n    pow(smoothstep(50., 0., p.z), 3.) *\n    // it was pretty hard to get a nice palette.\n    // not satisfied with current result..\n    palette(\n      shad,\n      vec3(.5),\n      vec3(.5),\n      vec3(1., 0.2, 0.),\n      vec3(\n        0.6,\n        0.5  + 0.5 * cos(time + 10. * length(id)),\n        0.3 + 0.2 * cos(.7*time + 13. * length(id))\n      )) *\n    sqrt(vec3(1. - shad));\n  gl_FragColor = vec4(c,1.0);\n}"]);return Vn=function(){return n},n}var Xn=7,Yn="Worms party",Wn=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:Kn.node,uniforms:{time:e}})},Kn=an.Shaders.create({node:{frag:Object(an.GLSL)(Vn())}});function Qn(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\n//////// https://iquilezles.org/www/articles/distfunctions/distfunctions.htm\nfloat sdCone( in vec3 p, in vec2 c, float h )\n{\n  // c is the sin/cos of the angle, h is height\n  // Alternatively pass q instead of (c,h),\n  // which is the point at the base in 2D\n  vec2 q = h*vec2(c.x/c.y,-1.0);\n    \n  vec2 w = vec2( length(p.xz), p.y );\n  vec2 a = w - q*clamp( dot(w,q)/dot(q,q), 0.0, 1.0 );\n  vec2 b = w - q*vec2( clamp( w.x/q.x, 0.0, 1.0 ), 1.0 );\n  float k = sign( q.y );\n  float d = min(dot( a, a ),dot(b, b));\n  float s = max( k*(w.x*q.y-w.y*q.x),k*(w.y-q.y)  );\n  return sqrt(d)*sign(s);\n}\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n/////////\n\nvec3 clr (float f) {\n  return palette(\n    f,\n    vec3(0.5),\n    vec3(0.5),\n    vec3(1.00, 1.00, 1.00),\n    //vec3(0.3, 0.6, 1.)\n    vec3(0.3, 0.15, 1.)\n  );\n}\n\nfloat SDF(vec3 p) {\n  p.z += 4.;\n  p.y -= 2.;\n  p.x += 4. + .2 * cos(2. * time);\n  float s = sdCone(p, vec2(1. + .1 *  cos(p.z*8. - 5.*time), 2.), 6.) - .5;\n  p.x -= 3.;\n  s = min(s, sdCone(p, vec2(1. + .1 *  cos(p.z*13. - 9.*time), 2.), 6.)-.8);\n  p.x -= 3.;\n  s = min(s, sdCone(p, vec2(1. + .1 *  sin(p.z*11. - 7.*time), 2.), 6.)-.9);\n  p.x -= 3.;\n  s = min(s, sdCone(p, vec2(1. + .1 *  sin(p.z*10. - 5.*time), 2.), 6.)-.5);\n  p.x -= -15. + 20. * fract(.1 * time);\n  p.z -= 3.;\n  p.y -= 5. + .3 * cos(2. * time);\n  s = min(s, max(0.6-length(p-vec3(0.3, 0.1, 0.1)), length(p)-0.6));\n  return s;\n}\n\nvoid main() {\n  vec3 p = vec3 (0., 0., -10.);\n  vec3 dir = normalize(vec3((uv - 0.5) * 2.,1.));\n  float shad = 1.;\n  for (int i=0; i<60; i++) {\n    float d = SDF(p);\n    if (d<0.001) {\n      shad = float(i)/60.;\n      break;\n    }\n    p += d * dir * 0.5;\n  }\n  \n  // Coloring\n  vec3 c =\n    clr(p.z * 0.2) *\n    pow(smoothstep(50., 0., p.z), 3.) *\n    vec3(sqrt(1. - shad));\n  gl_FragColor = vec4(c,1.0);\n}\n"]);return Qn=function(){return n},n}var Zn=8,$n="moontains",Jn=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:ne.node,uniforms:{time:e}})},ne=an.Shaders.create({node:{frag:Object(an.GLSL)(Qn())}});function ee(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\n#define PI ",'\nmat2 rot (float a) {\n  float c = cos(a);\n  float s = sin(a);\n  return mat2(c,s,-s,c);\n}\n\nfloat opSmoothUnion( float d1, float d2, float k ) {\n    float h = clamp( 0.5 + 0.5*(d2-d1)/k, 0.0, 1.0 );\n    return mix( d2, d1, h ) - k*h*(1.0-h); }\n\nfloat sdSegment (in vec3 p, in float L, in float R) {\n  p.y -= min(L, max(0.0, p.y));\n  return length(p) - R;\n}\nfloat sdBox( vec3 p, vec3 b ) {\n  vec3 q = abs(p) - b;\n  return length(max(q,0.0)) + min(max(q.x,max(q.y,q.z)),0.0);\n}\nfloat sdSphere( vec3 p, float d ) {\n  return length(p) - d;\n}\n\nfloat sdParticle( vec3 p, float d, float dist ) {\n  return opSmoothUnion(\n    length(p) - d,\n    sdSegment(p.yxz+vec3(0.,dist,0.), dist, 0.2 * d),\n    0.2\n  );\n}\n\n// badly failing at making a "good" radial repeat\nvec3 opRepeatPolar (vec3 p, float n, float R, float offsetA) {\n  float SCALE = n/(2. * PI);\n  vec2 pos2d = p.xz;\n  float r = length(pos2d) / R;\n  pos2d = vec2(log(r), offsetA + atan(p.z, p.x)) * SCALE;\n  pos2d.y = fract(pos2d.y) - 0.5;\n  return vec3(pos2d, SCALE * p.y / r);\n}\n\nvec3 opRep( in vec3 p, in vec3 c ) {\n  vec3 q = mod(p+0.5*c,c)-0.5*c;\n  return q;\n}\n\nfloat sdVirus (vec3 p, vec3 gp) {\n  p.yz *= rot(-1.4 + 0.1 * cos((0.2 + gp.z * 0.001) * time));\n  p.xz *= rot(0.01 * gp.z + 0.3 * cos(1. + 0.3 * time + 0.1 * gp.z));\n  p.xy *= rot(.02 * gp.z + 0.3 * sin(0.4 * time));\n  float s = sdSphere(p, 2.);\n  p.y = abs(p.y);\n  s = opSmoothUnion(s, sdParticle(\n    opRepeatPolar(p, 18., 2.2, 0.),\n    0.2,\n    0.4\n  ), 0.2);\n  s = opSmoothUnion(s, sdParticle(\n    opRepeatPolar(p - vec3(0., 1., 0.), 14., 1.9, 0.),\n    0.15,\n    0.4\n  ), 0.3);\n  s = opSmoothUnion(s, sdParticle(\n    opRepeatPolar(p - vec3(0., 1.7, 0.), 10., 1.5, 0.),\n    0.15,\n    0.4\n  ), 0.3);\n  s = opSmoothUnion(s, sdParticle(\n    opRepeatPolar(p - vec3(0., 2.1, 0.), 6., 0.6, .2),\n    0.18,\n    0.0\n  ), 0.2);\n  return s;\n}\n\nfloat SDF(vec3 p) {\n  vec3 gp = p;\n  float SCALE = 6./PI;\n  p.xy *= rot(.04 * time);\n  float s = sdVirus(p, gp);\n  p -= vec3(4., 4., 4.);\n  p.xy *= rot(p.z * .05);\n  p.yz *= rot(p.z * .01);\n  p.x += 0.7 * time;\n  p.y += 0.8 * time;\n  p.z -= time;\n  float dist = 10. * smoothstep(10., 0., time);\n  p = opRep(p, vec3(9.4 + dist, 6.4 + dist, 10. + dist));\n  s = min(s, mix(99., sdVirus(p, gp), step(1., gp.z)));\n  return s;\n}\n\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec3 color (float z, float shad) {\n  float p = sqrt(1. - shad);\n  vec3 c =\n  palette(p,\n    vec3(.5, .4, .9),\n    vec3(.6),\n    vec3(0.6, 0.5, 0.4),\n    vec3(0.3-time, 0.5, 0.9))\n  * p\n  * smoothstep(30., 5., z);\n  return c;\n}\n\nvoid main() {\n  vec3 p = vec3 (0., 0., -4.);\n  vec3 dir = normalize(vec3((uv - 0.5) * 2.,1.));\n  float shad = 1.;\n  for (int i=0; i<60; i++) {\n    float d = SDF(p);\n    if (d<0.001) {\n      shad = float(i)/60.;\n      break;\n    }\n    p += d * dir * 0.5;\n  }\n  float edge = min(min(uv.x, 1.-uv.x), min(uv.y, 1.-uv.y));\n  gl_FragColor = vec4(\n    mix(\n      color(p.z, shad),\n      color(0., 0.5),\n      step(edge, 0.02)\n    )\n    , 1.0);\n}\n']);return ee=function(){return n},n}var te=9,re="Virus",oe=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:ie.node,uniforms:{time:e}})},ie=an.Shaders.create({node:{frag:Object(an.GLSL)(ee(),Math.PI)}});function ae(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\n#define PI ","\nmat2 rot (float a) {\n  float c = cos(a);\n  float s = sin(a);\n  return mat2(c,s,-s,c);\n}\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\nfloat opSmoothUnion( float d1, float d2, float k ) {\n    float h = clamp( 0.5 + 0.5*(d2-d1)/k, 0.0, 1.0 );\n    return mix( d2, d1, h ) - k*h*(1.0-h); }\n\nfloat sdSegment (in vec3 p, in float L, in float R) {\n  p.y -= min(L, max(0.0, p.y));\n  return length(p) - R;\n}\nfloat sdBox( vec3 p, vec3 b ) {\n  vec3 q = abs(p) - b;\n  return length(max(q,0.0)) + min(max(q.x,max(q.y,q.z)),0.0);\n}\nfloat sdSphere( vec3 p, float d ) {\n  return length(p) - d;\n}\n\nfloat pModPolar(inout vec2 p, float repetitions) {\n\tfloat angle = 2.*PI/repetitions;\n\tfloat a = atan(p.y, p.x) + angle/2.;\n\tfloat r = length(p);\n\tfloat c = floor(a/angle);\n\ta = mod(a,angle) - angle/2.;\n\tp = vec2(cos(a), sin(a)) * r;\n\t// For an odd number of repetitions, fix cell index of the cell in -x direction\n\t// (cell index would be e.g. -5 and 5 in the two halves of the cell):\n\tif (abs(c) >= (repetitions/2.)) c = abs(c);\n\treturn c;\n}\n\nfloat pMod1(inout float p, float size) {\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p + halfsize, size) - halfsize;\n\treturn c;\n}\n\nfloat REP;\n\nfloat SDF(vec3 p, float nb) {\n  p.z -= 5. + 2. * cos(3. * time);\n\n  pR(p.yz, abs(0.6 * cos(0.2 * time)));\n\n  pR(p.xy, 0.7 * time);\n  \n  float middle = sdSphere(p, 1.5);\n  float m = pModPolar(p.xy, 3. + mod(floor(1337.9 * floor(nb)), 8.));\n  p.x -= time;\n\n  REP = pMod1(p.x, 4.);\n  p.y += 20.;\n  float s = sdSegment(p, 40., 0.3);\n  p.y -= 20.;\n  float bounce = cos(REP+ 2. * m + 12. * time);\n  s = opSmoothUnion(s, sdSphere(p - vec3(.0, .0, .3 * bounce), (1. + 0.3 * bounce) * smoothstep(.5, .4, sin(0.2 * time))), 0.3);\n\n  p.x -= 2.;\n\n  pR(p.yz, 10. * time);\n\n  s = min(s, sdBox(p, vec3(0.2)));\n\n  return opSmoothUnion(middle, s, 0.3);\n}\n\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec3 color (float d, float shad) {\n  vec3 c =\n  palette(fract(0.5 + 0.01 * time * REP),\n    vec3(.6),\n    vec3(.6),\n    vec3(1.),\n    vec3(0.6, 0.4, 0.2))\n  * sqrt(1. - shad);\n  return c;\n}\n\nvoid main() {\n  vec3 p = vec3 (0., 0., -4.);\n  vec3 dir = normalize(vec3((uv - 0.5) * 2.,1.));\n  float shad = 1.;\n  float nb = 0.2 * time;\n  for (int i=0; i<60; i++) {\n    float d = SDF(p, nb);\n    if (d<0.001) {\n      shad = float(i)/60.;\n      break;\n    }\n    p += d * dir * 0.5;\n  }\n  gl_FragColor = vec4(\n    smoothstep(0.02, 0.04, abs(fract(nb+0.02))) *\n    color(length(p.xy), shad),\n    1.0);\n}\n"]);return ae=function(){return n},n}var se=10,ce="ring",le=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:fe.node,uniforms:{time:e}})},fe=an.Shaders.create({node:{frag:Object(an.GLSL)(ae(),Math.PI)}});function pe(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\n#define PI ","\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\nfloat pMod1(inout float p, float size) {\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p + halfsize, size) - halfsize;\n\treturn c;\n}\nfloat pModPolar(inout vec2 p, float repetitions) {\n\tfloat angle = 2.*PI/repetitions;\n\tfloat a = atan(p.y, p.x) + angle/2.;\n\tfloat r = length(p);\n\tfloat c = floor(a/angle);\n\ta = mod(a,angle) - angle/2.;\n\tp = vec2(cos(a), sin(a)) * r;\n\tif (abs(c) >= (repetitions/2.)) c = abs(c);\n\treturn c;\n}\n\nfloat opSmoothUnion( float d1, float d2, float k ) {\n    float h = clamp( 0.5 + 0.5*(d2-d1)/k, 0.0, 1.0 );\n    return mix( d2, d1, h ) - k*h*(1.0-h); }\n\nfloat sdSphere( vec3 p, float d ) {\n  return length(p) - d;\n}\n\nfloat opMouse (vec3 p) {\n  return opSmoothUnion(\n    sdSphere(p, 1.),\n    min(\n      sdSphere(p + vec3(-.8, 0., .8), 0.5),\n      sdSphere(p + vec3(.8, 0., .8), 0.5)\n    ),\n    0.1\n  );\n}\n\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nfloat REP;\nfloat POL;\nfloat BIG;\n\nfloat SDF(vec3 p) {\n  vec3 bp = p;\n  pR(bp.yz, 0.9);\n  pR(bp.xy, 2. * time);\n  float bigMouse = opMouse(bp);\n  BIG = step(bigMouse, 0.001);\n  p.x -= 20. + 3. * cos(time) + 0.2 * time;\n  p.y -= 4.;\n  p.z -= 7. + 0.1 * time;\n  pR(p.yz, 0.6 + abs(0.4 * cos(0.15 * time)));\n  pR(p.xy, 0.8 * time);\n  float n = 10. + time;\n  POL = pModPolar(p.xy, n);\n  p.x -= time;\n  REP = pMod1(p.x, 10. - 4. * smoothstep(0., 30., time));\n  p.z += abs(2. * cos(\n    time *\n    (2. + 0.2 * REP + POL/n)\n  ));\n  return opSmoothUnion(\n    opMouse(p),\n    bigMouse,\n    3.\n  );\n}\n\nvec3 color (float d, float shad) {\n  vec3 c =\n  mix(\n  palette((0.2) * POL,\n    vec3(1.),\n    vec3(0.5),\n    vec3(1., 1., 1. - 0.7 * REP),\n    vec3(0.9, 0.2, 0.6)),\n    vec3(1.2),\n    BIG\n  )\n  * sqrt(1. - shad);\n  return c;\n}\n\nvoid main() {\n  vec3 p = vec3 (0., 0., -4.);\n  vec3 dir = normalize(vec3((uv - 0.5) * 2.,1.));\n  float shad = 1.;\n  for (int i=0; i<60; i++) {\n    float d = SDF(p);\n    if (d<0.001) {\n      shad = float(i)/60.;\n      break;\n    }\n    p += d * dir * 0.5;\n  }\n  gl_FragColor = vec4(\n    color(length(p.xy), shad),\n    1.0);\n}\n"]);return pe=function(){return n},n}var ue=11,de="magic mouse",ve=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:he.node,uniforms:{time:e}})},he=an.Shaders.create({node:{frag:Object(an.GLSL)(pe(),Math.PI)}});function me(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\n#define PI ","\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nfloat SDF(vec3 p) {\n  pR(p.yz, 2.5 + 0.3 * abs(0.8 + cos(time)));\n  pR(p.xz, 2.);\n  float s = 4. * cos(0.2 * p.x + 2. * time) * sin(0.1 * p.z + 1.3 * time);\n  pR(p.xz, 1.);\n  s += 1.6 * cos(0.2 * p.x + 5. * time) * cos(0.5 * p.z + time);\n  pR(p.xz, 0.1 * time);\n  s += 0.6 * cos(0.7 * p.x + 1. * time) * sin(0.9 * p.z);\n  pR(p.xz, time);\n  s += 0.4 * length(p);\n  s += -p.y + 3.;\n  return s;\n}\n\nvec3 color (float d, float shad) {\n  vec3 c = palette(\n    shad,\n    vec3(.5),\n    vec3(.5),\n    vec3(0.0, 0.8, 0.9),\n    vec3(0.1, 0.9, 0.4 * fract(3. * time))\n  ) * sqrt(1. - shad);\n  return c;\n}\n\nvoid main() {\n  vec3 p = vec3 (0., 0., -4.);\n  vec3 dir = normalize(vec3((uv - 0.5) * 2.,1.));\n  float shad = 1.;\n  for (int i=0; i<60; i++) {\n    float d = SDF(p);\n    if (d<0.001) {\n      shad = float(i)/60.;\n      break;\n    }\n    p += d * dir * 0.5;\n  }\n  gl_FragColor = vec4(\n    color(p.z, shad),\n    1.0);\n}\n"]);return me=function(){return n},n}var ge=12,ye="floor is lava",xe=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:be.node,uniforms:{time:e}})},be=an.Shaders.create({node:{frag:Object(an.GLSL)(me(),Math.PI)}});function _e(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\nconst float PI = ",";\n\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec3 color (float t) {\n  return palette(\n    t,\n    vec3(.6),\n    vec3(.3),\n    vec3(1.),\n    vec3(.2, .55, .75)\n  );\n}\n\nvoid main() {\n  vec2 p = uv - .5;\n  vec2 ap = abs(p);\n  float rect = max(ap.x, ap.y) - .2; // rect\n  float m = 8.;\n  float squircle = pow(pow(ap.x, m) + pow(ap.y, m), 1./m) - .2; // squircle\n  float a = 0.5 + 0.5 * atan(p.y, p.x) / PI;\n  vec3 glow =\n    step(0., rect) *\n    ( pow(smoothstep(0.3, 0., squircle), 8.)\n      + 0.2 * smoothstep(0.02, 0., rect)\n      - 0.3 ) *\n    color(a + 0.8 + 0.1 * time);\n  vec3 shade =\n    step(rect, 0.) * 0.4 * (.05 + vec3(p.y - p.x));\n  gl_FragColor = vec4(shade + glow, 1.0);\n}\n"]);return _e=function(){return n},n}var we=13,Se="chip",Ee=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:Te.node,uniforms:{time:e}})},Te=an.Shaders.create({node:{frag:Object(an.GLSL)(_e(),Math.PI)}});function Re(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec3 color (float t) {\n  return palette(\n    t,\n    vec3(.5),\n    vec3(.6 + .1 * cos(.3 * time)),\n    vec3(1.),\n    vec3(0.22, 0.5, 0.77)\n  );\n}\n\nvoid main() {\n  float tri = max(\n    0.2 - uv.y,\n    max( 0.6 * uv.y - uv.x - 0.,\n         0.6 * uv.y + uv.x - 1.));\n  tri = max(-step(fract(time), 0.5), tri); // blink 500ms\n  gl_FragColor = vec4(\n    step(tri, 0.) * color(1.6 * (uv.y + time)) +\n    step(0., tri) * color(sqrt(max(tri, 0.)) - 2. * time),\n    1.0);\n}\n"]);return Re=function(){return n},n}var ze=14,Oe="seizure",Ie=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:je.node,uniforms:{time:e}})},je=an.Shaders.create({node:{frag:Object(an.GLSL)(Re())}});function Ae(){var n=rn(["precision highp float;\nvarying vec2 uv;\nuniform sampler2D t;\nuniform vec2 direction, resolution;\n\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main () {\n  gl_FragColor = blur9(t, uv, resolution, direction);\n}"]);return Ae=function(){return n},n}var Ce=an.Shaders.create({blur1D:{frag:Object(an.GLSL)(Ae())}}),Pe=function(n){var e=n.width,t=n.height,r=n.pixelRatio,o=n.direction,i=n.children;return Object(on.jsx)(an.Node,{shader:Ce.blur1D,width:e,height:t,pixelRatio:r,uniforms:{direction:o,resolution:an.Uniform.Resolution,t:i}})},De=Math.sqrt(2)/2,Le=function(n,e,t){var r=2*e*Math.ceil(n/2)/t;switch((n-1)%4){case 0:return[r,0];case 1:return[0,r];case 2:return[r*De,r*De];case 3:return[r*De,-r*De]}},Ne=function(n){var e=n.width,t=n.height,r=n.pixelRatio,o=n.factor,i=n.children,a=n.passes,s=n.directionForPass;return function n(c){return c<=0?i:Object(on.jsx)(Pe,{width:e,height:t,pixelRatio:r,direction:s(c,o,a),children:n(c-1)})}(a)};Ne.defaultProps={passes:2,directionForPass:Le};var Me=Ne;function ke(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform sampler2D t, map;\nuniform vec2 direction, resolution;\n\nvec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.3846153846) * direction;\n  vec2 off2 = vec2(3.2307692308) * direction;\n  color += texture2D(image, uv) * 0.2270270270;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;\n  return color;\n}\n\nvoid main () {\n  gl_FragColor = blur9(t, uv, resolution, direction * texture2D(map, uv).rg);\n}"]);return ke=function(){return n},n}var Ue=an.Shaders.create({blur1D:{frag:Object(an.GLSL)(ke())}}),Be=function(n){var e=n.width,t=n.height,r=n.map,o=n.pixelRatio,i=n.direction,a=n.children;return Object(on.jsx)(an.Node,{shader:Ue.blur1D,width:e,height:t,pixelRatio:o,uniforms:{direction:i,resolution:an.Uniform.Resolution,t:a,map:r}})},Fe=function(n){var e=n.width,t=n.height,r=n.map,o=n.pixelRatio,i=n.factor,a=n.children,s=n.passes,c=n.directionForPass;return function n(l){return l<=0?a:Object(on.jsx)(Be,{width:e,height:t,map:r,pixelRatio:o,direction:c(l,i,s),children:n(l-1)})}(s)};Fe.defaultProps={passes:2,directionForPass:Le};function qe(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nconst float PI = ",";\n\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec2 parametric (in float t) {\n  return vec2(\n    sin(PI * t) + 0.8 * sin(4. * PI * t) + sin(128. * PI * t) * 0.5,\n    cos(PI * t) + 0.8 * cos(4. * PI * t) + cos(128. * PI * t) * 0.5\n  );\n}\n\nvec3 color (float t) {\n  return palette(\n    t,\n    vec3(.4),\n    vec3(.4),\n    vec3(1.),\n    vec3(.0, .33, .66)\n  );\n}\n\nvoid main() {\n  // this implement some variations of scale/speed/size to make it more trippy\n  float base = mod(time, 30.);\n  vec2 p = mix(2., 6., smoothstep(0., 10., base)) * (uv - .5);\n  float speed = smoothstep(0., 5., base) * 3.;\n  float size = 0.01 + 0.1 * smoothstep(8., 0., base);\n  // interpolation of parametric function\n  vec3 clr = vec3(0.);\n  for (float f = 0.; f<1.; f+=1./500.) {\n    float t = time + f/60.;\n    vec2 c = parametric(speed * t);\n    float m = smoothstep(1.1 * size, size, length(p - c));\n    if (m > .0) {\n      clr = m * color(t);\n      break;\n    }\n  }\n  gl_FragColor = vec4(clr, 1.0);\n}\n"]);return qe=function(){return n},n}function Ge(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform sampler2D t, back;\nuniform float persistence;\nvoid main () {\n  gl_FragColor =\n    texture2D(t, uv) + persistence*texture2D(back, uv);\n}\n    "]);return Ge=function(){return n},n}var He=15,Ve="parametric",Xe=function(n){var e=n.time;return Object(on.jsx)(an.LinearCopy,{children:Object(on.jsx)(We,{persistence:.98+.02*Math.cos(e)+-.8*Math.exp(-e),children:Object(on.jsx)(Me,{passes:4,factor:.2,children:Object(on.jsx)(Ye,{time:e})})})})},Ye=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:Ke.node,uniforms:{time:e}})},We=function(n){var e=n.children,t=n.persistence;return Object(on.jsx)(an.Node,{shader:Ke.persistence,backbuffering:!0,uniforms:{t:e,back:an.Uniform.Backbuffer,persistence:t}})},Ke=an.Shaders.create({persistence:{frag:Object(an.GLSL)(Ge())},node:{frag:Object(an.GLSL)(qe(),Math.PI)}});function Qe(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nconst float PI = ",";\n\nmat2 rot (float a) {\n  float c = cos(a);\n  float s = sin(a);\n  return mat2(c,s,-s,c);\n}\n\nfloat sphere (vec3 p, float r) {\n  return length(p)-r;\n}\n\nfloat sdReuleaux(vec3 p, float edge) {\n  p.y -= edge / 6.;\n  p.z -= edge / 6.;\n  float h = edge * sqrt(3.) / 2.;\n  float a = sphere(p - vec3(0., h / 2., 0.), edge);\n  float b = sphere(p + vec3(.5 * edge, h / 2., 0.), edge);\n  float c = sphere(p + vec3(-.5 * edge, h / 2., 0.), edge);\n  float d = sphere(p + vec3(0., 0., h), edge);\n  return max(max(max(a, b), c), d);\n}\n\nfloat shape(vec3 p, float edge, float diverge) {\n  float h = edge * sqrt(3.) / 2.;\n  float a = sdReuleaux(p + diverge * vec3(0., -h / 2.-edge / 6., -edge / 6.), edge);\n  float b = sdReuleaux(p + diverge * vec3(.5 * edge, h / 2. - edge / 6., -edge / 6.), edge);\n  float c = sdReuleaux(p + diverge * vec3(-.5 * edge, h / 2.- edge / 6., -edge / 6.), edge);\n  float d = sdReuleaux(p + diverge * vec3(0., 0.-edge / 6., h-edge / 6.), edge);\n  return min(min(min(a, b), c), d);\n}\n\nfloat SDF(vec3 p) {\n  p.yz *= rot(PI/3.);\n  p.y += 3.;\n  float m = mod(time, 2.2);\n  float t1 = min(m, 1.);\n  float t2 = max(0., min(m - 1., 1.));\n  t1 *= smoothstep(2.1, 1.9, m);\n  t2 *= smoothstep(2.1, 1.9, m);\n  p.yz *= rot(-PI/3. * t2);\n  return shape(p, 3., 2. * (t1 - t2));\n}\n\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec3 color (float t) {\n  return palette(\n    t,\n    vec3(.8),\n    vec3(.8),\n    vec3(1., .8, .9),\n    vec3(.1, .3, .7)\n  );\n}\n\nvoid main() {\n  vec3 p = vec3(0., 0., -10.);\n  vec3 dir = normalize(vec3((uv - 0.5) * 2.,1.));\n  float shad = 1.;\n  for (int i=0; i<60; i++) {\n    float d = SDF(p);\n    if (d<0.001) {\n      shad = float(i)/60.;\n      break;\n    }\n    p += d * dir * 0.5;\n  }\n  vec3 c =\n    pow(smoothstep(10., -3., p.z), 4.) *\n    sqrt(1. - shad) *\n    color(0.5 * time);\n  gl_FragColor = vec4(c, 1.0);\n}"]);return Qe=function(){return n},n}var Ze=16,$e="reuleaux",Je=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:nt.node,uniforms:{time:e}})},nt=an.Shaders.create({node:{frag:Object(an.GLSL)(Qe(),Math.PI)}});function et(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nconst float PI = ",";\n\nfloat pMod1(inout float p, float size) {\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p + halfsize, size) - halfsize;\n\treturn c;\n}\nfloat pModInterval1(inout float p, float size, float start, float stop) {\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p+halfsize, size) - halfsize;\n\tif (c > stop) { //yes, this might not be the best thing numerically.\n\t\tp += size*(c - stop);\n\t\tc = stop;\n\t}\n\tif (c <start) {\n\t\tp += size*(c - start);\n\t\tc = start;\n\t}\n\treturn c;\n}\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\nfloat fCone(vec3 p, float radius, float height) {\n\tvec2 q = vec2(length(p.xz), p.y);\n\tvec2 tip = q - vec2(0, height);\n\tvec2 mantleDir = normalize(vec2(height, radius));\n\tfloat mantle = dot(tip, mantleDir);\n\tfloat d = max(mantle, -q.y);\n\tfloat projected = dot(tip, vec2(mantleDir.y, -mantleDir.x));\n\n\t// distance to tip\n\tif ((q.y > height) && (projected < 0.)) {\n\t\td = max(d, length(tip));\n\t}\n\n\t// distance to base ring\n\tif ((q.x > radius) && (projected > length(vec2(height, radius)))) {\n\t\td = max(d, length(q - vec2(radius, 0.)));\n\t}\n\treturn d;\n}\n\nfloat pModPolar(inout vec2 p, float repetitions) {\n\tfloat angle = 2.*PI/repetitions;\n\tfloat a = atan(p.y, p.x) + angle/2.;\n\tfloat r = length(p);\n\tfloat c = floor(a/angle);\n\ta = mod(a,angle) - angle/2.;\n\tp = vec2(cos(a), sin(a))*r;\n\t// For an odd number of repetitions, fix cell index of the cell in -x direction\n\t// (cell index would be e.g. -5 and 5 in the two halves of the cell):\n\tif (abs(c) >= (repetitions/2.)) c = abs(c);\n\treturn c;\n}\n\nfloat fCylinder(vec3 p, float r, float height) {\n\tfloat d = length(p.xz) - r;\n\td = max(d, abs(p.y) - height);\n\treturn d;\n}\n\nfloat sphere (vec3 p, float r) {\n  return length(p)-r;\n}\n\nfloat box (vec3 p, vec3 c) {\n  return length(max(abs(p)-c,0.));\n}\n\nfloat opU( float d1, float d2 ) {\n\treturn min(d1, d2);\n}\n\nfloat opD( float d1, float d2 ) {\n\treturn max(d1, -d2);\n}\n\nfloat opSmoothSubtraction( float d1, float d2, float k ) {\n    float h = clamp( 0.5 - 0.5*(d2+d1)/k, 0.0, 1.0 );\n    return mix( d2, -d1, h ) + k*h*(1.0-h); }\n\nfloat random (vec2 st) {\n  return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);\n}\n\nvoid opDig (inout vec3 p, float dig, float k) {\n  p.y -= 1.5;\n  p.y += dig * 2.2;\n  pR(p.xz, dig * k * .5 * PI);\n}\n\nfloat sdScrewHead (vec3 p, vec2 id, float screwW) {\n  float r1 = random(id * .01);\n  float w = .4;\n  float h = .02 * (1. + mod(floor(r1 * 13.), 2.));\n  float h2 = .3 * step(r1, .5);\n  float sw = 0.5 + 0.5 * step(r1, .3);\n  p.y -= 1.;\n  vec3 pcut = p - vec3(.0, .1, 0.);\n  float cut = box(pcut, vec3(.5 * sw, .04, .02));\n  pcut.x -= 10. * step(r1, .7);\n  pR(pcut.xz, PI/2.);\n  cut = opU(cut, box(pcut, vec3(.5, .04, .02)));\n  float head = fCylinder(p + vec3(.0, h2, 0.), 0.12 + screwW, h2);\n\n  if (mod(29. * r1, 7.) < 1.) {\n    pModPolar(p.xz, 6.);\n    h += .02;\n    p.y -= h;\n    head = opU(head, box(p, vec3(w * .7, h, w * .7)));\n    p.y += h;\n    h *= 0.4;\n  }\n  else {\n    head = opU(head, opD(sphere(vec3(1., 4., 1.) * p, w), p.y));\n  }\n  head = opU(head, fCylinder(p + vec3(.0, h/2., 0.), w, h));\n\n  float s = opSmoothSubtraction(cut, head, .05);\n  return s;\n}\n\nfloat sdScrew (vec3 p, float w, float k) {\n  float bottom = fCone((p + vec3(.0, 1., .0)) * vec3(1., -1., 1.), w, 3. * w);\n  float c = cos(k*p.y);\n  float s = sin(k*p.y);\n  mat2  m = mat2(c,-s,s,c);\n  p.xz *= m;\n  return opU(\n    box(p, vec3(.2, 1., w)),\n    bottom\n  );\n}\n\nfloat SDF(vec3 p) {\n  // plane floor\n  float res = p.y;\n  // repeat\n  vec2 id = vec2(\n    pMod1(p.x, 2.),\n    pModInterval1(p.z, 2., -2., 1.)\n  );\n  float dig = .5 + .5 * cos(0.5 * time * (random(id) + 0.1 * (0.7 * id.x + 2. * id.y - 3.)));\n  float k = 8. + 8. * random(id * .001);\n  float w = .08 + 0.04 * mod(id.x, 3.);\n  // card\n  float card = opD(\n    box(p, vec3(.8, 0.05, .8)),\n    fCylinder(p, 2. * w, .1)\n  );\n  res = opU(res, card);\n  p.y -= .05;\n  // screw\n  opDig(p, dig, k);\n  res = opU(res, sdScrewHead(p, id, w));\n  res = opU(res, sdScrew(p, w, k));\n  return res;\n}\n\nvec3 color (vec3 p) {\n  vec3 col =\n    vec3(.3) +\n    step(.01, p.y) * vec3(.3) +\n    step(.11, p.y) * mix(\n      vec3(.4, .2, -0.2),\n      vec3(.0),\n      step(fract(0.25 + (p.x + p.z)/4.), 0.5)\n    );\n\n  return col;\n}\n\nfloat raycast( in vec3 ro, in vec3 rd ) {\n  float res = -1.0;\n  float t = 0.;\n  for(int i=0; i<200; i++ ) {\n    float h = SDF( ro+rd*t );\n    if( abs(h)<(0.0001*t) ) {\n        res = t;\n        break;\n    }\n    t += h * .5;\n  }\n  return res;\n}\n\nfloat calcSoftshadow( in vec3 ro, in vec3 rd, in float mint, in float tmax ) {\n    // bounding volume\n    float res = 1.0;\n    float t = mint;\n    for( int i=0; i<24; i++ ) {\n\t\tfloat h = SDF( ro + rd*t );\n        float s = clamp(8.0*h/t,0.0,1.0);\n        res = min( res, s*s*(3.0-2.0*s) );\n        t += clamp( h, 0.02, 0.2 );\n        if( res<0.004 ) break;\n    }\n    return clamp( res, 0.0, 1.0 );\n}\n\nvec3 calcNormal( in vec3 pos ) {\n  vec2 e = vec2(1.0,-1.0)*0.5773*0.0005;\n  return normalize( e.xyy*SDF( pos + e.xyy ) +\n          e.yyx*SDF( pos + e.yyx ) +\n          e.yxy*SDF( pos + e.yxy ) +\n          e.xxx*SDF( pos + e.xxx ));\n}\n\nfloat calcAO( in vec3 pos, in vec3 nor ) {\n\tfloat occ = 0.0;\n  float sca = 1.0;\n  for( int i=0; i<5; i++ ) {\n      float h = 0.01 + 0.12*float(i)/4.0;\n      float d = SDF( pos + h*nor );\n      occ += (h-d)*sca;\n      sca *= 0.95;\n      if( occ>0.35 ) break;\n  }\n  return clamp( 1.0 - 3.0*occ, 0.0, 1.0 ) * (0.5+0.5*nor.y);\n}\n\nvoid main() {\n  vec3 p = vec3(0., 0., 0.);\n  vec3 dir = normalize(vec3((uv - 0.5) * 2.,1.));\n  p.y += 3.5;\n  p.x -= 1.5 - time;\n  p.z -= 1.5;\n  pR(dir.yz, -.9);\n  pR(dir.xz, 0.5 * PI + 0.2 * cos(0.5 * time));\n\n  float t = raycast(p, dir);\n  vec3 pos = p + t * dir;\n  vec3 nor = calcNormal(pos);\n  vec3 ref = reflect(dir, nor);\n  float occ = calcAO(pos, nor);\n\n  vec3 lin = vec3(0.0);\n  vec3 col = color(pos);\n  // sun\n  {\n    float phase = sin(PI * time / 30.);\n    vec3  lig = normalize( vec3(-0.5, 0.4 + phase, -0.7) );\n    vec3  hal = normalize( lig - dir );\n    float dif = clamp( dot( nor, lig ), 0.0, 1.0 );\n  // if( dif>0.0001 )\n\t      dif *= calcSoftshadow( pos, lig, 0.02, 2.5 );\nfloat spe = pow( clamp( dot( nor, hal ), 0.0, 1.0 ),16.0);\n          spe *= dif;\n          spe *= 0.04+0.96*pow(clamp(1.0-dot(hal,lig),0.0,1.0),5.0);\n    lin += col*1.4*dif*vec3(1.30,1.00,0.70);\n  }\n  // sky\n  {\n    float dif = sqrt(clamp( 0.5+0.5*nor.y, 0.0, 1.0 ));\n          dif *= occ;\n    float spe = smoothstep( -0.2, 0.2, ref.y );\n          spe *= dif;\n          spe *= 0.04+0.96 * pow(clamp(1.0+dot(nor,dir),0.0,1.0), 5.0 );\n          spe *= calcSoftshadow( pos, ref, 0.02, 2.5 );\n    lin += col*0.9*dif*vec3(0.8,0.8,1.);\n  }\n  col = lin;\n\n  gl_FragColor = vec4(clamp(col, 0.0, 1.0), 1.0);\n}"]);return et=function(){return n},n}var tt=17,rt="screws",ot=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:it.node,uniforms:{time:e}})},it=an.Shaders.create({node:{frag:Object(an.GLSL)(et(),Math.PI)}});function at(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\nconst float PI = ",";\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\nfloat merge (float a, float b) {\n  return min(1., a + b);\n}\nfloat flower (vec2 p, float n, float s) {\n  float a = 0.5 + 0.5 * atan(p.y, p.x) / PI;\n  float d = length(p);\n  float amp = (1.4 + cos((a * n) * 2. * PI)) / 3.;\n  float co = cos(PI/4.);\n  float si = sin(PI/4.);\n  p *= mat2(co,si,-si,co);\n  p = abs(p);\n  return smoothstep(0.01 + 0.5 * s, 0.5 * s, max(p.x, p.y)) * smoothstep(d-.01, d+.01, s * amp);\n}\nfloat flowerDot (vec2 p, float s) {\n  p = abs(p);\n  return smoothstep(0.06, 0.05, length(4. * p - s));\n}\nfloat circle (vec2 p) {\n  return smoothstep(.04, .03, abs(length(p-.5) - .44));\n}\nfloat edgeShape (vec2 p) {\n  p = 2. * abs(p-.5);\n  float a = max(p.x, p.y);\n  float b = min(p.x, p.y);\n  return smoothstep(.54, .56, a * b * abs(cos(13. * a - 6. * b)));\n}\n\nvec3 color (float t) {\n  return palette(\n    t,\n    vec3(.5),\n    vec3(.5),\n    vec3(1., 1., 0.8),\n    vec3(.5, .3, .5)\n  );\n}\n\nvec3 tile (vec2 p, vec2 g) {\n  vec3 c = color(.3);\n  c = mix(c, color(.4), merge(circle(p), circle(fract(p + .5))));\n  c = mix(c, color(.6), merge(flower(p-.5, 4., 0.35), flowerDot(p-.5, 0.35)));\n  c = mix(c, color(.2 + .15 * abs(cos(time + 0.05 * (g.x + g.y)))), edgeShape(p));\n  return c;\n}\n\nvoid main() {\n  vec2 g = (uv * 2. + vec2(0.01, -0.1) * time) * (1. + 0.01 * cos(time) + 0.01 * time);\n  vec2 pos = fract(g);\n  gl_FragColor = vec4(tile(pos, g), 1.0);\n\n}"]);return at=function(){return n},n}var st=18,ct="queen",lt=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:ft.node,uniforms:{time:e}})},ft=an.Shaders.create({node:{frag:Object(an.GLSL)(at(),Math.PI)}});function pt(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\nconst float PI = ",";\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n// from http://glslsandbox.com/e#43182.0 / 007 example\n#define SQRT3 1.7320508\nconst vec2 s = vec2(1.0, SQRT3);\nfloat hex(in vec2 p){\n  p = abs(p);\n  return max(dot(p, s*.5), p.x);\n}\nvec4 getHex(vec2 p) {\n  vec4 hC = floor(vec4(p, p - vec2(.5, 1))/s.xyxy) + .5;\n  vec4 h = vec4(p - hC.xy*s, p - (hC.zw + .5)*s);\n  return dot(h.xy, h.xy)<dot(h.zw, h.zw) ? vec4(h.xy, hC.xy) : vec4(h.zw, hC.zw + 9.73);\n}\n// utilities from classical SDF\nfloat pModPolar(inout vec2 p, float repetitions) {\n\tfloat angle = 2.*PI/repetitions;\n\tfloat a = atan(p.y, p.x) + angle/2.;\n\tfloat r = length(p);\n\tfloat c = floor(a/angle);\n\ta = mod(a,angle) - angle/2.;\n\tp = vec2(cos(a), sin(a)) * r;\n\tif (abs(c) >= (repetitions/2.)) c = abs(c);\n\treturn c;\n}\nfloat pMod1(inout float p, float size) {\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p + halfsize, size) - halfsize;\n\treturn c;\n}\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n//////\nvec3 color (float t) {\n  return palette(\n    t,\n    vec3(.5),\n    vec3(.5),\n    vec3(.7, .9, smoothstep(-1., 1., cos(4. * time + uv.y))),\n    vec3(.1, .2, .3)\n  );\n}\n\nvec3 tile (vec2 p, vec2 g) {\n  float r1 = pModPolar(p, 6.); // we start by projecting our hex system into 6 triangles\n  p.x -= 1./3.; // move to center of the triangle\n  pR(p, (mod(r1, 2.) - .5) * PI / 3.); // depending on oddity, we will rotate counter or clockwise\n  float r2 = 1. + pModPolar(p, 3.); // then split again the triangle by 3\n  // color index in grid system, see explanation at the end of this file\n  float index = mod(2. + mod(3. - mod(floor(.5*(r1 + 5.)), 3.), 3.) - r2, 3.);\n  return color(0.1 * index); // pick color from palette!\n}\n\nfloat blob (vec2 p, float t) {\n  float cycle = sin(11. * t);\n  float cycle2 = cos(.1 * t);\n  float climb = mod(.2 * t, 1.8);\n  float stopAt = .8;\n  // bounce jumps\n  p -= vec2(\n    .04 * sign(cycle) * pow(abs(cycle), 0.25) * step(climb, stopAt),\n    .1 + 0.1 * pow(abs(cycle), 0.5) * step(climb, stopAt)\n    + min(stopAt, climb)\n    - step(stopAt, climb) * (climb - stopAt) * .82\n  );\n  vec2 disf = vec2(1./(0.9 - 0.3 * abs(cycle) * step(climb, stopAt)), 1.);\n  return smoothstep(.024, .025, length(p * disf));\n}\n\nvoid main() {\n  float t = time * smoothstep(0., 10., time);\n  // hex grid\n  vec2 g = uv * 3. + vec2(0., 0.5 * t);\n  vec4 r = getHex(g);\n  vec3 c = tile(r.xy * vec2(1., -1.), r.zw);\n  // adding blobs\n  float nb = step(8., t) + step(19., t) + step(25., t) + 3. * step(30., t);\n  vec2 p = uv + vec2(.08, .0);\n  float f = pMod1(p.x, 1. / 6.);\n  p += step(nb + .1, f);\n  c = mix(vec3(1.), c, blob(p, t + (1337. * f)));\n  gl_FragColor = vec4(c, 1.0);\n}"]);return pt=function(){return n},n}var ut=19,dt="they were six",vt=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:ht.node,uniforms:{time:e}})},ht=an.Shaders.create({node:{frag:Object(an.GLSL)(pt(),Math.PI)}});function mt(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\nconst float PI = ",";\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n// from http://glslsandbox.com/e#43182.0 / 007 example\n#define SQRT3 1.7320508\nconst vec2 s = vec2(1.0, SQRT3);\nfloat hex(in vec2 p){\n  p = abs(p);\n  return max(dot(p, s*.5), p.x);\n}\nvec4 getHex(vec2 p) {\n  vec4 hC = floor(vec4(p, p - vec2(.5, 1))/s.xyxy) + .5;\n  vec4 h = vec4(p - hC.xy*s, p - (hC.zw + .5)*s);\n  return dot(h.xy, h.xy)<dot(h.zw, h.zw) ? vec4(h.xy, hC.xy) : vec4(h.zw, hC.zw + 9.73);\n}\n// utilities from classical SDF\nfloat pModPolar(inout vec2 p, float repetitions) {\n\tfloat angle = 2.*PI/repetitions;\n\tfloat a = atan(p.y, p.x) + angle/2.;\n\tfloat r = length(p);\n\tfloat c = floor(a/angle);\n\ta = mod(a,angle) - angle/2.;\n\tp = vec2(cos(a), sin(a)) * r;\n\tif (abs(c) >= (repetitions/2.)) c = abs(c);\n\treturn c;\n}\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n//////\nvec3 color (float t) {\n  return palette(\n    t,\n    vec3(.5),\n    vec3(.5),\n    vec3(1.),\n    vec3(.5, .2 + mod(.03 * time + 0.2, .3), .8 - mod(.01 * time, .4))\n  );\n}\n\nvec3 tile (vec2 p, float t) {\n  float r1 = pModPolar(p, 6.);\n  p.x -= 1./3.;\n  pR(p, t);\n  float r2 = 1. + pModPolar(p, 3.);\n  float index = mod(r2 + mod(-r1, floor(2. + mod(3. * t, 3.))), 3.);\n  return color(0.25 * index);\n}\n\nvoid main() {\n  float t = pow(0.1 * time, 1.6);\n  vec2 p = uv - .5;\n  pR(p, .1 * t);\n  vec2 g = p * (2. + floor(mod(.2 * time, 4.))) + vec2(0., .2 * t);\n  vec4 r = getHex(g);\n  vec3 c = tile(r.xy * vec2(1., -1.), t);\n  gl_FragColor = vec4(c, 1.0);\n}"]);return mt=function(){return n},n}function gt(){var n=rn(["\n  precision highp float;\n  varying vec2 uv;\n  uniform sampler2D t, back;\n  uniform float persistence;\n  void main () {\n    gl_FragColor = mix(\n      texture2D(t, uv),\n      texture2D(back, uv),\n      persistence\n    );\n  }\n      "]);return gt=function(){return n},n}var yt=20,xt="trippy tiles",bt=function(n){var e=n.time;return Object(on.jsx)(an.LinearCopy,{children:Object(on.jsx)(_t,{persistence:.85,children:Object(on.jsx)(an.Node,{shader:wt.node,uniforms:{time:e}})})})},_t=function(n){var e=n.children,t=n.persistence;return Object(on.jsx)(an.Node,{shader:wt.persistence,backbuffering:!0,uniforms:{t:e,back:an.Uniform.Backbuffer,persistence:t}})},wt=an.Shaders.create({persistence:{frag:Object(an.GLSL)(gt())},node:{frag:Object(an.GLSL)(mt(),Math.PI)}});function St(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\nconst float PI = ",";\n\nfloat rect2d (vec2 p, vec2 sz) {\n  return max(abs(p.x) - sz.x, abs(p.y) - sz.y);\n}\nfloat d2d (vec2 p, float w, float h) {\n  return min(rect2d(p, vec2(w, h)), length(p-vec2(w, .0))-h);\n}\nfloat bitcoin2d (vec2 p) {\n  p.y -= 0.1;\n  p.x += .02;\n  float inner = d2d(p, 0.04, 0.06);\n  float outer = d2d(p, 0.1, 0.1);\n  float top = max(-inner, outer);\n  top = min(top, rect2d(p - vec2(-.12, .08), vec2(.02)));\n  top = min(top, rect2d(p - vec2(-.06, .14), vec2(.02, .04)));\n  top = min(top, rect2d(p - vec2(.04, .14), vec2(.02, .04)));\n  p.x -= .01;\n  p.y += 0.2;\n  inner = d2d(p, 0.04, 0.06);\n  outer = d2d(p, 0.11, 0.12);\n  float bottom = max(-inner, outer);\n  bottom = min(bottom, rect2d(p - vec2(-.13, -.09), vec2(.03)));\n  bottom = min(bottom, rect2d(p - vec2(-.06, -.16), vec2(.02, .04)));\n  bottom = min(bottom, rect2d(p - vec2(.04, -.16), vec2(.02, .04)));\n  float f = min(top, bottom);\n  return f;\n}\n\nvec3 cBase = vec3(.8, .5, .0);\nvec3 cMain = vec3(1., .8, .6);\nvec3 cSec = vec3(.9, .6, .1);\n\nvoid main() {\n  vec2 p = uv - .5;\n  p.y -= 0.05 * min(1., time * .02);\n  p *= 1.2;\n  float phase = cos(pow(.2 * time, 1.8));\n  p.x /= .02 + .98 * abs(phase);\n  float shape = mix(bitcoin2d(p), 1., step(phase, .0));\n  float d = length(p);\n  vec3 c =\n    smoothstep(.3, .7, length(uv-.5)) * cBase * .3 +\n    step(shape, 0.01) * step(0., shape) * cMain +\n    step(0.013, shape) * step(d, 0.41) * mix(cBase, cSec, smoothstep(.003, .002, abs(mod(d, .02)-.01))) +\n    step(0.013, shape) * step(d, 0.48) * smoothstep(.011, .01, abs(d-.43)) * cMain;\n  gl_FragColor = vec4(c * ((.3 * phase + .7 * abs(phase)) + .4), 1.0);\n}"]);return St=function(){return n},n}function Et(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform sampler2D t, back;\nuniform float time;\nuniform float persistence;\nmat2 rot (float a) {\n  float c = cos(a);\n  float s = sin(a);\n  return mat2(c,s,-s,c);\n}\nvoid main () {\n  gl_FragColor = 1.02 * mix(\n    texture2D(t, uv),\n    texture2D(back, uv + vec2(.0, 0.005) * rot(pow(time, 1.5))),\n    persistence\n  );\n}\n    "]);return Et=function(){return n},n}var Tt=21,Rt="HODL",zt=function(n){var e=n.time;return Object(on.jsx)(an.LinearCopy,{children:Object(on.jsx)(Ot,{persistence:Math.min(.99,.015*e),time:e,children:Object(on.jsx)(an.Node,{shader:It.node,uniforms:{time:e}})})})},Ot=function(n){var e=n.children,t=n.persistence,r=n.time;return Object(on.jsx)(an.Node,{shader:It.shakePersistence,backbuffering:!0,uniforms:{t:e,back:an.Uniform.Backbuffer,persistence:t,time:r}})},It=an.Shaders.create({shakePersistence:{frag:Object(an.GLSL)(Et())},node:{frag:Object(an.GLSL)(St(),Math.PI)}});function jt(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\nuniform sampler2D t;\n\nconst float PI = ",";\n\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec3 color (float t) {\n  return palette(\n    .8 - .8 * t,\n    vec3(.5),\n    vec3(.5),\n    vec3(.4, .7, .6),\n    vec3(.1, .1, .2)\n  );\n}\n\nvoid main() {\n  float rez = max(1., 64. - 8. * floor(.03 * time));\n  vec2 g = mod(uv * rez, rez);\n  g -= rez / 2.;\n  g += .5 * rez * vec2(cos(1.5 + .5 * time), sin(.5 * time)) * smoothstep(20., 10., time);\n  g *= min(1., pow(.02 + .012 * time, 1.8));\n  g += rez / 2.;\n  vec2 l = fract(g);\n  vec2 gf = floor(g) + .5;\n  g -= rez / 2.;\n  g *= .8 + .2 * pow(time * .05, 1.2) * cos(.3 * time) * length(g / rez) * .5 * (1. + pow(time * .01, 1.3) * vec2(cos(g.x + .9 * time), sin(g.y + 1.1 * time)));\n  g += rez / 2.;\n  float r = texture2D(t, g / rez).r;\n  float rf = texture2D(t, gf / rez).r;\n  vec3 c = smoothstep(.01, .0, length(l-.5) - r * 0.5) * mix(color(rf), vec3(rf), min(1., .002 * time));\n  gl_FragColor = vec4(c, 1.);\n}"]);return jt=function(){return n},n}var At=22,Ct="atoms",Pt=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:Dt.node,uniforms:{time:e,t:"/images/einstein-tongue-out.jpg"}})},Dt=an.Shaders.create({node:{frag:Object(an.GLSL)(jt(),Math.PI)}});function Lt(){var n=rn(["\n  precision highp float;\n  varying vec2 uv;\n  uniform float time;\n  const float PI = ",";\n  // https://iquilezles.org/www/articles/palettes/palettes.htm\n  vec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n    return a + b*cos( 6.28318*(c*t+d) );\n  }\n  // from http://glslsandbox.com/e#43182.0 / 007 example\n  #define SQRT3 1.7320508\n  const vec2 s = vec2(1.0, SQRT3);\n  float hex(in vec2 p){\n    p = abs(p);\n    return max(dot(p, s*.5), p.x);\n  }\n  vec4 getHex(vec2 p) {\n    vec4 hC = floor(vec4(p, p - vec2(.5, 1))/s.xyxy) + .5;\n    vec4 h = vec4(p - hC.xy*s, p - (hC.zw + .5)*s);\n    return dot(h.xy, h.xy)<dot(h.zw, h.zw) ? vec4(h.xy, hC.xy) : vec4(h.zw, hC.zw + 9.73);\n  }\n  // utilities from classical SDF\n  float pModPolar(inout vec2 p, float repetitions) {\n    float angle = 2.*PI/repetitions;\n    float a = atan(p.y, p.x) + angle/2.;\n    float r = length(p);\n    float c = floor(a/angle);\n    a = mod(a,angle) - angle/2.;\n    p = vec2(cos(a), sin(a)) * r;\n    if (abs(c) >= (repetitions/2.)) c = abs(c);\n    return c;\n  }\n  void pR(inout vec2 p, float a) {\n    p = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n  }\n    //////\n  vec3 color (float t) {\n    return palette(\n      t,\n      vec3(.5),\n      vec3(.5),\n      vec3(1.),\n      vec3(.9, .1, .2)\n    );\n  }\n\n  float tile (vec2 p, vec2 g, vec2 g2) {\n    pR(p, PI / 6.);\n    float r1 = pModPolar(p, 3.);\n    p.x -= 1./3.;\n    float change = smoothstep(-.5, 1., cos(time));\n    pR(p, change * PI / 3.);\n    float r2 = 1. + pModPolar(p, 3.);\n    float index = mod(r1 + r2, 3.);\n    return index;\n  }\n\n  void main() {\n    vec2 p = uv - .5;\n    p.x += .1 * time;\n    vec2 g = p * 2.;\n    vec4 r = getHex(g);\n    vec4 r2 = getHex(g + vec2(-.2 * time, .4 * time));\n    float i = tile(r.xy, r.zw, r2.zw);\n    float sz = 0.03;\n    pR(g, PI/3.);\n    float m = smoothstep(.48, .52, mod(g.x, sz) / sz);\n    vec3 c = color(\n      .5 * smoothstep(.45, .5, abs(fract(.1 * time)-.5)) +\n      i * .1 +\n      0.02 * m +\n      -0.1 * (r2.z - r2.w));\n    gl_FragColor = vec4(c, 1.0);\n  }\n      "]);return Lt=function(){return n},n}var Nt=23,Mt="Hexacubes",kt=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:Ut.node,uniforms:{time:e}})},Ut=an.Shaders.create({node:{frag:Object(an.GLSL)(Lt(),Math.PI)}});function Bt(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nuniform bool cameraMode;\nuniform vec3 origin;\nuniform mat3 rotation;\n\n#define MAX_DIST \t60.\n#define MIN_DIST\t.001\n\nconst float PI = ",";\nconst float PI2 = ",";\n\nvec2 opU (vec2 a, vec2 b) {\n  return (a.x<b.x) ? a : b;\n}\nvec2 opI (vec2 a, vec2 b) {\n  return (a.x>b.x) ? a : b;\n}\n\nfloat pMod1(inout float p, float size) {\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p + halfsize, size) - halfsize;\n\treturn c;\n}\n\nfloat vmax(vec3 v) {\n  return max(max(v.x, v.y), v.z);\n}\n\nfloat fBox(vec3 p, vec3 b, float r) {\n\tvec3 d = abs(p) - b;\n  return length(max(d, vec3(0))) + vmax(min(d, vec3(0)))-r;\n}\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\nvec2 shape (vec3 p, float a, float b) {\n  float m = abs(2. + .3 * a + .4 * b);\n  m *= step(2., mod(2.7 * a + 13.3 * b, 4.));\n  vec2 o = vec2(fBox(p, vec3(1.), .0), m);\n  pR(p.xy, .05 * time + .2 * a);\n  pR(p.yz, -.2 * time - .4 * b);\n  pR(p.xz, .4 * time + .1 * a - b);\n  p *= 1. + .5 * cos(2. * time + .1 * a);\n  p.xy += .2 * vec2(cos(.2 * time - a * 3.), sin(.3 * time + b));\n  o = opI(o, vec2(fBox(p, vec3(1.), .0), m));\n  return o;\n}\n\nvec2 map(vec3 p) {\n  vec2 o = vec2(MAX_DIST, 0.);\n  p.x -= 1. + .5 * time;\n  p.y += 14. * sqrt(smoothstep(20., 2., time));\n  pR(p.yz, PI/6.);\n  pR(p.xz, .05 * time);\n  float a = pMod1(p.z, 4.);\n  float b = pMod1(p.x, 5.);\n  o = opU(o, vec2(p.y, 1.));\n  p.y -= 1.8 + .7 * cos(2. * time + 2. * (b + a));\n  o = opU(o, shape(p, a, b));\n  return o;\n}\n\n\n// Boilerplate inspired from https://www.shadertoy.com/view/WscBDS\n\n// Tetrahedron technique @iq\n// https://www.iquilezles.org/www/articles/normalsSDF\nvec3 getNormal(vec3 p, float t){\n    float e = MIN_DIST *t;\n    vec2 h = vec2(1.,-1.)*.57735027;\n    return normalize( h.xyy*map( p + h.xyy*e ).x +\n\t\t\t\t\t  h.yyx*map( p + h.yyx*e ).x +\n\t\t\t\t\t  h.yxy*map( p + h.yxy*e ).x +\n\t\t\t\t\t  h.xxx*map( p + h.xxx*e ).x );\n}\n\nvec2 marcher(vec3 ro, vec3 rd, int maxsteps) {\n\tfloat d = 0.;\n    float m = -1.;\n    for(int i=0; i<300; i++){\n      if (i>maxsteps) break;\n    \tvec2 t = map(ro + rd * d);\n        if(abs(t.x)<d*MIN_DIST||d>MAX_DIST) break;\n        d += i<64 ? t.x*.45 : t.x * .85;\n        m  = t.y;\n    }\n\treturn vec2(d,m);\n}\n\nfloat getDiff(vec3 p, vec3 n, vec3 lpos) {\n    vec3 l = normalize(lpos-p);\n    float dif = clamp(dot(n,l),.01 , 1.);\n    float shadow = marcher(p + n * .01, l, 128).x;\n    if(shadow < length(p -  lpos)) dif *= .25;\n    return dif;\n}\n\nvec3 camera(vec3 lp, vec3 ro, vec2 uv) {\n\tvec3 cf = normalize(lp - ro),\n         cr = normalize(cross(vec3(0,1,0),cf)),\n         cu = normalize(cross(cf,cr)),\n         c  = ro + cf *.85,\n         i  = c + uv.x * cr + uv.y * cu,\n         rd = i - ro;\n    return rd;\n}\n\n\nvec3 shp;\nvec2 sid,sip,bid;\nfloat saveHash, ti, tf, tg;\nvec3 thp;\nvec2 tip,fid;\nfloat thsh;\n\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\nvec3 color (float t) {\n  return clamp(palette(\n    t,\n    vec3(.4),\n    vec3(.9),\n    vec3(.3, .5, .6),\n    vec3(1., .6, .4)\n  ), 0., 1.);\n}\n\nvec3 getColor(float m) {\n  if (m < 2.) return vec3(.0);\n  return color(m*.2);\n}\n\nvec4 mainImage() {\n    vec3 C = vec3(0.),\n        FC =  vec3(.2);\n    vec3 lp = vec3(0.,0.,0.),\n         ro = vec3(2.25,2.15,11.5);\n\tvec3 rd = camera(lp,ro,uv-.5);\n  vec2 t = marcher(ro,rd, 256);\n  thsh = saveHash;\n  thp = shp;\n\ttip = sip;\n\n  if(t.x<MAX_DIST){\n  \tvec3 p = ro + rd * t.x;\n  \tvec3 n = getNormal(p, t.x);\n      vec3 lpos = vec3(1.5,2.5, 16.25);\n  \tfloat diff = getDiff(p, n, lpos);\n\t\tvec3 h = getColor(t.y);\n      C+=diff * h;\n      if(t.y>0.){\n      \tvec3 rr=reflect(rd,n);\n          vec2 tr = marcher(p ,rr, 192);\n\t\tthsh = saveHash;\n          thp = shp;\n          tip = sid;\n          if(tr.x<MAX_DIST){\n              p += rr*tr.x;\n              n = getNormal(p,tr.x);\n              diff = getDiff(p,n,lpos);\n              h = max(getColor(tr.y),FC);\n              C+=(diff * h)*.4;\n\n              if(t.y>0.){\n                  rr=reflect(rr,n);\n                  tr = marcher(p ,rr, 192);\n                  thsh = saveHash;\n                  thp = shp;\n                  tip = sid;\n                  if(tr.x<MAX_DIST){\n                      p += rr*tr.x;\n                      n = getNormal(p,tr.x);\n                      diff = getDiff(p,n,lpos);\n                      h = max(getColor(tr.y),FC);\n                      C+=(diff * h)*.4;\n                  }\n              }\n\n          }\n      }\n    }\n    C = mix( C, FC, 1.-exp(-.00015*t.x*t.x*t.x));\n    return vec4(pow(C, vec3(0.4545)),1.0);\n}\n\nvoid main() {\n  gl_FragColor = mainImage();\n}"]);return Bt=function(){return n},n}var Ft=24,qt="dark cubes",Gt=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:Ht.node,uniforms:{time:e}})},Ht=an.Shaders.create({node:{frag:Object(an.GLSL)(Bt(),Math.PI,2*Math.PI)}});function Vt(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec3 color (float t) {\n  float ti = 2. * time + 10.;\n  return palette(\n    t,\n    vec3(.5),\n    vec3(.5),\n    vec3(.7, .5 + .1 * cos(.01 * ti), .5),\n    vec3(.5 + .2 * sin(-.07 * ti), .6 + .1 * cos(.01 * ti), .7 + .1 * sin(.3 + .03 * ti))\n  );\n}\n\nfloat mandelbrot (vec2 init) {\n  vec2 p = init;\n  for (float iter = 0.; iter < 400.; iter += 1.) {\n    p = vec2(p.x * p.x - p.y * p.y, 2. * p.x * p.y) + init;\n    if (length(p) >= 2.0) {\n      return iter / 400.;\n    }\n  }\n  return 1.;\n}\n\nvoid main() {\n  float acc = pow(smoothstep(0., 30., time), 1.4); // 0->1 for first 30s\n  float zoom = .5 + .2 * pow(time, 1.8) * acc; // zoom in\n  vec2 init = 2. * (uv - .5) / zoom;\n  pR(init, .1 * time * (1. - acc)); // rotate a bit on the center\n  init += vec2(.335, .388); // offset to center\n  gl_FragColor = vec4(color(mandelbrot(init)), 1.0);\n}\n"]);return Vt=function(){return n},n}function Xt(){var n=rn(["\n  precision highp float;\n  varying vec2 uv;\n  uniform sampler2D t, back;\n  uniform float persistence;\n  void main () {\n    gl_FragColor = mix(\n      texture2D(t, uv),\n      texture2D(back, uv),\n      persistence\n    );\n  }\n      "]);return Xt=function(){return n},n}var Yt=25,Wt="Mandelbrot",Kt=function(n){var e=n.time;return Object(on.jsx)(an.LinearCopy,{children:Object(on.jsx)(Qt,{persistence:.9,children:Object(on.jsx)(Me,{passes:4,factor:.1,children:Object(on.jsx)(an.Node,{shader:Zt.node,uniforms:{time:e}})})})})},Qt=function(n){var e=n.children,t=n.persistence;return Object(on.jsx)(an.Node,{shader:Zt.persistence,backbuffering:!0,uniforms:{t:e,back:an.Uniform.Backbuffer,persistence:t}})},Zt=an.Shaders.create({persistence:{frag:Object(an.GLSL)(Xt())},node:{frag:Object(an.GLSL)(Vt())}});function $t(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nconst float PI = ",";\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec3 color (float t) {\n  float ti = 2. * time + 60.;\n  return palette(\n    t,\n    vec3(.5),\n    vec3(.5),\n    vec3(0.5, .5 + .5 * cos(.01 * ti), 1.),\n    vec3(.8 + .2 * sin(-.07 * ti), .1 + .05 * cos(.02 * ti), .1 + .1 * sin(.3 + .03 * ti))\n  );\n}\n\nfloat gre1 (vec2 init, float t) {\n  vec2 p = init;\n  for (float iter = 0.; iter < 200.; iter += 1.) {\n    p = vec2(\n      (1. + cos(t)) * p.x * p.x - 2. *  p.y * p.y + .1 * cos(.1 * t),\n      (3. + sin(t)) * p.x * p.y - .2 * cos(.3 * t + p.y)\n    ) + init;\n    if (length(p) >= 2.0) {\n      return iter / 200.;\n    }\n  }\n  return 0.;\n}\n\nvoid main() {\n  float t = .1 * time;\n  float zoom = 1. + .2 * t;\n  vec2 init = 2. * (uv - .5) / zoom;\n  pR(init, -PI/2. + .05 * time);\n  init -= vec2(.8, .0);\n  gl_FragColor = vec4(color(pow(gre1(init, t), .5)), 1.0);\n}\n"]);return $t=function(){return n},n}function Jt(){var n=rn(["\n  precision highp float;\n  varying vec2 uv;\n  uniform sampler2D t, back;\n  uniform float persistence;\n  void main () {\n    gl_FragColor = mix(\n      texture2D(t, uv),\n      texture2D(back, uv),\n      persistence\n    );\n  }\n      "]);return Jt=function(){return n},n}var nr=26,er="fumes",tr=function(n){var e=n.time;return Object(on.jsx)(an.LinearCopy,{children:Object(on.jsx)(rr,{persistence:.9,children:Object(on.jsx)(Me,{passes:4,factor:Math.min(.6,.01*e),children:Object(on.jsx)(an.Node,{shader:or.node,uniforms:{time:e}})})})})},rr=function(n){var e=n.children,t=n.persistence;return Object(on.jsx)(an.Node,{shader:or.persistence,backbuffering:!0,uniforms:{t:e,back:an.Uniform.Backbuffer,persistence:t}})},or=an.Shaders.create({persistence:{frag:Object(an.GLSL)(Jt())},node:{frag:Object(an.GLSL)($t(),Math.PI)}});function ir(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec3 color (float t) {\n  return palette(\n    t,\n    vec3(.5),\n    vec3(.5),\n    vec3(1.),\n    vec3(.7, .2 + min(.1, .01 * time), .2)\n  );\n}\n\nfloat mandelbrot (vec2 init) {\n  vec2 p = init;\n  for (float iter = 0.; iter < 400.; iter += 1.) {\n    p = vec2(\n      p.x * p.x - p.y * p.y,\n      2. * abs(p.x * p.y) + 0.0003 * time\n    ) + init;\n    if (length(p) >= 2.0) {\n      return iter / 400.;\n    }\n  }\n  return -1.;\n}\n\nvoid main() {\n  float zoom = 20.;\n  vec2 init = 2. * (uv - .5) / zoom;\n  init.x *= -1.;\n  pR(init, -3.14);\n  init += vec2(-1.76, -.03 - 0.0003 * time);\n  float f = mandelbrot(init);\n  vec3 clr = color(f); // vec3(1.-pow(f, 0.5)))\n  vec3 c = mix(clr, vec3(0.), step(f, -0.1));\n  gl_FragColor = vec4(c, 1.0);\n}\n"]);return ir=function(){return n},n}function ar(){var n=rn(["\n  precision highp float;\n  varying vec2 uv;\n  uniform sampler2D t, back;\n  uniform float persistence;\n  uniform float time;\n  void main () {\n    vec2 offset = vec2(0.002 * (cos(2. * time) + 0.4 * sin(5. * time)), -0.006);\n    gl_FragColor = mix(\n      texture2D(t, uv),\n      texture2D(back, uv + offset),\n      persistence\n    );\n  }\n      "]);return ar=function(){return n},n}var sr=27,cr="real burning ship",lr=function(n){var e=n.time;return Object(on.jsx)(an.LinearCopy,{children:Object(on.jsx)(fr,{persistence:.8+.05*Math.random(),time:e,children:Object(on.jsx)(an.Node,{shader:pr.node,uniforms:{time:e}})})})},fr=function(n){var e=n.children,t=n.persistence,r=n.time;return Object(on.jsx)(an.Node,{shader:pr.persistence,backbuffering:!0,uniforms:{t:e,back:an.Uniform.Backbuffer,persistence:t,time:r}})},pr=an.Shaders.create({persistence:{frag:Object(an.GLSL)(ar())},node:{frag:Object(an.GLSL)(ir())}});function ur(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nconst float PI = ",";\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec3 color (float t) {\n  return palette(\n    t - 0.3 + time / 60.,\n    vec3(.5),\n    vec3(.5),\n    vec3(.3, 1.,.8),\n    vec3(.8, .3, .7)\n  );\n}\n\nfloat mandelbrot (vec2 init) {\n  vec2 p = init;\n  for (float iter = 0.; iter < 200.; iter += 1.) {\n    p = vec2(\n      abs(p.x * p.x - p.y * p.y),\n      2. * p.x * p.y\n    ) + init;\n    if (length(p) >= 2.0) {\n      return iter / 200.;\n    }\n  }\n  return -1.;\n}\n\nvoid main() {\n  float zooming = pow(smoothstep(0., 30., time), 1.5);\n  float rotating = smoothstep(20., 30., time);\n  float zoom = .4 + 21.6 * pow(fract(.2 * time * zooming), 2.);\n  vec2 init = 2. * (uv - .5);\n  init /= zoom;\n  pR(init, min(40., time-20.) * time * rotating);\n  init += vec2(0., 1.788);\n  pR(init, -PI/2.);\n  float f = mandelbrot(init);\n  vec3 clr = color(mix(step(f, 1.), f, rotating));\n  vec3 c = mix(clr, vec3(0.), step(f, -0.1));\n  gl_FragColor = vec4(c, 1.0);\n}\n"]);return ur=function(){return n},n}function dr(){var n=rn(["\n  precision highp float;\n  varying vec2 uv;\n  uniform sampler2D t, back;\n  uniform float persistence;\n  uniform float time;\n  void main () {\n    vec2 offset = vec2(0.);\n    gl_FragColor = mix(\n      texture2D(t, uv),\n      texture2D(back, uv + offset),\n      persistence\n    );\n  }\n      "]);return dr=function(){return n},n}var vr=28,hr="No, I'M Batman",mr=function(n){var e=n.time;return Object(on.jsx)(an.LinearCopy,{children:Object(on.jsx)(gr,{persistence:.5+.48*Math.min(1,e/60),children:Object(on.jsx)(an.Node,{shader:yr.node,uniforms:{time:e}})})})},gr=function(n){var e=n.children,t=n.persistence;return Object(on.jsx)(an.Node,{shader:yr.persistence,backbuffering:!0,uniforms:{t:e,back:an.Uniform.Backbuffer,persistence:t}})},yr=an.Shaders.create({persistence:{frag:Object(an.GLSL)(dr())},node:{frag:Object(an.GLSL)(ur(),Math.PI)}});function xr(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nconst float PI = ",";\n\nfloat sdBox (vec2 p, vec2 sz) {\n  return max(abs(p.x) - sz.x, abs(p.y) - sz.y);\n}\nfloat sdD (vec2 p, float w, float h) {\n  return min(sdBox(p, vec2(w, h)), length(p-vec2(w, .0))-h);\n}\nfloat sdUpperD (vec2 p) {\n  p.x += .02;\n  p.y -= .1;\n  float inner = sdD(p + vec2(-0.025, 0.012), 0.037, 0.055);\n  float outer = sdD(p, 0.1, 0.1);\n  return max(-inner, outer);\n}\nfloat sdLowerD (vec2 p) {\n  p.x += .01;\n  p.y += .085;\n  float outer = sdD(p, 0.11, 0.11);\n  float inner = sdD(p - vec2(0.023, 0.01), 0.045, 0.058);\n  return max(-inner, outer);\n}\nfloat sdRevCornerRadius(vec2 p) {\n  return max(\n    sdBox(p, vec2(.5)),\n    -min(\n      (p.x - p.y) / 2.,\n      length(p + vec2(.5, -.5)) - 1.\n    )\n  );\n}\nfloat sdBitcoin (vec2 p) {\n  float bottom = sdLowerD(p);\n  bottom = min(bottom, max(\n    sdBox(p + vec2(.15, .165), vec2(.04, .03)), // bottom-left shape\n    -(p.x - .216 * p.y + 0.142)) // 12.5\xb0 cut\n  );\n  bottom = min(bottom, sdRevCornerRadius((p + vec2(0.135, -0.135)) * vec2(1., -1.) * 30.));\n  float top = sdUpperD(p);\n  top = min(top, sdBox(p - vec2(-.15, .175), vec2(.034, .025)));\n  top = min(top, sdRevCornerRadius((p + vec2(0.135, 0.12)) * vec2(1., 1.) * 30.));\n  p.x += .01;\n  float hash = max(\n    sdBox(p, vec2(0.07, .285)),\n    -min(\n      sdBox(p, vec2(0.022, 1.)),\n      sdBox(p, vec2(1., .15))\n    )\n  );\n  return min(min(top, bottom), hash);\n}\n\nvoid main() {\n  vec2 p = uv - .5;\n  p *= 1.5 + cos(time);\n  float shape = sdBitcoin(p);\n  float d = length(p);\n  vec3 c =\n    smoothstep(.005, 0., shape) * vec3(1.);\n  c += 0.5 * smoothstep(.25, .2, fract(shape*15. + 0.5));\n  gl_FragColor = vec4(c, 1.0);\n}"]);return xr=function(){return n},n}var br=29,_r="sdBitcoin(p)",wr=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:Sr.node,uniforms:{time:e}})},Sr=an.Shaders.create({node:{frag:Object(an.GLSL)(xr(),Math.PI)}});function Er(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\nuniform float numberInCirculation;\n\n#define SIZE 275.\n\nfloat sdBox (vec2 p, vec2 sz) {\n  return max(abs(p.x) - sz.x, abs(p.y) - sz.y);\n}\nfloat sdD (vec2 p, float w, float h) {\n  return min(sdBox(p, vec2(w, h)), length(p-vec2(w, .0))-h);\n}\nfloat sdUpperD (vec2 p) {\n  p.x += .02;\n  p.y -= .1;\n  float inner = sdD(p + vec2(-0.025, 0.012), 0.037, 0.055);\n  float outer = sdD(p, 0.1, 0.1);\n  return max(-inner, outer);\n}\nfloat sdLowerD (vec2 p) {\n  p.x += .01;\n  p.y += .085;\n  float outer = sdD(p, 0.11, 0.11);\n  float inner = sdD(p - vec2(0.023, 0.01), 0.045, 0.058);\n  return max(-inner, outer);\n}\nfloat sdRevCornerRadius(vec2 p) {\n  return max(\n    sdBox(p, vec2(.5)),\n    -min(\n      (p.x - p.y) / 2.,\n      length(p + vec2(.5, -.5)) - 1.\n    )\n  );\n}\nfloat sdBitcoin2D (vec2 p) {\n  float bottom = sdLowerD(p);\n  bottom = min(bottom, max(\n    sdBox(p + vec2(.15, .165), vec2(.04, .03)), // bottom-left shape\n    -(p.x - .216 * p.y + 0.142)) // 12.5\xb0 cut\n  );\n  bottom = min(bottom, sdRevCornerRadius((p + vec2(0.135, -0.135)) * vec2(1., -1.) * 30.));\n  float top = sdUpperD(p);\n  top = min(top, sdBox(p - vec2(-.15, .175), vec2(.034, .025)));\n  top = min(top, sdRevCornerRadius((p + vec2(0.135, 0.12)) * vec2(1., 1.) * 30.));\n  p.x += .01;\n  float hash = max(\n    sdBox(p, vec2(0.07, .285)),\n    -min(\n      sdBox(p, vec2(0.022, 1.)),\n      sdBox(p, vec2(1., .15))\n    )\n  );\n  return min(min(top, bottom), hash);\n}\n\nfloat sdBitcoin (in vec3 p, in float L, in float sz) {\n  p.y += 0.05;\n  p.y -= min(L, max(0.0, p.y));\n  float plane = abs(p.y);\n  return max(sdBitcoin2D(p.xz / sz), plane);\n}\n\nfloat pModInterval1(inout float p, float size, float start, float stop) {\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p+halfsize, size) - halfsize;\n\tif (c > stop) {\n\t\tp += size*(c - stop);\n\t\tc = stop;\n\t}\n\tif (c <start) {\n\t\tp += size*(c - start);\n\t\tc = start;\n\t}\n\treturn c;\n}\n\nconst vec3 rep = vec3(.65, .3, .5);\n\nfloat unzooming = (.5 + .5 * cos(2.8 + .2 * time)) * smoothstep(5., 10., time);\n\nvec2 map (vec3 p) {\n  vec3 id = vec3(\n    pModInterval1(p.x, rep.x, 0., SIZE),\n    pModInterval1(p.y, rep.y, -SIZE, 0.),\n    pModInterval1(p.z, rep.z, 0., SIZE)\n  );\n  float a = numberInCirculation/SIZE;\n  float b = a/SIZE;\n  float circ = step(SIZE + id.y - b, 0.);\n  float d = sdBitcoin2D(.8 * (id.zx / SIZE - .5));\n  float sz = 1. - 0.5 * step(d, 0.) - 0.3 * abs(cos(3. * time + d * 20.)) - .23* unzooming;\n  p.y += 0.05 * cos(.8 * id.x + .7 *  time) * sin(.7 * id.z + .5 * time);\n  p.x += 0.05 * cos(8. * id.y + .5 * time) * sin(4.7 * id.z + .3 * time);\n  p.z += 0.05 * cos(7. * id.x + .6 * time) * sin(8. * id.y + .4 * time);\n  return vec2(\n    sdBitcoin(p.zyx, .1, sz)\n    , 1. + circ);\n}\n\nvec3 color (float material) {\n  if (material == 0.) return vec3(0.);\n  return mix(\n    vec3(1.),\n    vec3(246./255., 145./255., 29./255.),\n    step(material, 1.5)\n  );\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x-map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x-map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x-map(p-eps.yyx).x\n\t));\n}\n\nfloat getDiff(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\nmat3 lookAt (vec3 ro, vec3 ta) {\n  float cr = 0.;\n  vec3 ww = normalize( ta - ro );\n  vec3 uu = normalize( cross(ww,vec3(sin(cr),cos(cr),0.0) ) );\n  vec3 vv =          ( cross(uu,ww));\n  return mat3(uu,vv,ww);\n}\n\nvoid main() {\n  vec3 origin = vec3(-.1, 1., .1);\n  origin += vec3(-100. - time, 200. - 2. * time, time) * pow(unzooming, 2.);\n  vec3 dir = normalize(vec3(uv - .5, 1.));\n  vec3 poi = rep * vec3(SIZE, -SIZE, SIZE) * smoothstep(.0, .5, unzooming);\n  dir = lookAt(origin, poi) * dir;\n  float material = 0.;\n  vec3 p = origin;\n  for (int i=0; i<400; i++) {\n    vec2 hit = map(p);\n    p += dir * hit.x * mix(.5, .9, unzooming);\n    if (hit.x < 0.001) {\n      material = hit.y;\n      break;\n    }\n  }\n  vec3 n = normal(p);\n  vec3 lpos = vec3(0., 5., -4.);\n  vec3 c = color(material) * getDiff(p, n, lpos);\n  gl_FragColor = vec4(c, 1.0);\n}"]);return Er=function(){return n},n}var Tr=30,Rr="21 millions",zr=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:Or.node,uniforms:{time:e,numberInCirculation:18557031}})},Or=an.Shaders.create({node:{frag:Object(an.GLSL)(Er())}});function Ir(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\nuniform float numberInCirculation;\n\nvec2 map (vec3 p);\n\n#define PI ","\n\n// FROM https://www.shadertoy.com/view/4sdGWN\n\n#define HASHSCALE1 .1031\n\nfloat hash(float p) {\n\tvec3 p3  = fract(vec3(p) * HASHSCALE1);\n  p3 += dot(p3, p3.yzx + 19.19);\n  return fract((p3.x + p3.y) * p3.z);\n}\nvec3 randomSphereDir(vec2 rnd) {\n\tfloat s = rnd.x*PI*2.;\n\tfloat t = rnd.y*2.-1.;\n\treturn vec3(sin(s), cos(s), t) / sqrt(1.0 + t * t);\n}\nvec3 randomHemisphereDir(vec3 dir, float i) {\n\tvec3 v = randomSphereDir( vec2(hash(i+1.), hash(i+2.)) );\n\treturn v * sign(dot(v, dir));\n}\n\nfloat ambientOcclusion( in vec3 p, in vec3 n, in float maxDist, in float falloff ) {\n  const int nbIte = 12;\n  const float nbIteInv = 1./float(nbIte);\n  const float rad = 1.-1.*nbIteInv;\n  float ao = 0.0;\n  for( int i=0; i<nbIte; i++ ) {\n    float l = hash(float(i))*maxDist;\n    vec3 rd = normalize(n+randomHemisphereDir(n, l )*rad)*l;\n    ao += (l - max(map( p + rd ).x, 0.)) / maxDist * falloff;\n  }\n  return clamp( 1.-ao*nbIteInv, 0., 1.);\n}\n\n// https://mercury.sexy/hg_sdf/\n\nfloat pModInterval1(inout float p, float size, float start, float stop) {\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p+halfsize, size) - halfsize;\n\tif (c > stop) {\n\t\tp += size*(c - stop);\n\t\tc = stop;\n\t}\n\tif (c <start) {\n\t\tp += size*(c - start);\n\t\tc = start;\n\t}\n\treturn c;\n}\n\n// GRE's\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\nfloat sdReuleaux(vec3 p, float edge, float L) {\n  p.y -= min(L, max(0.0, p.y));\n  p.z -= edge / 6.;\n  float h = edge * sqrt(3.) / 2.;\n  float a = length(p - vec3(0., 0., h / 2.)) - edge;\n  float b = length(p + vec3(.5 * edge, 0., h / 2.)) - edge;\n  float c = length(p + vec3(-.5 * edge, 0., h / 2.)) - edge;\n  return max(max(max(a, b), c), abs(p.y));\n}\n\nfloat sdSegment(vec3 p, float s, float L) {\n  p.y -= min(L, max(0.0, p.y));\n  return max(length(p)-s, abs(p.y));\n}\n\nvec2 map (vec3 p) {\n  float s = p.y; // ground\n  for (float f=0.; f<20.; f+=1.) {\n    float t = .4 * time - f * pow(1. + .6 * time, .5) + f * pow(1. + .8 * time - sin(time), .2);\n    p.xz -= .075 * vec2(cos(-t), sin(-t));\n    pR(p.xz, t / 3. + PI / 2.);\n    float cut = .55 * smoothstep(.8, 1., sin(time - (.03 + 0.0002 * time) * f))-length(p.xz);\n    s = min(s, max(sdReuleaux(p, 1., .1), cut));\n    p.y -= .11 + 0.0005 * time;\n  }\n  return vec2(s, 1.);\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x-map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x-map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x-map(p-eps.yyx).x\n\t));\n}\n\nfloat getDiff(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\nvec2 marcher (inout vec3 p, vec3 dir) {\n  float glitch = 0.0001 * time; // NB intentional glitch over time of the raymarcher\n  vec2 t = vec2(999., 0.);\n  for (int i=0; i<70; i++) {\n    vec2 hit = map(p);\n    p += dir * hit.x;\n    if (hit.x < 0.01 + glitch) {\n      t = hit;\n      break;\n    }\n  }\n  return t;\n}\n\nvec3 color (float material) {\n  if (material == 0.) return vec3(0.);\n  return vec3(1.);\n}\n\nvoid main() {\n  float zoom = sin(.2 * time);\n  vec3 origin = vec3(0., 4., -3.2 + .4 * zoom);\n  vec3 dir = normalize(vec3(uv - .5, 1.));\n  pR(dir.yz, -.6 + .05 * zoom);\n  vec3 p = origin;\n  vec2 hit = marcher(p, dir);\n  vec3 n = normal(p);\n  vec3 c = vec3(0.5);\n  c += color(hit.y) * vec3(.6, .4, .3) * getDiff(p, n, vec3(-2., 5., -4.));\n  c += color(hit.y) * vec3(.2, .4, .5) * getDiff(p, n, vec3(2., 5., -4.));\n  c *= ambientOcclusion(p, n, 2., 1.);\n  gl_FragColor = vec4(c, 1.0);\n}"]);return Ir=function(){return n},n}var jr=31,Ar="alien tower",Cr=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:Pr.node,uniforms:{time:e,numberInCirculation:18557031}})},Pr=an.Shaders.create({node:{frag:Object(an.GLSL)(Ir(),Math.PI)}});function Dr(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\nuniform sampler2D t;\n\nvec2 map (vec3 p);\n\n#define PI ","\n#define SIZE_F ",".\n\n// https://mercury.sexy/hg_sdf/\n\nfloat pModInterval1(inout float p, float size, float start, float stop) {\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p+halfsize, size) - halfsize;\n\tif (c > stop) {\n\t\tp += size*(c - stop);\n\t\tc = stop;\n\t}\n\tif (c <start) {\n\t\tp += size*(c - start);\n\t\tc = start;\n\t}\n\treturn c;\n}\n// FROM https://www.shadertoy.com/view/4sdGWN\n\n#define HASHSCALE1 .1031\n\nfloat hash(float p) {\n\tvec3 p3  = fract(vec3(p) * HASHSCALE1);\n  p3 += dot(p3, p3.yzx + 19.19);\n  return fract((p3.x + p3.y) * p3.z);\n}\nvec3 randomSphereDir(vec2 rnd) {\n\tfloat s = rnd.x*PI*2.;\n\tfloat t = rnd.y*2.-1.;\n\treturn vec3(sin(s), cos(s), t) / sqrt(1.0 + t * t);\n}\nvec3 randomHemisphereDir(vec3 dir, float i) {\n\tvec3 v = randomSphereDir( vec2(hash(i+1.), hash(i+2.)) );\n\treturn v * sign(dot(v, dir));\n}\n\nfloat ambientOcclusion( in vec3 p, in vec3 n, in float maxDist, in float falloff ) {\n  const int nbIte = 12;\n  const float nbIteInv = 1./float(nbIte);\n  const float rad = 1.-1.*nbIteInv;\n  float ao = 0.0;\n  for( int i=0; i<nbIte; i++ ) {\n    float l = hash(float(i))*maxDist;\n    vec3 rd = normalize(n+randomHemisphereDir(n, l )*rad)*l;\n    ao += (l - max(map( p + rd ).x, 0.)) / maxDist * falloff;\n  }\n  return clamp( 1.-ao*nbIteInv, 0., 1.);\n}\n\n// GRE's\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\nfloat sdSegment(vec3 p, float s, float L) {\n  p.y -= min(L, max(0.0, p.y));\n  return length(p) - s;\n}\n\nvec2 map (vec3 p) {\n  p.y -= .02 * pow(abs(.5 * SIZE_F - p.x + .3 * sin(.3 * p.z + time)), 2.);\n  float s = p.y; // ground\n  float x = pModInterval1(p.x, 1., 0., SIZE_F);\n  p.z += .5 * mod(x, 2.);\n  vec2 id = vec2(x, pModInterval1(p.z, 1., 0., SIZE_F));\n  vec4 lk = texture2D(t, id / SIZE_F);\n  s = min(s, sdSegment(p, .4, lk.r));\n  return vec2(s, 1.);\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x - map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x - map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x - map(p-eps.yyx).x\n\t));\n}\n\nfloat getDiff(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\nvec2 marcher (inout vec3 p, vec3 dir) {\n  vec2 t = vec2(999., 0.);\n  for (int i=0; i<100; i++) {\n    vec2 hit = map(p);\n    p += dir * hit.x * .7;\n    if (hit.x < 0.001) {\n      t = hit;\n      break;\n    }\n  }\n  return t;\n}\n\nvec3 color (float material) {\n  if (material == 0.) return vec3(0.);\n  return vec3(1.);\n}\n\nvoid main() {\n  float zoom = cos(.2 * time);\n  vec3 origin = vec3(SIZE_F/2., 9. - 5. * zoom, .5 * zoom - 2.);\n  vec3 dir = normalize(vec3(uv - .5, 1. + .5 * zoom));\n  pR(dir.yz, -.3 + .1 * zoom);\n  vec3 p = origin;\n  vec2 hit = marcher(p, dir);\n  vec3 n = normal(p);\n  vec3 c = vec3(0.);\n  c += color(hit.y) * vec3(.5, .2, .1) * getDiff(p, n, vec3(0., 5., -4.));\n  c += color(hit.y) * vec3(.5, .5, .7) * getDiff(p, n, vec3(SIZE_F, 5., -4.));\n  c += color(hit.y) * vec3(2., 1.6, 1.) * getDiff(p, n, vec3(.5 * SIZE_F, 5., .3 * SIZE_F));\n  c += .5;\n  float a = ambientOcclusion(p, n, 1.5, 0.8);\n  c *= a;\n  c = mix(c, vec3(.9) + .1 * a, pow(clamp(.025 * length(origin - p), 0., 1.), 1.4));\n  gl_FragColor = vec4(c, 1.0);\n}"]);return Dr=function(){return n},n}var Lr,Nr=32,Mr="GoL valley",kr=function(n){var e=n.time;Lr||(Lr=e);var t=e-Lr,r=Math.floor(12*t);return Object(on.jsx)(an.Node,{shader:Ur.node,uniforms:{time:e,t:Object(on.jsx)(zn,{refreshEveryTicks:100,tick:r,size:100})}})},Ur=an.Shaders.create({node:{frag:Object(an.GLSL)(Dr(),Math.PI,100)}});function Br(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec3 color (float t) {\n  return palette(\n    t,\n    vec3(.5),\n    vec3(.5),\n    vec3(1.),\n    vec3(.1, .3, .4)\n  );\n}\n\nfloat cell (vec2 p) {\n  float m = 2. + floor(.05 * time);\n  return mod(mod(p.x * (p.x + 32. * p.y), m * floor(time) + 1.), m);\n}\n\nvoid main() {\n  float unzoom = 32. + 2. * time;\n  vec2 offset = vec2(-.25 * unzoom, -2. * pow(time, 1.3));\n  vec3 c = color(.1 * cell(floor(uv * unzoom + offset)));\n  gl_FragColor = vec4(c, 1.0);\n}"]);return Br=function(){return n},n}var Fr=33,qr="x(x+32y)%(tN+1)%n",Gr=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:Hr.node,uniforms:{time:e}})},Hr=an.Shaders.create({node:{frag:Object(an.GLSL)(Br())}});function Vr(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n#define PI ","\n\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\nvec3 color (float t) {\n  return palette(\n    t,\n    vec3(.5),\n    vec3(.5),\n    vec3(.6, 1., .4),\n    vec3(.9, .2, .7)\n  );\n}\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\nfloat cell (vec2 p) {\n  return mod(floor(2. * cos(p.x) * sin(p.y + time)), 7.);\n}\n\nvoid main() {\n  float unzoom = 32.;\n  vec2 offset = time * vec2(1., -1.);\n  vec2 p = uv * unzoom + offset;\n  pR(p, PI/4.);\n  vec3 c = color(.1 * floor(.2 * time) + (.1 + .005 * time) * cell(floor(p)));\n  gl_FragColor = vec4(c, 1.0);\n}"]);return Vr=function(){return n},n}var Xr=34,Yr="\u230a2cos(x)sin(y+t)\u230b%7",Wr=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:Kr.node,uniforms:{time:e}})},Kr=an.Shaders.create({node:{frag:Object(an.GLSL)(Vr(),Math.PI)}});function Qr(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n#define PI ","\n\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\nvec3 color (float t, float l) {\n  return palette(\n    t,\n    vec3(.5),\n    vec3(.5),\n    vec3(.3, .5, .7),\n    vec3(.5 * (time - .4 * l), .5, .3)\n  );\n}\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\nfloat cell (vec2 p) {\n  return mod(p.x * p.y, 3.);\n}\n\nvoid main() {\n  vec2 offset = time * vec2(.5, -2. - .01 * time);\n  vec2 center = uv - .5;\n  float a = atan(center.y, center.x);\n  float l = pow(length(center), 1. / (4. + min(50., .2 * time)));\n  vec2 p = vec2(a * 2.025, l * 40.) + offset;\n  pR(p, PI/4.);\n  vec3 c = color(cell(floor(p)), l);\n  gl_FragColor = vec4(c, 1.0);\n}"]);return Qr=function(){return n},n}function Zr(){var n=rn(["\n  precision highp float;\n  varying vec2 uv;\n  uniform sampler2D t, back;\n  uniform float persistence;\n  void main () {\n    gl_FragColor = mix(\n      texture2D(t, uv),\n      texture2D(back, uv),\n      persistence\n    );\n  }\n      "]);return Zr=function(){return n},n}var $r=35,Jr="aie confiance",no=function(n){var e=n.time;return Object(on.jsx)(an.LinearCopy,{children:Object(on.jsx)(eo,{persistence:.6,children:Object(on.jsx)(an.Node,{shader:to.node,uniforms:{time:e}})})})},eo=function(n){var e=n.children,t=n.persistence;return Object(on.jsx)(an.Node,{shader:to.persistence,backbuffering:!0,uniforms:{t:e,back:an.Uniform.Backbuffer,persistence:t}})},to=an.Shaders.create({persistence:{frag:Object(an.GLSL)(Zr())},node:{frag:Object(an.GLSL)(Qr(),Math.PI)}});function ro(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n#define PI ","\n\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\nvec3 color (float t) {\n  return palette(\n    t,\n    vec3(.5),\n    vec3(.5),\n    vec3(.9, 1., .7),\n    vec3(.1, .6, .3)\n  );\n}\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\nfloat cell (vec2 p) {\n  return mod(p.x * p.x + 6. * p.y, 4.);\n}\n\nvoid main() {\n  vec2 offset = vec2(0., -time * 3.);\n  vec2 center = uv - .5;\n  float a = atan(center.y, center.x);\n  float l = pow(length(center), .1);\n  vec2 p = vec2(a * .9, l * 40.) + offset;\n  pR(p, PI/4.);\n  float n = .01 * time + .1 * pow(abs(sin(time)), 4.);\n  vec3 c = color(2. + .1 * time + n * cell(floor(p)));\n  gl_FragColor = vec4(c, 1.0);\n}"]);return ro=function(){return n},n}function oo(){var n=rn(["\n  precision highp float;\n  varying vec2 uv;\n  uniform sampler2D t, back;\n  uniform float persistence;\n  void main () {\n    gl_FragColor = mix(\n      texture2D(t, uv),\n      texture2D(back, uv),\n      .6 + .5 * length(uv-.5)\n    );\n  }\n      "]);return oo=function(){return n},n}var io=36,ao="crois en moi",so=function(n){var e=n.time;return Object(on.jsx)(an.LinearCopy,{children:Object(on.jsx)(co,{children:Object(on.jsx)(an.Node,{shader:lo.node,uniforms:{time:e}})})})},co=function(n){var e=n.children,t=n.persistence;return Object(on.jsx)(an.Node,{shader:lo.persistence,backbuffering:!0,uniforms:{t:e,back:an.Uniform.Backbuffer,persistence:t}})},lo=an.Shaders.create({persistence:{frag:Object(an.GLSL)(oo())},node:{frag:Object(an.GLSL)(ro(),Math.PI)}});function fo(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nvec2 map (vec3 p);\n\n#define PI ","\n\n// https://mercury.sexy/hg_sdf/\n\nfloat pModInterval1(inout float p, float size, float start, float stop) {\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p+halfsize, size) - halfsize;\n\tif (c > stop) {\n\t\tp += size*(c - stop);\n\t\tc = stop;\n\t}\n\tif (c <start) {\n\t\tp += size*(c - start);\n\t\tc = start;\n\t}\n\treturn c;\n}\n\nfloat vmax(vec2 v) {\n\treturn max(v.x, v.y);\n}\n\nfloat vmax(vec3 v) {\n\treturn max(max(v.x, v.y), v.z);\n}\n\nfloat vmax(vec4 v) {\n\treturn max(max(v.x, v.y), max(v.z, v.w));\n}\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\nfloat fBox(vec3 p, vec3 b) {\n\tvec3 d = abs(p) - b;\n\treturn length(max(d, vec3(0))) + vmax(min(d, vec3(0)));\n}\n\nfloat fCylinder(vec3 p, float r, float height) {\n\tfloat d = length(p.xz) - r;\n\td = max(d, abs(p.y) - height);\n\treturn d;\n}\n\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\nvec3 getColor (float t) {\n  return palette(\n    fract(floor(t * 16.)/16.),\n    vec3(.5),\n    vec3(.5),\n    vec3(1.),\n    vec3(.1, .4, .7)\n  );\n}\n\n\n// FROM https://www.shadertoy.com/view/4sdGWN\n\n#define HASHSCALE1 .1031\n\nfloat hash(float p) {\n\tvec3 p3  = fract(vec3(p) * HASHSCALE1);\n  p3 += dot(p3, p3.yzx + 19.19);\n  return fract((p3.x + p3.y) * p3.z);\n}\nvec3 randomSphereDir(vec2 rnd) {\n\tfloat s = rnd.x*PI*2.;\n\tfloat t = rnd.y*2.-1.;\n\treturn vec3(sin(s), cos(s), t) / sqrt(1.0 + t * t);\n}\nvec3 randomHemisphereDir(vec3 dir, float i) {\n\tvec3 v = randomSphereDir( vec2(hash(i+1.), hash(i+2.)) );\n\treturn v * sign(dot(v, dir));\n}\n\nfloat ambientOcclusion( in vec3 p, in vec3 n, in float maxDist, in float falloff ) {\n  const int nbIte = 12;\n  const float nbIteInv = 1./float(nbIte);\n  const float rad = 1.-1.*nbIteInv;\n  float ao = 0.0;\n  for( int i=0; i<nbIte; i++ ) {\n    float l = hash(float(i))*maxDist;\n    vec3 rd = normalize(n+randomHemisphereDir(n, l )*rad)*l;\n    ao += (l - max(map( p + rd ).x, 0.)) / maxDist * falloff;\n  }\n  return clamp( 1.-ao*nbIteInv, 0., 1.);\n}\n\n\n// GRE's\n\nvec2 opU (vec2 a, vec2 b) {\n  if (a.x < b.x) return a;\n  return b;\n}\n\nfloat sdBrick(vec3 p, float w, float h) {\n  p.y -= .5;\n  float s = fBox(p, vec3(w / 2., .5, h / 2.));\n  p.x += w / 2. + .5;\n  p.z += h / 2. + .5;\n  p.y -= .6;\n  pModInterval1(p.x, 1., 1., w);\n  pModInterval1(p.z, 1., 1., h);\n  s = min(s, fCylinder(p, .2, .1));\n  return s;\n}\n\nvec3 move (vec3 p, float z, float y) {\n  float r = step(mod(y, 2.), 0.);\n  pR(p.xz, r * PI/2.);\n  p.z += z;\n  p.y -= y;\n  return p;\n}\n\nvec2 map (vec3 p) {\n  vec2 s = vec2(min(p.y, 40. - p.z), 1.); // ground\n  pR(p.xz, PI/4.);\n  float speed = .5;\n  float P = 50. * speed;\n  float phase = floor(time / P);\n  for (float y=0.; y<=5.; y+=1.) {\n    for (float z=-2.; z<=2.; z+=1.) {\n      float id = 2. + z + 5. * y;\n      float tId = id * speed;\n      float t2 = mod(time, 50. * speed);\n      float t = mod(t2>25.*speed ? 50.-t2 : t2, 25. * speed);\n      if (t < tId) continue;\n      float animating = step(t, tId + speed);\n      float m = fract(t / speed) * animating;\n      vec3 q = move(p, z, y);\n      q.y -= pow((animating - m) * 3., 2.);\n      s = opU(s, vec2(sdBrick(q, 5., 1.), 2. + (1. + phase) * id));\n    }\n  }\n  return s;\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x-map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x-map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x-map(p-eps.yyx).x\n\t));\n}\n\nfloat diffuse(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\nvec2 marcher (inout vec3 p, vec3 dir) {\n  vec2 t = vec2(999., 0.);\n  for (int i=0; i<70; i++) {\n    vec2 hit = map(p);\n    p += dir * hit.x;\n    if (hit.x < 0.001) {\n      t = hit;\n      break;\n    }\n  }\n  return t;\n}\n\n\nvec3 color (float material) {\n  if (material == 0.) return vec3(0.);\n  if (material == 1.) return vec3(1.);\n  return getColor(.03 * material);\n}\n\nvoid main() {\n  vec3 origin = vec3(0., 8., -8.);\n  vec3 dir = normalize(vec3(uv - .5, 1.));\n  pR(dir.yz, -.6);\n  vec3 p = origin;\n  vec2 hit = marcher(p, dir);\n  vec3 n = normal(p);\n  vec3 c = .2 * color(hit.y);\n  c += color(hit.y) * vec3(.7, .7, 1.) * diffuse(p, n, vec3(-5., 10., -6.));\n  c += color(hit.y) * vec3(1., .7, .7) * diffuse(p, n, vec3(10., 10., -2.));\n  c += color(hit.y) * vec3(.5) * diffuse(p, n, vec3(0., 10., -50.));\n  c *= ambientOcclusion(p, n, 2., 1.5);\n  c += smoothstep(5., 20., p.z);\n  gl_FragColor = vec4(c, 1.0);\n}"]);return fo=function(){return n},n}var po=37,uo="sdBrick",vo=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:ho.node,uniforms:{time:e}})},ho=an.Shaders.create({node:{frag:Object(an.GLSL)(fo(),Math.PI)}});function mo(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nvec2 map (vec3 p);\n\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec2 opU (vec2 a, vec2 b) {\n  if (a.x < b.x) return a;\n  return b;\n}\n\n#define PI ","\n\n// FROM https://www.shadertoy.com/view/4sdGWN\n\n#define HASHSCALE1 .1031\n\nfloat hash(float p) {\n\tvec3 p3  = fract(vec3(p) * HASHSCALE1);\n  p3 += dot(p3, p3.yzx + 19.19);\n  return fract((p3.x + p3.y) * p3.z);\n}\nvec3 randomSphereDir(vec2 rnd) {\n\tfloat s = rnd.x*PI*2.;\n\tfloat t = rnd.y*2.-1.;\n\treturn vec3(sin(s), cos(s), t) / sqrt(1.0 + t * t);\n}\nvec3 randomHemisphereDir(vec3 dir, float i) {\n\tvec3 v = randomSphereDir( vec2(hash(i+1.), hash(i+2.)) );\n\treturn v * sign(dot(v, dir));\n}\n\nfloat ambientOcclusion( in vec3 p, in vec3 n, in float maxDist, in float falloff ) {\n  const int nbIte = 12;\n  const float nbIteInv = 1./float(nbIte);\n  const float rad = 1.-1.*nbIteInv;\n  float ao = 0.0;\n  for( int i=0; i<nbIte; i++ ) {\n    float l = hash(float(i))*maxDist;\n    vec3 rd = normalize(n+randomHemisphereDir(n, l )*rad)*l;\n    ao += (l - max(map( p + rd ).x, 0.)) / maxDist * falloff;\n  }\n  return clamp( 1.-ao*nbIteInv, 0., 1.);\n}\n\n// huge kudos to https://www.iquilezles.org/www/articles/mandelbulb/mandelbulb.htm\nvec2 mandelbulb(vec3 p) {\n  vec3 w = p;\n  float dz = 1.;\n  float m = dot(w,w);\n  float index = 0.;\n  for (int i=0; i<6; i++) {\n    dz = 8.0*pow(sqrt(m),7.0)*dz + 1.0;\n    float x = w.x; float x2 = x*x; float x4 = x2*x2;\n    float y = w.y; float y2 = y*y; float y4 = y2*y2;\n    float z = w.z; float z2 = z*z; float z4 = z2*z2;\n\n    float k3 = x2 + z2;\n    float k2 = inversesqrt( k3*k3*k3*k3*k3*k3*k3 );\n    float k1 = x4 + y4 + z4 - 6.0*y2*z2 - 6.0*x2*y2 + 2.0*z2*x2;\n    float k4 = x2 - y2 + z2;\n\n    w.x =  64.0*x*y*z*(x2-z2)*k4*(x4-6.0*x2*z2+z4)*k1*k2;\n    w.y = -16.0*y2*k3*k4*k4 + k1*k1;\n    w.z = -8.0*y*k4*(x4*x4 - 28.0*x4*x2*z2 + 70.0*x4*z4 - 28.0*x2*z2*z4 + z4*z4)*k1*k2;\n\n    w += p;\n\n    m = dot(w,w);\n    if (m>256.) break;\n    index += 1.;\n  }\n\n  return vec2(0.25*log(m)*sqrt(m)/dz, 2. + index);\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x-map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x-map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x-map(p-eps.yyx).x\n\t));\n}\n\nfloat diffuse(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\nvec2 marcher (inout vec3 p, vec3 dir) {\n  vec2 t = vec2(999., 0.);\n  for (int i=0; i<80; i++) {\n    vec2 hit = map(p);\n    p += dir * hit.x;\n    if (hit.x < 0.001) {\n      t = hit;\n      break;\n    }\n  }\n  return t;\n}\n\nvec2 map (vec3 p) {\n  vec2 s = vec2(min(p.y, 40. - p.z), 1.); // ground\n  p.y -= 1.;\n  pR(p.xz, .05 * time);\n  pR(p.yz, -.1 * time);\n  s = opU(s, mandelbulb(p));\n  return s;\n}\n\nvec3 color (float t) {\n  if (t < 2.) return vec3(.9);\n  return palette(\n    .1 * t + time * step(mod(time, 10.), 5.),\n    vec3(.5),\n    vec3(.5),\n    vec3(1.),\n    vec3(.5, .4, .2)\n  );\n}\n\nvoid main() {\n  vec3 origin = vec3(0., 3., -2.8);\n  origin *= .7 + .3 * cos(.2 * time);\n  vec3 clr = vec3(0.);\n  // Anti aliasing\n  for (float x=-.5; x<=.5; x += 1.) {\n    for (float y=-.5; y<=.5; y += 1.) {\n      vec2 uvP = uv;\n      uvP += vec2(x, y) / 800.;\n      vec3 dir = normalize(vec3(uvP - .5, 1.));\n      pR(dir.yz, -.5);\n      vec3 p = origin;\n      vec2 hit = marcher(p, dir);\n      vec3 n = normal(p);\n      vec3 c = vec3(0.);\n      c += color(hit.y) * vec3(1., .5, .2) * diffuse(p, n, vec3(-5., 6., -4.));\n      c += color(hit.y) * vec3(.2, .5, 1.) * diffuse(p, n, vec3(5., 6., -4.));\n      c += color(hit.y) * vec3(.6) * diffuse(p, n, vec3(0., 8., -2.));\n      c *= ambientOcclusion(p, n, 1.8, 1.2);\n      c += smoothstep(5., 10., p.z);\n      clr += c;\n    }\n  }\n  clr /= 4.;\n  gl_FragColor = vec4(clr, 1.0);\n}"]);return mo=function(){return n},n}function go(){var n=rn(["\n    precision highp float;\n    varying vec2 uv;\n    uniform sampler2D t, back;\n    uniform float persistence;\n    void main () {\n      gl_FragColor = mix(\n        texture2D(t, uv),\n        texture2D(back, uv),\n        persistence\n      );\n    }\n        "]);return go=function(){return n},n}var yo=38,xo="Golden mandelbulb",bo=function(n){var e=n.time;return Object(on.jsx)(an.LinearCopy,{children:Object(on.jsx)(_o,{persistence:.5,children:Object(on.jsx)(an.Node,{shader:wo.node,uniforms:{time:e}})})})},_o=function(n){var e=n.children,t=n.persistence;return Object(on.jsx)(an.Node,{shader:wo.persistence,backbuffering:!0,uniforms:{t:e,back:an.Uniform.Backbuffer,persistence:t}})},wo=an.Shaders.create({persistence:{frag:Object(an.GLSL)(go())},node:{frag:Object(an.GLSL)(mo(),Math.PI)}});function So(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nvec2 map (vec3 p);\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\n// from HG_SDF\nfloat fOpUnionSoft(float r, float a, float b) {\n\tfloat e = max(r - abs(a - b), 0.);\n\treturn min(a, b) - e*e*0.25/r;\n}\n\n// https://www.iquilezles.org/www/articles/rmshadows/rmshadows.htm\nfloat softshadow( in vec3 ro, in vec3 rd, in float mint, in float tmax, in float k) {\n\tfloat res = 1.0;\n  float t = mint;\n  float ph = 1e10; // big, such that y = 0 on the first iteration\n  for( int i=0; i<32; i++ ) {\n\t\tfloat h = map( ro + rd*t ).x;\n    float y = h*h/(2.0*ph);\n    float d = sqrt(h*h-y*y);\n    res = min( res, k*d/max(0.0,t-y) );\n    ph = h;\n    t += h;\n    if( res<0.0001 || t>tmax ) break;\n  }\n  return clamp( res, 0.0, 1.0 );\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x-map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x-map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x-map(p-eps.yyx).x\n\t));\n}\n\nfloat diffuse(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\nvec2 marcher (inout vec3 p, vec3 dir) {\n  vec2 t = vec2(999., 0.);\n  for (int i=0; i<80; i++) {\n    vec2 hit = map(p);\n    p += dir * hit.x;\n    if (hit.x < 0.001) {\n      t = hit;\n      break;\n    }\n  }\n  return t;\n}\n\nvec2 map (vec3 p) {\n  float ground = p.y;\n  p.y -= 1.5;\n  float d = length(p) - .2;\n  d = fOpUnionSoft(.5, d, length(p+.3 * vec3(sin(3. + .5 * time), sin(.6 * time), cos(.7 * time))) - .2);\n  d = fOpUnionSoft(.5, d, length(p+.4 * vec3(cos(time), sin(time), cos(.6 * time))) - .2);\n  d = fOpUnionSoft(.5, d, length(p+.5 * vec3(-sin(.9 * time), cos(1.1 * time), -sin(.8 * time))) - .2);\n  d = fOpUnionSoft(.5, d, length(p+.6 * vec3(sin(1.+time), cos(-time), sin(.8 * time))) - .2);\n  return vec2(min(ground, d), 0.);\n}\n\nvoid main() {\n  vec3 origin = vec3(0., 4., -3.);\n  vec3 clr = vec3(0.);\n  // anti aliasing\n  for (float x=-.5; x<=.5; x += 1.) {\n    for (float y=-.5; y<=.5; y += 1.) {\n      vec2 uvP = uv;\n      uvP += vec2(x, y) / 800.;\n      vec3 dir = normalize(vec3(uvP - .5, 1.));\n      pR(dir.yz, -.8);\n      vec3 p = origin;\n      vec2 hit = marcher(p, dir);\n      vec3 n = normal(p);\n      vec3 c = vec3(0.2);\n      vec3 lamp1 = vec3(-6., 8., -4.);\n      c += vec3(1., .7, .5) * diffuse(p, n, lamp1)\n      * softshadow(p, normalize(lamp1 - p), 0.02, 10., 3.);\n      vec3 lamp2 = vec3(6., 8., -4.);\n      c += vec3(.5, .6, .7) * diffuse(p, n, lamp2)\n        * softshadow(p, normalize(lamp2 - p), 0.02, 10., 20.);\n      clr += c;\n    }\n  }\n  clr /= 4.;\n  gl_FragColor = vec4(clr, 1.0);\n}"]);return So=function(){return n},n}var Eo=39,To="metaballs",Ro=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:zo.node,uniforms:{time:e}})},zo=an.Shaders.create({node:{frag:Object(an.GLSL)(So())}});function Oo(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nvec2 map (vec3 p);\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec2 opU (vec2 a, vec2 b) {\n  if (a.x < b.x) return a;\n  return b;\n}\n\n#define PI ","\n\n// HG_SDF\nfloat pMod1(inout float p, float size) {\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p + halfsize, size) - halfsize;\n\treturn c;\n}\n\nfloat vmax(vec2 v) {\n\treturn max(v.x, v.y);\n}\n\nfloat vmax(vec3 v) {\n\treturn max(max(v.x, v.y), v.z);\n}\n\nfloat vmax(vec4 v) {\n\treturn max(max(v.x, v.y), max(v.z, v.w));\n}\n\nfloat vmin(vec2 v) {\n\treturn min(v.x, v.y);\n}\n\nfloat vmin(vec3 v) {\n\treturn min(min(v.x, v.y), v.z);\n}\n\nfloat vmin(vec4 v) {\n\treturn min(min(v.x, v.y), min(v.z, v.w));\n}\n\nfloat fBox(vec3 p, vec3 b) {\n\tvec3 d = abs(p) - b;\n\treturn length(max(d, vec3(0))) + vmax(min(d, vec3(0)));\n}\n\nfloat fOpUnionSoft(float r, float a, float b) {\n\tfloat e = max(r - abs(a - b), 0.);\n\treturn min(a, b) - e*e*0.25/r;\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x-map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x-map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x-map(p-eps.yyx).x\n\t));\n}\n\nfloat diffuse(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\nvec2 marcher (inout vec3 p, vec3 dir) {\n  vec2 t = vec2(999., 0.);\n  for (int i=0; i<80; i++) {\n    vec2 hit = map(p);\n    p += dir * hit.x;\n    if (hit.x < 0.001) {\n      t = hit;\n      break;\n    }\n  }\n  return t;\n}\n\nvec2 map (vec3 p) {\n  float t = .3 * time;\n  vec2 s = vec2(p.y, 0.); // ground\n  p.y -= 2.;\n  float d = length(p) - .2;\n  d = fOpUnionSoft(.5, d, length(p+.8 * vec3(cos(t), sin(.9 * t), 0.)) - .1);\n  d = fOpUnionSoft(.5, d, length(p+.8 * vec3(cos(.8 * t), 0., -sin(t))) - .1);\n  d = fOpUnionSoft(.5, d, length(p+.8 * vec3(0., -cos(t), sin(.7 * t))) - .1);\n  pR(p.xy, t);\n  pR(p.xz, t);\n  d = fOpUnionSoft(.3, d, fBox(p, vec3(.3)));\n  s = opU(s, vec2(d, 1.));\n  return s;\n}\n\nvec3 color (float t, float m) {\n  vec2 d = uv * 50.;\n  vec2 id = floor(d);\n  vec2 c = d - id;\n  float l = .1 * mix(1.5, .9, sqrt(t));\n  float s1 = smoothstep(.8 * l, l, abs(c.x-c.y));\n  float s2 = smoothstep(.8 * l, l, abs(c.x-1.+c.y));\n  float mul = 1. + step(t, .5);\n  l *= mul;\n  float s3 = smoothstep(.8 * l, l, length(fract(c * mul) - .5));\n  float s = 1.;\n  if (t < .4) s=min(s, s1);\n  if (t < .6) s=min(s, s2);\n  if (t < .2 || t > .6) s = min(s, s3);\n  if (mod(t, .2)>.1 && mod(id.x+id.y, 2.)<1.) s=1.;\n  return vec3(s);\n}\n\n// https://www.iquilezles.org/www/articles/rmshadows/rmshadows.htm\nfloat softshadow( in vec3 ro, in vec3 rd, in float mint, in float tmax, in float k) {\n\tfloat res = 1.0;\n  float t = mint;\n  float ph = 1e10; // big, such that y = 0 on the first iteration\n  for( int i=0; i<32; i++ ) {\n\t\tfloat h = map( ro + rd*t ).x;\n    float y = h*h/(2.0*ph);\n    float d = sqrt(h*h-y*y);\n    res = min( res, k*d/max(0.0,t-y) );\n    ph = h;\n    t += h;\n    if( res<0.0001 || t>tmax ) break;\n  }\n  return clamp( res, 0.0, 1.0 );\n}\n\nvoid main() {\n  vec3 origin = vec3(0., 4., -2.);\n  vec3 clr = vec3(0.);\n  vec2 uvP = uv;\n  vec3 dir = normalize(vec3(uvP - .5, 1.));\n  pR(dir.yz, -.8);\n  vec3 p = origin;\n  vec2 hit = marcher(p, dir);\n  vec3 n = normal(p);\n  vec3 c = vec3(0.);\n  float d = 2. + 1.6 * cos(.2 * time);\n  vec3 lamp1 = d * vec3(0., 10., 2.);\n  float v = 1.;\n  c +=\n    vec3(v, .0, .0)\n    * diffuse(p, n, lamp1)\n    * softshadow(p, normalize(lamp1 - p), 2., 10., 8.);\n\n  vec3 lamp2 = d * vec3(-4., 5., -3.);\n  c +=\n    vec3(.0, .0, v)\n    * diffuse(p, n, lamp2)\n    * softshadow(p, normalize(lamp2 - p), 2., 10., 8.);\n\n  vec3 lamp3 = d * vec3(4., 5., -3.);\n  c +=\n    vec3(.0, v, .0)\n    * diffuse(p, n, lamp3)\n    * softshadow(p, normalize(lamp3 - p), 2., 10., 8.);\n\n  c = mix(c, vec3(1.), color((c.r+c.g+c.b)/3., hit.y));\n\n  clr += c;\n\n  gl_FragColor = vec4(clr, 1.0);\n}"]);return Oo=function(){return n},n}var Io=40,jo="pen-o-plasma",Ao=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:Co.node,uniforms:{time:e}})},Co=an.Shaders.create({node:{frag:Object(an.GLSL)(Oo(),Math.PI)}});function Po(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nvec2 map (vec3 p);\nvec3 shade (vec2 m);\nfloat glossyness (float m);\nvec3 lighting (vec2 hit, vec3 p, vec3 n, vec3 dir);\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\n// from HG_SDF\nfloat fOpUnionSoft(float r, float a, float b) {\n\tfloat e = max(r - abs(a - b), 0.);\n\treturn min(a, b) - e*e*0.25/r;\n}\n\n// https://www.iquilezles.org/www/articles/rmshadows/rmshadows.htm\nfloat softshadow( in vec3 ro, in vec3 rd, in float mint, in float tmax, in float k) {\n\tfloat res = 1.0;\n  float t = mint;\n  float ph = 1e10; // big, such that y = 0 on the first iteration\n  for( int i=0; i<32; i++ ) {\n\t\tfloat h = map( ro + rd*t ).x;\n    float y = h*h/(2.0*ph);\n    float d = sqrt(h*h-y*y);\n    res = min( res, k*d/max(0.0,t-y) );\n    ph = h;\n    t += h;\n    if( res<0.0001 || t>tmax ) break;\n  }\n  return clamp( res, 0.0, 1.0 );\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x-map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x-map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x-map(p-eps.yyx).x\n\t));\n}\n\nfloat diffuse(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\nvec2 marcher (inout vec3 p, vec3 dir) {\n  vec2 t = vec2(999., 0.);\n  for (int i=0; i<80; i++) {\n    vec2 hit = map(p);\n    p += dir * hit.x;\n    if (hit.x < 0.001) {\n      t = hit;\n      break;\n    }\n  }\n  return t;\n}\n\n// gre's\nvec3 reflection (vec3 p, vec3 n, float maxDist) {\n  vec3 o = vec3(0.);\n  float bounced = 0.;\n  vec3 dir = n;\n  vec2 r;\n  float total = 0.;\n  for (int i=0; i<4; i++) {\n    dir = reflect(dir, n);\n    r = marcher(p, dir);\n    bounced += r.x;\n    if (bounced > maxDist) break;\n    p += r.x * dir;\n    n = normal(p);\n    o += lighting(r, p, n, dir) * clamp((maxDist - bounced) / maxDist, 0., 1.);\n    total += 1.;\n    p += dir; // we need to progress a bit more to not have ray staying at same pos\n    if (glossyness(r.y)<=.0) {\n      break;\n    }\n  }\n\treturn o / total;\n}\n\nfloat glossyness(float m) {\n  return 0.8 * step(.8, m);\n}\n\nvec3 shade (vec2 hit) {\n  float m = hit.y;\n  if (m < 1.) return vec3(1.);\n  return palette(\n    (m - 1.) * .3,\n    vec3(.5),\n    vec3(.5),\n    vec3(1.),\n    vec3(.0, .33, .66)\n  );\n}\n\nvec2 opU (vec2 a, vec2 b) {\n  if (a.x < b.x) return a;\n  return b;\n}\n\nvec2 map (vec3 p) {\n  vec2 ground = vec2(p.y, 0.1);\n  p.y -= 1.5;\n  float d = length(p) - .2;\n  d = fOpUnionSoft(.5, d, length(p+.6 * vec3(sin(3. + .5 * time), .0, cos(.7 * time))) - .2);\n  d = fOpUnionSoft(.5, d, length(p+.4 * vec3(cos(time), sin(time), cos(.6 * time))) - .2);\n  d = fOpUnionSoft(.5, d, length(p+.5 * vec3(-sin(.9 * time), cos(1.1 * time), .0)) - .2);\n  d = fOpUnionSoft(.5, d, length(p+.6 * vec3(.0, cos(-time), sin(.8 * time))) - .2);\n  vec2 metaballs = vec2(d, 1.);\n\n  pR(p.xz, .5 * time);\n\n  vec2 s = opU(ground, metaballs);\n\n  return s;\n}\n\nfloat specularStrength (float m) {\n  if (m < 1.) return 0.0;\n  return 4.0;\n}\nfloat specularPow (float m) {\n  return 64.0;\n}\n\nfloat specular (vec3 n, float m, vec3 ldir, vec3 dir) {\n  return specularStrength(m) * pow(max(dot(dir, reflect(-ldir, n)), 0.0), specularPow(m));\n}\n\nvec3 emitColor(vec2 hit) {\n  float m = hit.y;\n  return vec3(0.);\n}\n\nvec3 lighting (vec2 hit, vec3 p, vec3 n, vec3 dir) {\n  vec3 c = emitColor(hit);\n  vec3 lamp1 = vec3(-6., 8., -4.);\n  vec3 ldir1 = normalize(lamp1 - p);\n  c +=\n    vec3(1., .7, .5) * (\n      // ambient\n      0.1 +\n      // diffuse\n      shade(hit)\n      * diffuse(p, n, lamp1)\n      * softshadow(p, ldir1, 0.02, 10., 4.) +\n      // specular\n      specular(n, hit.y, ldir1, dir)\n    );\n  vec3 lamp2 = vec3(6., 8., -4.);\n  vec3 ldir2 = normalize(lamp2 - p);\n  c +=\n    vec3(.5, .6, .7) * (\n    // ambient\n    0.1 +\n    // diffuse\n    shade(hit)\n    * diffuse(p, n, lamp2)\n    * softshadow(p, ldir2, 0.02, 10., 20.) +\n    // specular\n    specular(n, hit.y, ldir2, dir)\n  );\n  return c;\n}\n\nvoid main() {\n  vec3 origin = vec3(0., 4., -4.);\n  vec2 uvP = uv;\n  vec3 dir = normalize(vec3(uvP - .5, 1.));\n  pR(dir.yz, -.7);\n  vec3 p = origin;\n  vec2 hit = marcher(p, dir);\n  vec3 n = normal(p);\n  vec3 c = lighting(hit, p, n, dir);\n  float glossy = glossyness(hit.y); // TODO fresnel\n  c = mix(c, reflection(p, n, 10.), glossy);\n  gl_FragColor = vec4(c, 1.0);\n}"]);return Po=function(){return n},n}var Do=41,Lo="reflection",No=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:Mo.node,uniforms:{time:e}})},Mo=an.Shaders.create({node:{frag:Object(an.GLSL)(Po())}});function ko(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nvec2 map (vec3 p);\nvec3 shade (vec2 m);\nfloat glossyness (float m);\nvec3 lighting (vec2 hit, vec3 p, vec3 n, vec3 dir);\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\n// from HG_SDF\nfloat fOpUnionSoft(float r, float a, float b) {\n\tfloat e = max(r - abs(a - b), 0.);\n\treturn min(a, b) - e*e*0.25/r;\n}\nfloat vmax(vec2 v) {\n\treturn max(v.x, v.y);\n}\nfloat vmax(vec3 v) {\n\treturn max(max(v.x, v.y), v.z);\n}\nfloat vmax(vec4 v) {\n\treturn max(max(v.x, v.y), max(v.z, v.w));\n}\nfloat vmin(vec2 v) {\n\treturn min(v.x, v.y);\n}\nfloat vmin(vec3 v) {\n\treturn min(min(v.x, v.y), v.z);\n}\nfloat vmin(vec4 v) {\n\treturn min(min(v.x, v.y), min(v.z, v.w));\n}\n\nfloat fBox(vec3 p, vec3 b) {\n\tvec3 d = abs(p) - b;\n\treturn length(max(d, vec3(0))) + vmax(min(d, vec3(0)));\n}\nfloat fCapsule(vec3 p, float r, float c) {\n\treturn mix(length(p.xz) - r, length(vec3(p.x, abs(p.y) - c, p.z)) - r, step(c, abs(p.y)));\n}\nfloat fTorus(vec3 p, float smallRadius, float largeRadius) {\n\treturn length(vec2(length(p.xz) - largeRadius, p.y)) - smallRadius;\n}\nfloat fHexagonCircumcircle(vec3 p, vec2 h) {\n\tvec3 q = abs(p);\n\treturn max(q.y - h.y, max(q.x*sqrt(3.)*0.5 + q.z*0.5, q.z) - h.x);\n}\n\n// https://www.iquilezles.org/www/articles/rmshadows/rmshadows.htm\nfloat softshadow( in vec3 ro, in vec3 rd, in float mint, in float tmax, in float k) {\n\tfloat res = 1.0;\n  float t = mint;\n  float ph = 1e10; // big, such that y = 0 on the first iteration\n  for( int i=0; i<32; i++ ) {\n\t\tfloat h = map( ro + rd*t ).x;\n    float y = h*h/(2.0*ph);\n    float d = sqrt(h*h-y*y);\n    res = min( res, k*d/max(0.0,t-y) );\n    ph = h;\n    t += h;\n    if( res<0.0001 || t>tmax ) break;\n  }\n  return clamp( res, 0.0, 1.0 );\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x-map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x-map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x-map(p-eps.yyx).x\n\t));\n}\n\nfloat diffuse(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\nvec2 marcher (inout vec3 p, vec3 dir) {\n  vec2 t = vec2(999., 0.);\n  for (int i=0; i<80; i++) {\n    vec2 hit = map(p);\n    p += dir * hit.x;\n    if (hit.x < 0.001) {\n      t = hit;\n      break;\n    }\n  }\n  return t;\n}\n\n// gre's\nvec3 reflection (vec3 p, vec3 n, float maxDist) {\n  vec3 o = vec3(0.);\n  float bounced = 0.;\n  vec3 dir = n;\n  vec2 r;\n  float total = 0.;\n  for (int i=0; i<4; i++) {\n    dir = reflect(dir, n);\n    r = marcher(p, dir);\n    bounced += r.x;\n    if (bounced > maxDist) break;\n    p += r.x * dir;\n    n = normal(p);\n    o += lighting(r, p, n, dir) * clamp((maxDist - bounced) / maxDist, 0., 1.);\n    total += 1.;\n    p += dir; // we need to progress a bit more to not have ray staying at same pos\n    if (glossyness(r.y)<=.0) {\n      break;\n    }\n  }\n\treturn o / total;\n}\n\nfloat glossyness(float m) {\n  return 0.8 * step(.8, m);\n}\n\nvec3 shade (vec2 hit) {\n  float m = hit.y;\n  if (m < 1.) return vec3(1.);\n  return palette(\n    (m - 1.) * .3,\n    vec3(.5),\n    vec3(.5),\n    vec3(1.),\n    vec3(.0, .33, .66)\n  );\n}\n\nvec2 opU (vec2 a, vec2 b) {\n  if (a.x < b.x) return a;\n  return b;\n}\n\nvec2 map (vec3 p) {\n  vec2 ground = vec2(p.y, 0.1);\n  p.y -= 1.5;\n  float d = length(p) - .2;\n  d = fOpUnionSoft(.5, d, length(p+.6 * vec3(sin(3. + .5 * time), .0, cos(.7 * time))) - .2);\n  d = fOpUnionSoft(.5, d, length(p+.4 * vec3(cos(time), sin(time), cos(.6 * time))) - .2);\n  d = fOpUnionSoft(.5, d, length(p+.5 * vec3(-sin(.9 * time), cos(1.1 * time), .0)) - .2);\n  d = fOpUnionSoft(.5, d, length(p+.6 * vec3(.0, cos(-time), sin(.8 * time))) - .2);\n  vec2 metaballs = vec2(d, 1.);\n\n  pR(p.xz, .5 * time);\n\n  p.y += .5;\n  vec2 s = opU(ground, metaballs);\n  p.x += 1.;\n  s = opU(s, vec2(fBox(p, vec3(.3)), 2.));\n  p.z += 2.;\n  s = opU(s, vec2(fCapsule(p, .3, .5), 3.));\n  p.x -= 2.;\n  s = opU(s, vec2(fTorus(p.xzy, .1, .3), 4.));\n  p.z -= 2.;\n  {\n    vec3 w = p;\n    pR(w.xz, 2. * time);\n    s = opU(s, vec2(fHexagonCircumcircle(w, vec2(.3, .4)), 5.));\n  }\n\n  return s;\n}\n\nfloat specularStrength (float m) {\n  if (m < 1.) return 0.0;\n  return 6.0;\n}\nfloat specularPow (float m) {\n  return 128.0;\n}\n\nfloat specular (vec3 n, float m, vec3 ldir, vec3 dir) {\n  return specularStrength(m) * pow(max(dot(dir, reflect(-ldir, n)), 0.0), specularPow(m));\n}\n\nfloat dayTime = .5 + .5 * cos(.2 * time);\n\nvec3 emitColor(vec2 hit) {\n  float m = hit.y;\n  if (m >= 1. && mod(pow(time, 1.2) + m, 5.) < .9) {\n    return mix(0., 1., smoothstep(.2, .15, dayTime)) * shade(hit);\n  }\n  return vec3(0.);\n}\n\nvec3 lighting (vec2 hit, vec3 p, vec3 n, vec3 dir) {\n  float lightOn = smoothstep(.1, .5, dayTime);\n  vec3 c = emitColor(hit);\n  vec3 lamp1 = vec3(-6., 8., -4.);\n  vec3 ldir1 = normalize(lamp1 - p);\n  c +=\n    lightOn *\n    vec3(1., .7, .5) * (\n      // ambient\n      0.1 +\n      // diffuse\n      shade(hit)\n      * diffuse(p, n, lamp1)\n      * softshadow(p, ldir1, 0.02, 10., 4.) +\n      // specular\n      specular(n, hit.y, ldir1, dir)\n    );\n  vec3 lamp2 = vec3(6., 8., -4.);\n  vec3 ldir2 = normalize(lamp2 - p);\n  c +=\n    lightOn *\n    vec3(.5, .6, .7) * (\n    // ambient\n    0.1 +\n    // diffuse\n    shade(hit)\n    * diffuse(p, n, lamp2)\n    * softshadow(p, ldir2, 0.02, 10., 20.) +\n    // specular\n    specular(n, hit.y, ldir2, dir)\n  );\n  return c;\n}\n\nvoid main() {\n  vec3 origin = vec3(0., 4., -4.);\n  vec2 uvP = uv;\n  vec3 dir = normalize(vec3(uvP - .5, 1.));\n  pR(dir.yz, -.7);\n  vec3 p = origin;\n  vec2 hit = marcher(p, dir);\n  vec3 n = normal(p);\n  vec3 c = lighting(hit, p, n, dir);\n  float glossy = glossyness(hit.y); // TODO fresnel\n  c = mix(c, reflection(p, n, 10.), glossy);\n  gl_FragColor = vec4(c, 1.0);\n}"]);return ko=function(){return n},n}var Uo=42,Bo="reflection party",Fo=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:qo.node,uniforms:{time:e}})},qo=an.Shaders.create({node:{frag:Object(an.GLSL)(ko())}});function Go(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\n#define PI ","\n\nvec2 map (vec3 p);\nvec3 shade (vec2 m);\nvec3 lighting (vec2 hit, vec3 p, vec3 n, vec3 dir);\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\n// from HG_SDF\nfloat vmax(vec2 v) {\n\treturn max(v.x, v.y);\n}\nfloat vmax(vec3 v) {\n\treturn max(max(v.x, v.y), v.z);\n}\nfloat vmax(vec4 v) {\n\treturn max(max(v.x, v.y), max(v.z, v.w));\n}\nfloat vmin(vec2 v) {\n\treturn min(v.x, v.y);\n}\nfloat vmin(vec3 v) {\n\treturn min(min(v.x, v.y), v.z);\n}\nfloat vmin(vec4 v) {\n\treturn min(min(v.x, v.y), min(v.z, v.w));\n}\nfloat pModPolar(inout vec2 p, float repetitions) {\n\tfloat angle = 2.*PI/repetitions;\n\tfloat a = atan(p.y, p.x) + angle/2.;\n\tfloat r = length(p);\n\tfloat c = floor(a/angle);\n\ta = mod(a,angle) - angle/2.;\n\tp = vec2(cos(a), sin(a))*r;\n\t// For an odd number of repetitions, fix cell index of the cell in -x direction\n\t// (cell index would be e.g. -5 and 5 in the two halves of the cell):\n\tif (abs(c) >= (repetitions/2.)) c = abs(c);\n\treturn c;\n}\nfloat fOpUnionSoft(float r, float a, float b) {\n\tfloat e = max(r - abs(a - b), 0.);\n\treturn min(a, b) - e*e*0.25/r;\n}\nfloat fBox(vec3 p, vec3 b) {\n\tvec3 d = abs(p) - b;\n\treturn length(max(d, vec3(0))) + vmax(min(d, vec3(0)));\n}\nfloat fSphere(vec3 p, float r) {\n\treturn length(p) - r;\n}\nfloat fDisc(vec3 p, float r) {\n\tfloat l = length(p.xz) - r;\n\treturn l < 0. ? abs(p.y) : length(vec2(p.y, l));\n}\nfloat fCone(vec3 p, float radius, float height) {\n\tvec2 q = vec2(length(p.xz), p.y);\n\tvec2 tip = q - vec2(0., height);\n\tvec2 mantleDir = normalize(vec2(height, radius));\n\tfloat mantle = dot(tip, mantleDir);\n\tfloat d = max(mantle, -q.y);\n\tfloat projected = dot(tip, vec2(mantleDir.y, -mantleDir.x));\n\tif ((q.y > height) && (projected < 0.)) {\n\t\td = max(d, length(tip));\n\t}\n\tif ((q.x > radius) && (projected > length(vec2(height, radius)))) {\n\t\td = max(d, length(q - vec2(radius, 0.)));\n\t}\n\treturn d;\n}\n\n// https://www.iquilezles.org/www/articles/rmshadows/rmshadows.htm\nfloat softshadow( in vec3 ro, in vec3 rd, in float mint, in float tmax, in float k) {\n\tfloat res = 1.0;\n  float t = mint;\n  float ph = 1e10; // big, such that y = 0 on the first iteration\n  for( int i=0; i<32; i++ ) {\n\t\tfloat h = map( ro + rd*t ).x;\n    float y = h*h/(2.0*ph);\n    float d = sqrt(h*h-y*y);\n    res = min( res, k*d/max(0.0,t-y) );\n    ph = h;\n    t += h;\n    if( res<0.0001 || t>tmax ) break;\n  }\n  return clamp( res, 0.0, 1.0 );\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x-map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x-map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x-map(p-eps.yyx).x\n\t));\n}\n\nfloat diffuse(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\nvec2 marcher (inout vec3 p, vec3 dir) {\n  vec2 t = vec2(999., 0.);\n  for (int i=0; i<80; i++) {\n    vec2 hit = map(p);\n    p += dir * hit.x;\n    if (hit.x < 0.001 || p.z > 20.) {\n      t = hit;\n      break;\n    }\n  }\n  return t;\n}\n\nvec2 opU (vec2 a, vec2 b) {\n  if (a.x < b.x) return a;\n  return b;\n}\n\nfloat inOutCubic (float t) {\n  return mix(4.*t*t*t, (t-1.)*(2.*t-2.)*(2.*t-2.)+1., step(.5, t));\n}\n\nfloat specularStrength (float m) {\n  if (m<1.) return .1;\n  return 5.0;\n}\nfloat specularPow (float m) {\n  return 32.0;\n}\n\nfloat specular (vec3 n, float m, vec3 ldir, vec3 dir) {\n  return specularStrength(m) * pow(max(dot(dir, reflect(-ldir, n)), 0.0), specularPow(m));\n}\n\nvec3 lighting (vec2 hit, vec3 p, vec3 n, vec3 dir) {\n  vec3 c = vec3(0.);\n  vec3 lamp1 = vec3(-4., 1., -6.);\n  vec3 ldir1 = normalize(lamp1 - p);\n  c +=\n    vec3(1., .7, .5) * (\n      // ambient\n      0.2 +\n      // diffuse\n      shade(hit)\n      * (.5 + .5 * diffuse(p, n, lamp1)) // half lambert\n      * softshadow(p, ldir1, 0.02, 8., 16.) +\n      // specular\n      specular(n, hit.y, ldir1, dir)\n    );\n  vec3 lamp2 = vec3(4., 8., -7.);\n  vec3 ldir2 = normalize(lamp2 - p);\n  c +=\n    vec3(.6, .7, .9) * (\n    // ambient\n    0.1 +\n    // diffuse\n    shade(hit)\n    * (.5 + .5 * diffuse(p, n, lamp2)) // half lambert\n    * softshadow(p, ldir2, 0.02, 8., 12.) +\n    // specular\n    specular(n, hit.y, ldir2, dir)\n  );\n  return c;\n}\n\nvec3 shade (vec2 hit) {\n  float m = hit.y;\n  if (m < 1.) return vec3(1.);\n  return vec3(mix(.05, 1., fract(m) * 2.));\n}\n// height of 1m\nfloat sdChessKingOrQueen (vec3 p) {\n  float d;\n  float body = fOpUnionSoft(\n    .1,\n    fCone(p * vec3(1., -1., 1.), .12, .5),\n    fCone(p + vec3(0., 1., 0.), .16, .8)\n  );\n  d = fOpUnionSoft(.1, body, fDisc(p, .15)-.01);\n  vec3 q = p;\n  float discs;\n  q.y += 0.22;\n  discs = fDisc(q, .06) - .01;\n  q.y += 0.06;\n  discs = min(discs, fDisc(q, .07) - .01);\n  q.y += 0.04;\n  discs = min(discs, fDisc(q, .08) - .03);\n  q.y += 0.49;\n  discs = min(discs, fDisc(q, .11) - .02);\n  q.y += 0.11;\n  discs = min(discs, fDisc(q, .12) - .05);\n  d = fOpUnionSoft(.015, d, discs);\n  return d;\n}\n\n// height of 1m + crawn\nfloat sdChessQueen (vec3 p) {\n  float s = sdChessKingOrQueen(p);\n  float ball = fSphere((p-vec3(0., 0.05, 0.)) * vec3(1., 2., 1.), .05);\n  s = min(s, ball);\n  pModPolar(p.xz, 14.);\n  p.y -= .08;\n  p.x -= .2;\n  s = max(s, -fSphere(p, 0.1));\n  return s;\n}\n\n// tiles are of 1m x 1m\nvec2 sdChessboard (vec3 p) {\n  float manhattan = max(abs(p.x), abs(p.z));\n  float o = step(4., manhattan);\n  float m = mix(\n    2. + .5 * step(1., mod(floor(p.x)+floor(p.z), 2.)),\n    3. + .5 * step(4.1, manhattan),\n    o\n  );\n  return vec2(fBox(p, vec3(4.4, 0.04, 4.4)), m);\n}\n\nvec2 sdChessPiece(vec3 p, float id, float white) {\n  return vec2(sdChessQueen((p - vec3(0., 1.4, 0.)) / 1.4), id + .5 * white);\n}\n\nvec2 map (vec3 p) {\n  // animation timings\n  float phase = mod(time, 4.);\n  float whiteMove = inOutCubic(min(\n      1.5 * min(1., phase),\n      max(0., 1. - 1.5 * max(0., phase-2.))\n    ));\n  phase -= 1.;\n  float blackMove = inOutCubic(min(\n      min(1., 1.5 * max(0., phase)),\n      max(0., 1. - 1.5 * max(0., phase-2.))\n    ));\n\n  vec2 s = vec2(p.y, 0.1); // ground\n  p.y -= .04;\n  s = opU(s, sdChessboard(p));\n  p.y -= .04;\n  p.xz += vec2(3.5);\n  p.x -= 3.;\n  s = opU(s, sdChessPiece(p - vec3(whiteMove, 0., 0.), 10., 0.5));\n  p.z -= 7.;\n  s = opU(s, sdChessPiece(p - vec3(blackMove, 0., 0.), 10., 0.));\n  return s;\n}\n\nvoid main() {\n  vec3 origin = vec3(0., 2., -6.);\n  origin.x += sin(2. * PI * time / 4.);\n  vec3 c = vec3(0.);\n  vec2 uvP = uv;\n  vec3 dir = normalize(vec3(uvP - .5, 1.));\n  pR(dir.yz, -.4);\n  vec3 p = origin;\n  vec2 hit = marcher(p, dir);\n  vec3 n = normal(p);\n  c += lighting(hit, p, n, dir);\n  gl_FragColor = vec4(c, 1.0);\n}"]);return Go=function(){return n},n}function Ho(){var n=rn(["\n    precision highp float;\n    varying vec2 uv;\n    uniform sampler2D t, back;\n    uniform float persistence;\n    void main () {\n      gl_FragColor = mix(\n        texture2D(t, uv),\n        texture2D(back, uv),\n        persistence\n      );\n    }\n        "]);return Ho=function(){return n},n}var Vo=43,Xo="irreconcilable queens",Yo=function(n){var e=n.time;return Object(on.jsx)(an.LinearCopy,{children:Object(on.jsx)(Wo,{persistence:.4,children:Object(on.jsx)(an.Node,{shader:Ko.node,uniforms:{time:e}})})})},Wo=function(n){var e=n.children,t=n.persistence;return Object(on.jsx)(an.Node,{shader:Ko.persistence,backbuffering:!0,uniforms:{t:e,back:an.Uniform.Backbuffer,persistence:t}})},Ko=an.Shaders.create({persistence:{frag:Object(an.GLSL)(Ho())},node:{frag:Object(an.GLSL)(Go(),Math.PI)}});function Qo(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n#define PI ","\n\nvec2 map (vec3 p);\nvec3 shade (vec2 m);\nvec3 lighting (vec2 hit, vec3 p, vec3 n, vec3 dir);\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\n// from HG_SDF\nfloat vmax(vec2 v) {\n\treturn max(v.x, v.y);\n}\nfloat vmax(vec3 v) {\n\treturn max(max(v.x, v.y), v.z);\n}\nfloat vmax(vec4 v) {\n\treturn max(max(v.x, v.y), max(v.z, v.w));\n}\nfloat vmin(vec2 v) {\n\treturn min(v.x, v.y);\n}\nfloat vmin(vec3 v) {\n\treturn min(min(v.x, v.y), v.z);\n}\nfloat vmin(vec4 v) {\n\treturn min(min(v.x, v.y), min(v.z, v.w));\n}\nfloat pModInterval1(inout float p, float size, float start, float stop) {\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p+halfsize, size) - halfsize;\n\tif (c > stop) { //yes, this might not be the best thing numerically.\n\t\tp += size*(c - stop);\n\t\tc = stop;\n\t}\n\tif (c <start) {\n\t\tp += size*(c - start);\n\t\tc = start;\n\t}\n\treturn c;\n}\nfloat pModPolar(inout vec2 p, float repetitions) {\n\tfloat angle = 2.*PI/repetitions;\n\tfloat a = atan(p.y, p.x) + angle/2.;\n\tfloat r = length(p);\n\tfloat c = floor(a/angle);\n\ta = mod(a,angle) - angle/2.;\n\tp = vec2(cos(a), sin(a))*r;\n\t// For an odd number of repetitions, fix cell index of the cell in -x direction\n\t// (cell index would be e.g. -5 and 5 in the two halves of the cell):\n\tif (abs(c) >= (repetitions/2.)) c = abs(c);\n\treturn c;\n}\nfloat fOpUnionSoft(float r, float a, float b) {\n\tfloat e = max(r - abs(a - b), 0.);\n\treturn min(a, b) - e*e*0.25/r;\n}\nfloat fBox(vec3 p, vec3 b) {\n\tvec3 d = abs(p) - b;\n\treturn length(max(d, vec3(0))) + vmax(min(d, vec3(0)));\n}\nfloat fSphere(vec3 p, float r) {\n\treturn length(p) - r;\n}\nfloat fDisc(vec3 p, float r) {\n\tfloat l = length(p.xz) - r;\n\treturn l < 0. ? abs(p.y) : length(vec2(p.y, l));\n}\nfloat fCone(vec3 p, float radius, float height) {\n\tvec2 q = vec2(length(p.xz), p.y);\n\tvec2 tip = q - vec2(0., height);\n\tvec2 mantleDir = normalize(vec2(height, radius));\n\tfloat mantle = dot(tip, mantleDir);\n\tfloat d = max(mantle, -q.y);\n\tfloat projected = dot(tip, vec2(mantleDir.y, -mantleDir.x));\n\tif ((q.y > height) && (projected < 0.)) {\n\t\td = max(d, length(tip));\n\t}\n\tif ((q.x > radius) && (projected > length(vec2(height, radius)))) {\n\t\td = max(d, length(q - vec2(radius, 0.)));\n\t}\n\treturn d;\n}\n\n// https://www.iquilezles.org/www/articles/rmshadows/rmshadows.htm\nfloat softshadow( in vec3 ro, in vec3 rd, in float mint, in float tmax, in float k) {\n\tfloat res = 1.0;\n  float t = mint;\n  float ph = 1e10; // big, such that y = 0 on the first iteration\n  for( int i=0; i<32; i++ ) {\n\t\tfloat h = map( ro + rd*t ).x;\n    float y = h*h/(2.0*ph);\n    float d = sqrt(h*h-y*y);\n    res = min( res, k*d/max(0.0,t-y) );\n    ph = h;\n    t += h;\n    if( res<0.0001 || t>tmax ) break;\n  }\n  return clamp( res, 0.0, 1.0 );\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x-map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x-map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x-map(p-eps.yyx).x\n\t));\n}\n\nfloat diffuse(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\nvec2 marcher (inout vec3 p, vec3 dir) {\n  vec2 t = vec2(999., 0.);\n  for (int i=0; i<100; i++) {\n    vec2 hit = map(p);\n    p += dir * hit.x * .8;\n    if (hit.x < 0.001 || p.z > 20.) {\n      t = hit;\n      break;\n    }\n  }\n  return t;\n}\n\nvec2 opU (vec2 a, vec2 b) {\n  if (a.x < b.x) return a;\n  return b;\n}\n\nfloat inOutCubic (float t) {\n  return mix(4.*t*t*t, (t-1.)*(2.*t-2.)*(2.*t-2.)+1., step(.5, t));\n}\n\nfloat specularStrength (float m) {\n  if (m<1.) return .1;\n  if (m<10.) return .5;\n  return 1.0;\n}\nfloat specularPow (float m) {\n  return 8.0;\n}\n\nfloat specular (vec3 n, float m, vec3 ldir, vec3 dir) {\n  return specularStrength(m) * pow(max(dot(dir, reflect(-ldir, n)), 0.0), specularPow(m));\n}\n\nvec3 lighting (vec2 hit, vec3 p, vec3 n, vec3 dir) {\n  vec3 c = vec3(0.);\n  vec3 lamp1 = vec3(-4., 4., -6.);\n  vec3 ldir1 = normalize(lamp1 - p);\n  c +=\n    vec3(.6, .7, .8) * (\n      // ambient\n      0.25 +\n      // diffuse\n      shade(hit)\n      * (.5 + .5 * diffuse(p, n, lamp1)) // half lambert\n      +\n      // specular\n      specular(n, hit.y, ldir1, dir)\n    );\n  vec3 lamp2 = vec3(0., 8., -7.);\n  vec3 ldir2 = normalize(lamp2 - p);\n  c +=\n    vec3(1., .7, .5) * (\n    // ambient\n    0.05 +\n    // diffuse\n    shade(hit)\n    * (.5 + .5 *diffuse(p, n, lamp2)) // half lambert\n    * softshadow(p, ldir2, 0.02, 8., 20.) +\n    // specular\n    specular(n, hit.y, ldir2, dir)\n  );\n  return c;\n}\n\nvec3 shade (vec2 hit) {\n  float m = hit.y;\n  if (m < 1.) return vec3(1.);\n  return vec3(mix(.05, 1., fract(m) * 2.));\n}\n// height of 1m\nfloat sdChessKingOrQueen (vec3 p) {\n  float d;\n  float body = fOpUnionSoft(\n    .1,\n    fCone(p * vec3(1., -1., 1.), .12, .5),\n    fCone(p + vec3(0., 1., 0.), .16, .8)\n  );\n  d = fOpUnionSoft(.1, body, fDisc(p, .15)-.01);\n  vec3 q = p;\n  float discs;\n  q.y += 0.22;\n  discs = fDisc(q, .06) - .01;\n  q.y += 0.06;\n  discs = min(discs, fDisc(q, .07) - .01);\n  q.y += 0.04;\n  discs = min(discs, fDisc(q, .08) - .03);\n  q.y += 0.49;\n  discs = min(discs, fDisc(q, .11) - .02);\n  q.y += 0.11;\n  discs = min(discs, fDisc(q, .12) - .05);\n  d = fOpUnionSoft(.015, d, discs);\n  return d;\n}\n\n// height of 1m + crawn\nfloat sdChessQueen (vec3 p) {\n  float s = sdChessKingOrQueen(p);\n  float ball = fSphere((p-vec3(0., 0.05, 0.)) * vec3(1., 2., 1.), .05);\n  s = min(s, ball);\n  pModPolar(p.xz, 14.);\n  p.y -= .08;\n  p.x -= .2;\n  s = max(s, -fSphere(p, 0.1));\n  return s;\n}\n\nfloat sdChessKing (vec3 p) {\n  float s = sdChessKingOrQueen(p);\n  p.y -= .12;\n  p.y *= 1.1; // a bit stretched\n  float cross = length(p.xy)-.04;\n  pModPolar(p.xy, 4.);\n  pR(p.xy, .5 * PI);\n  p.y += 0.07;\n\n  vec3 q = abs(p);\n  float sz = .04;\n  cross = fOpUnionSoft(.02, cross, max(.5*q.x+.5*p.y,-p.y)-sz*0.5);\n  // cross = min(cross, p.x+p.y-0.2);\n  s = fOpUnionSoft(.02, s, max(cross, q.z-.02));\n  return s;\n}\n\n// tiles are of 1m x 1m\nvec2 sdChessboard (vec3 p) {\n  float manhattan = max(abs(p.x), abs(p.z));\n  float o = step(4., manhattan);\n  float m = mix(\n    2. + .5 * step(1., mod(floor(p.x)+floor(p.z), 2.)),\n    3. + .5 * step(4.1, manhattan),\n    o\n  );\n  return vec2(fBox(p, vec3(4.4, 0.04, 4.4)), m);\n}\n\nfloat sdChessPiece(vec3 p, float id) {\n  float s = 99.;\n  if (id == 10.) s = sdChessKing((p - vec3(0., 1.4, 0.)) / 1.4);\n  if (id == 11.) s = sdChessQueen((p - vec3(0., 1.4, 0.)) / 1.4);\n  return s;\n}\n\nfloat sdChessPieceId(float id, float white) {\n  return id + .5 * white;\n}\n\nvec2 map (vec3 p) {\n  vec2 s = vec2(p.y, 0.1); // ground\n  pR(p.xz, .1 * time);\n  p.y -= .04;\n  s = opU(s, sdChessboard(p));\n  p.y -= .04;\n  p.xz += vec2(3.5);\n  float x = pModInterval1(p.x, 1., 0., 8.);\n  float y = pModInterval1(p.z, 1., 0., 8.);\n  float id = 10. + step(1., mod(x, 2.));\n  float m = sdChessPieceId(id, 0.5 * step(mod(x+y, 2.), .9));\n  float hill = step(3., x) * step(x, 4.) * step(3., y) * step(y, 4.);\n  // tradeoff: as we use pMod, we need to give the marcher a fake distance to next cell..\n  float piece = mix(.4, sdChessPiece(p, id), hill);\n  s = opU(s, vec2(piece, m));\n  return s;\n}\n\nvoid main() {\n  vec3 origin = vec3(0., 3., -3.);\n  vec3 c = vec3(0.);\n  vec2 uvP = uv;\n  vec3 dir = normalize(vec3(uvP - .5, 1.5));\n  pR(dir.yz, -.6);\n  #if 0\n  // debug ortho camera\n  origin += vec3(2. * (uvP - .5), 0.);\n  dir = vec3(0., 0., 1.);\n  #endif\n  vec3 p = origin;\n  vec2 hit = marcher(p, dir);\n  vec3 n = normal(p);\n  c += lighting(hit, p, n, dir);\n  gl_FragColor = vec4(c, 1.0);\n}"]);return Qo=function(){return n},n}var Zo=44,$o="royal meeting",Jo=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:ni.node,uniforms:{time:e}})},ni=an.Shaders.create({node:{frag:Object(an.GLSL)(Qo(),Math.PI)}});function ei(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\nuniform sampler2D wood;\n\n#define PI ","\n\n// camera origin\nvec3 origin;\n\nvec2 map (vec3 p);\nvec3 shade (vec2 m, vec3 p);\nvec3 lighting (vec2 hit, vec3 p, vec3 n, vec3 dir);\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\n// from HG_SDF\nfloat vmax(vec2 v) {\n\treturn max(v.x, v.y);\n}\nfloat vmax(vec3 v) {\n\treturn max(max(v.x, v.y), v.z);\n}\nfloat vmax(vec4 v) {\n\treturn max(max(v.x, v.y), max(v.z, v.w));\n}\nfloat vmin(vec2 v) {\n\treturn min(v.x, v.y);\n}\nfloat vmin(vec3 v) {\n\treturn min(min(v.x, v.y), v.z);\n}\nfloat vmin(vec4 v) {\n\treturn min(min(v.x, v.y), min(v.z, v.w));\n}\nfloat pModInterval1(inout float p, float size, float start, float stop) {\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p+halfsize, size) - halfsize;\n\tif (c > stop) { //yes, this might not be the best thing numerically.\n\t\tp += size*(c - stop);\n\t\tc = stop;\n\t}\n\tif (c <start) {\n\t\tp += size*(c - start);\n\t\tc = start;\n\t}\n\treturn c;\n}\nfloat pModPolar(inout vec2 p, float repetitions) {\n\tfloat angle = 2.*PI/repetitions;\n\tfloat a = atan(p.y, p.x) + angle/2.;\n\tfloat r = length(p);\n\tfloat c = floor(a/angle);\n\ta = mod(a,angle) - angle/2.;\n\tp = vec2(cos(a), sin(a))*r;\n\t// For an odd number of repetitions, fix cell index of the cell in -x direction\n\t// (cell index would be e.g. -5 and 5 in the two halves of the cell):\n\tif (abs(c) >= (repetitions/2.)) c = abs(c);\n\treturn c;\n}\nfloat fOpUnionSoft(float r, float a, float b) {\n\tfloat e = max(r - abs(a - b), 0.);\n\treturn min(a, b) - e*e*0.25/r;\n}\nfloat fBox(vec3 p, vec3 b) {\n\tvec3 d = abs(p) - b;\n\treturn length(max(d, vec3(0))) + vmax(min(d, vec3(0)));\n}\nfloat fSphere(vec3 p, float r) {\n\treturn length(p) - r;\n}\nfloat fDisc(vec3 p, float r) {\n\tfloat l = length(p.xz) - r;\n\treturn l < 0. ? abs(p.y) : length(vec2(p.y, l));\n}\nfloat fCone(vec3 p, float radius, float height) {\n\tvec2 q = vec2(length(p.xz), p.y);\n\tvec2 tip = q - vec2(0., height);\n\tvec2 mantleDir = normalize(vec2(height, radius));\n\tfloat mantle = dot(tip, mantleDir);\n\tfloat d = max(mantle, -q.y);\n\tfloat projected = dot(tip, vec2(mantleDir.y, -mantleDir.x));\n\tif ((q.y > height) && (projected < 0.)) {\n\t\td = max(d, length(tip));\n\t}\n\tif ((q.x > radius) && (projected > length(vec2(height, radius)))) {\n\t\td = max(d, length(q - vec2(radius, 0.)));\n\t}\n\treturn d;\n}\n\n// https://www.iquilezles.org/www/articles/rmshadows/rmshadows.htm\nfloat softshadow( in vec3 ro, in vec3 rd, in float mint, in float tmax, in float k) {\n\tfloat res = 1.0;\n  float t = mint;\n  float ph = 1e10; // big, such that y = 0 on the first iteration\n  for( int i=0; i<32; i++ ) {\n\t\tfloat h = map( ro + rd*t ).x;\n    float y = h*h/(2.0*ph);\n    float d = sqrt(h*h-y*y);\n    res = min( res, k*d/max(0.0,t-y) );\n    ph = h;\n    t += h;\n    if( res<0.0001 || t>tmax ) break;\n  }\n  return clamp( res, 0.0, 1.0 );\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x-map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x-map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x-map(p-eps.yyx).x\n\t));\n}\n\nfloat diffuse(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\nvec2 marcher (inout vec3 p, vec3 dir) {\n  // raymarching perf technique from https://www.shadertoy.com/view/XsyGWV\n  vec2 hit = vec2(999., 0.);\n  float precis = 0.0001;\n  float t = 0.;\n  for (int i=0; i<100; i++) {\n    vec2 h = map(p + t * dir);\n    precis = t*0.0001;\n    float rl = max(t*.02, 1.);\n    t += .9 * h.x * rl;\n    if (abs(h.x) < precis || p.z > 20.) {\n      hit = h;\n      break;\n    }\n  }\n  p += t * dir;\n  return hit;\n}\n\nvec2 opU (vec2 a, vec2 b) {\n  if (a.x < b.x) return a;\n  return b;\n}\n\nfloat specularStrength (float m) {\n  if (m<1.) return .1;\n  if (m<10.) return .1;\n  return 1.;\n}\n\nfloat specular (vec3 n, float m, vec3 ldir, vec3 dir, float p) {\n  return specularStrength(m) * pow(max(dot(dir, reflect(ldir, n)), 0.0), p);\n}\n\nvec3 lighting (vec2 hit, vec3 p, vec3 n, vec3 dir) {\n  vec3 c = vec3(0.);\n  vec3 lamp1 = vec3(-4., 3., -6.);\n  vec3 lamp1dir = normalize(lamp1 - p);\n  c +=\n    vec3(.6, .7, .8) * (\n      // ambient\n      0.105+\n      // diffuse\n      shade(hit, p)\n      * (.5 + .5 * diffuse(p, n, lamp1)) // half lambert\n      * softshadow(p, lamp1dir, 0.02, 8., 20.) +\n      // specular\n      .5 * specular(n, hit.y, lamp1dir, dir, 60.)\n    );\n  vec3 lamp2 = vec3(4., 7., -7.);\n  vec3 lamp2dir = normalize(lamp2 - p);\n  c +=\n    vec3(1., .85, .7) * (\n    // ambient\n    0.05 +\n    // diffuse\n    shade(hit, p)\n    * (.5 + .5 *diffuse(p, n, lamp2)) // half lambert\n    * softshadow(p, lamp2dir, 0.02, 8., 20.) +\n    // specular\n    specular(n, hit.y, lamp2dir, dir, 30.)\n  );\n  vec3 lamp3 = vec3(0., 8., 10.);\n  vec3 lamp3dir = normalize(lamp3 - p);\n  c +=\n    vec3(.3) * (\n    // ambient\n    0.1 +\n    // diffuse\n    shade(hit, p)\n    * (.5 + .5 *diffuse(p, n, lamp3)) // half lambert\n    +\n    // specular\n    specular(n, hit.y, lamp3dir, dir, 80.)\n  );\n  return c;\n}\n\nvec3 shade (vec2 hit, vec3 p) {\n  float m = hit.y;\n  if (m < 1.) return vec3(1.);\n  float wFactor = fract(m) * 2.;\n  p *= 1.2;\n  vec2 tUV = vec2(\n    fract(p.x + .3 * p.y),\n    fract(p.z - .7 * p.y)\n  );\n  float piece = step(10.,m);\n  vec3 c = mix(\n    vec3(.18, .05, .03),\n    vec3(.7, .5, .3) + piece * vec3(.3, .45, .4),\n    wFactor);\n  vec3 t = texture2D(wood, tUV).r * c;\n  return t;\n}\n\n// height of 1m\nfloat sdChessKingOrQueen (vec3 p) {\n  float d;\n  float body = fOpUnionSoft(\n    .1,\n    fCone(p * vec3(1., -1., 1.), .12, .5),\n    fCone(p + vec3(0., 1., 0.), .16, .8)\n  );\n  d = fOpUnionSoft(.1, body, fDisc(p, .15)-.01);\n  vec3 q = p;\n  float discs;\n  q.y += 0.22;\n  discs = fDisc(q, .06) - .01;\n  q.y += 0.06;\n  discs = min(discs, fDisc(q, .07) - .01);\n  q.y += 0.04;\n  discs = min(discs, fDisc(q, .08) - .03);\n  q.y += 0.49;\n  discs = min(discs, fDisc(q, .11) - .02);\n  q.y += 0.11;\n  discs = min(discs, fDisc(q, .12) - .05);\n  d = fOpUnionSoft(.015, d, discs);\n  return d;\n}\n\n// height of 1m + crawn\nfloat sdChessQueen (vec3 p) {\n  float s = sdChessKingOrQueen(p);\n  float ball = fSphere((p-vec3(0., 0.05, 0.)) * vec3(1., 2., 1.), .05);\n  s = min(s, ball);\n  pModPolar(p.xz, 14.);\n  p.y -= .08;\n  p.x -= .2;\n  s = max(s, -fSphere(p, 0.1));\n  return s;\n}\n\nfloat sdChessKing (vec3 p) {\n  float s = sdChessKingOrQueen(p);\n  p.y -= .12;\n  p.y *= 1.1; // a bit stretched\n  float cross = length(p.xy)-.04;\n  pModPolar(p.xy, 4.);\n  pR(p.xy, .5 * PI);\n  p.y += 0.07;\n\n  vec3 q = abs(p);\n  float sz = .04;\n  cross = fOpUnionSoft(.02, cross, max(.5*q.x+.5*p.y,-p.y)-sz*0.5);\n  // cross = min(cross, p.x+p.y-0.2);\n  s = fOpUnionSoft(.02, s, max(cross, q.z-.02));\n  return s;\n}\n\nfloat sdChessPawn (vec3 p) {\n  float d;\n  p.y += .5;\n  float body = fOpUnionSoft(\n    .01,\n    fSphere(p, .1),\n    fCone(p + vec3(0., .5, 0.), .16, .5)\n  );\n  p.y += .11;\n  d = min(body, fDisc(p, .08)-.02);\n  p.y += 0.27;\n  float base = min(fDisc(p, .04) - .08, fDisc(p+vec3(.0, .05, .0), .12) - .04);\n  d = fOpUnionSoft(.05, d, base);\n  return d;\n}\n\n\n// tiles are of 1m x 1m\nvec2 sdChessboard (vec3 p) {\n  float manhattan = max(abs(p.x), abs(p.z));\n  float o = step(4., manhattan);\n  float m = mix(\n    2. + .5 * step(1., mod(floor(p.x)+floor(p.z), 2.)),\n    3. + .5 * step(4.38, manhattan),\n    o\n  );\n  return vec2(fBox(p, vec3(4.4, 0.2, 4.4)), m);\n}\n\nfloat sdChessPiece(vec3 p, float id) {\n  float s = 99.;\n  p = (p - vec3(0., 1.4, 0.)) / 1.4;\n  if (id == 10.) s = sdChessKing(p);\n  if (id == 11.) s = sdChessQueen(p);\n  if (id == 15.) s = sdChessPawn(p);\n  return s;\n}\n\nfloat sdChessPieceId(float id, float white) {\n  return id + .5 * white;\n}\n\nvec2 map (vec3 p) {\n  vec2 s = vec2(p.y, 0.1); // ground\n  p.y -= .1;\n  s = opU(s, sdChessboard(p));\n  p.y -= .1;\n  p.xz += vec2(3.5);\n  float x = pModInterval1(p.x, 1., 0., 7.);\n  float y = pModInterval1(p.z, 1., 0., 7.);\n  float id = 15.;\n  float m = sdChessPieceId(id, 0.5 * step(y, 3.5));\n  float selected = step(1., abs(y-3.5));\n  // tradeoff: as we use pMod, we need to give the marcher a fake distance to next cell..\n  float piece = mix(0.4, sdChessPiece(p, id), selected);\n  s = opU(s, vec2(piece, m));\n  return s;\n}\n\nmat3 lookAt (vec3 ro, vec3 ta) {\n  float cr = 0.;\n  vec3 ww = normalize( ta - ro );\n  vec3 uu = normalize( cross(ww,vec3(sin(cr),cos(cr),0.0) ) );\n  vec3 vv =          ( cross(uu,ww));\n  return mat3(uu,vv,ww);\n}\n\nvoid main() {\n  float zoom = .5 + .5 * cos(.3 * time);\n  origin = vec3(0., 3. + 5. * zoom, 0.);\n  vec3 c = vec3(0.);\n  vec2 dt = vec2(0.);\n  vec2 uvP = uv + dt;\n  vec3 dir = normalize(vec3(uvP - .5, 2.5));\n  // debug ortho camera\n  #if 0\n  origin += vec3(3. * (uvP - .5)- vec2(0., 2.), 0.);\n  dir = vec3(0., 0., 1.);\n  #endif\n  origin.x = 6. * cos(.2 * time);\n  origin.z = 10. * sin(.3 * time);\n  dir = lookAt(origin, vec3(0., 1., -1.)) * dir;\n  vec3 p = origin;\n  vec2 hit = marcher(p, dir);\n  vec3 n = normal(p);\n  c += lighting(hit, p, n, dir);\n  gl_FragColor = vec4(c, 1.0);\n}"]);return ei=function(){return n},n}var ti=45,ri="wood pawns army",oi=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:ii.node,uniforms:{time:e,wood:"/images/seamless-wood-background-1.jpg"}})},ii=an.Shaders.create({node:{frag:Object(an.GLSL)(ei(),Math.PI)}});function ai(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\n#define PI ","\n\n// camera origin\nvec3 origin;\n\nvec2 map (vec3 p);\nvec3 shade (vec2 m, vec3 p);\nvec3 lighting (vec2 hit, vec3 p, vec3 n, vec3 dir);\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\n// from HG_SDF\nfloat vmax(vec2 v) {\n\treturn max(v.x, v.y);\n}\nfloat vmax(vec3 v) {\n\treturn max(max(v.x, v.y), v.z);\n}\nfloat vmax(vec4 v) {\n\treturn max(max(v.x, v.y), max(v.z, v.w));\n}\nfloat vmin(vec2 v) {\n\treturn min(v.x, v.y);\n}\nfloat vmin(vec3 v) {\n\treturn min(min(v.x, v.y), v.z);\n}\nfloat vmin(vec4 v) {\n\treturn min(min(v.x, v.y), min(v.z, v.w));\n}\nfloat pModInterval1(inout float p, float size, float start, float stop) {\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p+halfsize, size) - halfsize;\n\tif (c > stop) { //yes, this might not be the best thing numerically.\n\t\tp += size*(c - stop);\n\t\tc = stop;\n\t}\n\tif (c <start) {\n\t\tp += size*(c - start);\n\t\tc = start;\n\t}\n\treturn c;\n}\nfloat pModPolar(inout vec2 p, float repetitions) {\n\tfloat angle = 2.*PI/repetitions;\n\tfloat a = atan(p.y, p.x) + angle/2.;\n\tfloat r = length(p);\n\tfloat c = floor(a/angle);\n\ta = mod(a,angle) - angle/2.;\n\tp = vec2(cos(a), sin(a))*r;\n\t// For an odd number of repetitions, fix cell index of the cell in -x direction\n\t// (cell index would be e.g. -5 and 5 in the two halves of the cell):\n\tif (abs(c) >= (repetitions/2.)) c = abs(c);\n\treturn c;\n}\nfloat fOpUnionSoft(float r, float a, float b) {\n\tfloat e = max(r - abs(a - b), 0.);\n\treturn min(a, b) - e*e*0.25/r;\n}\nfloat fBox(vec3 p, vec3 b) {\n\tvec3 d = abs(p) - b;\n\treturn length(max(d, vec3(0))) + vmax(min(d, vec3(0)));\n}\nfloat fSphere(vec3 p, float r) {\n\treturn length(p) - r;\n}\nfloat fDisc(vec3 p, float r) {\n\tfloat l = length(p.xz) - r;\n\treturn l < 0. ? abs(p.y) : length(vec2(p.y, l));\n}\nfloat fCone(vec3 p, float radius, float height) {\n\tvec2 q = vec2(length(p.xz), p.y);\n\tvec2 tip = q - vec2(0., height);\n\tvec2 mantleDir = normalize(vec2(height, radius));\n\tfloat mantle = dot(tip, mantleDir);\n\tfloat d = max(mantle, -q.y);\n\tfloat projected = dot(tip, vec2(mantleDir.y, -mantleDir.x));\n\tif ((q.y > height) && (projected < 0.)) {\n\t\td = max(d, length(tip));\n\t}\n\tif ((q.x > radius) && (projected > length(vec2(height, radius)))) {\n\t\td = max(d, length(q - vec2(radius, 0.)));\n\t}\n\treturn d;\n}\n\n// https://www.iquilezles.org/www/articles/rmshadows/rmshadows.htm\nfloat softshadow( in vec3 ro, in vec3 rd, in float mint, in float tmax, in float k) {\n\tfloat res = 1.0;\n  float t = mint;\n  float ph = 1e10; // big, such that y = 0 on the first iteration\n  for( int i=0; i<32; i++ ) {\n\t\tfloat h = map( ro + rd*t ).x;\n    float y = h*h/(2.0*ph);\n    float d = sqrt(h*h-y*y);\n    res = min( res, k*d/max(0.0,t-y) );\n    ph = h;\n    t += h;\n    if( res<0.0001 || t>tmax ) break;\n  }\n  return clamp( res, 0.0, 1.0 );\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x-map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x-map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x-map(p-eps.yyx).x\n\t));\n}\n\nfloat diffuse(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\nvec2 marcher (inout vec3 p, vec3 dir) {\n  // raymarching perf technique from https://www.shadertoy.com/view/XsyGWV\n  vec2 hit = vec2(999., 0.);\n  float precis = 0.0001;\n  float t = 0.;\n  for (int i=0; i<100; i++) {\n    vec2 h = map(p + t * dir);\n    precis = t*0.0001;\n    float rl = max(t*.02, 1.);\n    t += .9 * h.x * rl;\n    if (abs(h.x) < precis || p.z > 20.) {\n      hit = h;\n      break;\n    }\n  }\n  p += t * dir;\n  return hit;\n}\n\nvec2 opU (vec2 a, vec2 b) {\n  if (a.x < b.x) return a;\n  return b;\n}\n\nfloat specularStrength (float m) {\n  return 0.;\n}\n\nfloat specular (vec3 n, float m, vec3 ldir, vec3 dir, float p) {\n  return specularStrength(m) * pow(max(dot(dir, reflect(ldir, n)), 0.0), p);\n}\n\nvec3 lighting (vec2 hit, vec3 p, vec3 n, vec3 dir) {\n  vec3 c = vec3(0.);\n  vec3 lamp1 = vec3(-6., 10., -6.);\n  vec3 lamp1dir = normalize(lamp1 - p);\n  c +=\n    vec3(1., .7, .4) * (\n      // ambient\n      0.1+\n      // diffuse\n      shade(hit, p)\n      * (.5 + .5 * diffuse(p, n, lamp1)) // half lambert\n      * softshadow(p, lamp1dir, 0.02, 8., 12.) +\n      // specular\n      specular(n, hit.y, lamp1dir, dir, 40.)\n    );\n  vec3 lamp2 = vec3(4., 6., 6.);\n  vec3 lamp2dir = normalize(lamp2 - p);\n  c +=\n    .8 * vec3(.0,.6,1.) * (\n      // ambient\n      0.1 +\n      // diffuse\n      shade(hit, p)\n      * (.5 + .5 * diffuse(p, n, lamp2)) // half lambert\n      * softshadow(p, lamp2dir, 0.02, 8., 30.) +\n      // specular\n      specular(n, hit.y, lamp2dir, dir, 40.)\n    );\n  return c;\n}\n\nvec3 shade (vec2 hit, vec3 p) {\n  float m = hit.y;\n  if (m==0.1) return vec3(.7);\n  if (m==2.) return vec3(.2);\n  return vec3(1.);\n}\n\nfloat sdSegment (in vec3 p, in float L, in float R) {\n  p.y -= min(L, max(0.0, p.y));\n  return length(p) - R;\n}\nfloat sdBox( vec3 p, vec3 b ) {\n  vec3 q = abs(p) - b;\n  return length(max(q,0.0)) + min(max(q.x,max(q.y,q.z)),0.0);\n}\nfloat sdBox (vec2 p, vec2 sz) {\n  return max(abs(p.x) - sz.x, abs(p.y) - sz.y);\n}\nfloat sdD (vec2 p, float w, float h) {\n  return min(sdBox(p, vec2(w, h)), length(p-vec2(w, .0))-h);\n}\nfloat sdUpperD (vec2 p) {\n  p.x += .02;\n  p.y -= .1;\n  float inner = sdD(p + vec2(-0.025, 0.012), 0.037, 0.055);\n  float outer = sdD(p, 0.1, 0.1);\n  return max(-inner, outer);\n}\nfloat sdLowerD (vec2 p) {\n  p.x += .01;\n  p.y += .085;\n  float outer = sdD(p, 0.11, 0.11);\n  float inner = sdD(p - vec2(0.023, 0.01), 0.045, 0.058);\n  return max(-inner, outer);\n}\nfloat sdRevCornerRadius(vec2 p) {\n  return max(\n    sdBox(p, vec2(.5)),\n    -min(\n      (p.x - p.y) / 2.,\n      length(p + vec2(.5, -.5)) - 1.\n    )\n  );\n}\nfloat sdBitcoin2D (vec2 p) {\n  float bottom = sdLowerD(p);\n  bottom = min(bottom, max(\n    sdBox(p + vec2(.15, .165), vec2(.04, .03)), // bottom-left shape\n    -(p.x - .216 * p.y + 0.142)) // 12.5\xb0 cut\n  );\n  bottom = min(bottom, sdRevCornerRadius((p + vec2(0.135, -0.135)) * vec2(1., -1.) * 30.));\n  float top = sdUpperD(p);\n  top = min(top, sdBox(p - vec2(-.15, .175), vec2(.034, .025)));\n  top = min(top, sdRevCornerRadius((p + vec2(0.135, 0.12)) * vec2(1., 1.) * 30.));\n  p.x += .01;\n  float hash = max(\n    sdBox(p, vec2(0.07, .285)),\n    -min(\n      sdBox(p, vec2(0.022, 1.)),\n      sdBox(p, vec2(1., .15))\n    )\n  );\n  return min(min(top, bottom), hash);\n}\n\nfloat sdBitcoin (in vec3 p, in float L, in float sz) {\n  p.y += 0.05;\n  p.y -= min(L, max(0.0, p.y));\n  float plane = abs(p.y);\n  return max(sdBitcoin2D(-p.xz / sz), plane);\n}\n\nvec2 map (vec3 p) {\n  vec2 s = vec2(p.y, 0.1); // ground\n  float f = min(\n    sdBitcoin((p+vec3(.5,0.,0.)).zyx, 1.5, 1.),\n    sdBitcoin((p-vec3(.5,0.,0.)).zyx * vec3(-1.,1.,1.), 1.8, 1.)\n  );\n  f = fOpUnionSoft(.1, f, sdBitcoin(p, 2., 2.));\n  f = min(f, sdSegment(p - vec3(.16, 0., -.02), 2.5, .01));\n  s = opU(s, vec2(f, 1.));\n  s = opU(s, vec2(\n    min(\n      sdBitcoin((p-vec3(-1.5,0.,.5)).zyx, .1, 20.),\n      sdBox(p-vec3(.01, 0., 0.), vec3(.12, .05, 2.))\n    )\n  , 2.));\n  return s;\n}\n\nmat3 lookAt (vec3 ro, vec3 ta) {\n  float cr = 0.;\n  vec3 ww = normalize( ta - ro );\n  vec3 uu = normalize( cross(ww,vec3(sin(cr),cos(cr),0.0) ) );\n  vec3 vv =          ( cross(uu,ww));\n  return mat3(uu,vv,ww);\n}\n\nvoid main() {\n  origin = vec3(0., 6., 0.);\n  vec3 c = vec3(0.);\n  vec2 dt = vec2(0.);\n  vec2 uvP = uv + dt;\n  vec3 dir = normalize(vec3(uvP - .5, 2.5));\n  // debug ortho camera\n  #if 0\n  origin += vec3(3. * (uvP - .5)- vec2(0., 2.), 0.);\n  dir = vec3(0., 0., 1.);\n  #endif\n  origin.x += 6. * sin(.5 + .2 * time);\n  origin.z += 4. * cos(.2 * time);\n  dir = lookAt(origin, vec3(0., 1., 0.)) * dir;\n  vec3 p = origin;\n  vec2 hit = marcher(p, dir);\n  vec3 n = normal(p);\n  c += lighting(hit, p, n, dir);\n  gl_FragColor = vec4(c, 1.0);\n}"]);return ai=function(){return n},n}var si=46,ci="Bank of Bicoin",li=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:fi.node,uniforms:{time:e}})},fi=an.Shaders.create({node:{frag:Object(an.GLSL)(ai(),Math.PI)}});function pi(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\n#define PI ","\n\n// camera origin\nvec3 origin;\n\nvec2 map (vec3 p);\nvec3 shade (vec2 m);\nvec3 lighting (vec2 hit, vec3 p, vec3 n, vec3 dir);\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\n// from HG_SDF\nfloat vmax(vec3 v) {\n\treturn max(max(v.x, v.y), v.z);\n}\nfloat fBox(vec3 p, vec3 b) {\n\tvec3 d = abs(p) - b;\n\treturn length(max(d, vec3(0))) + vmax(min(d, vec3(0)));\n}\nfloat fSphere(vec3 p, float r) {\n\treturn length(p) - r;\n}\nfloat sdSegment (in vec3 p, in float L, in float R) {\n  p.y -= min(L, max(0.0, p.y));\n  return length(p) - R;\n}\n\n// https://www.iquilezles.org/www/articles/rmshadows/rmshadows.htm\nfloat softshadow( in vec3 ro, in vec3 rd, in float mint, in float tmax, in float k) {\n\tfloat res = 1.0;\n  float t = mint;\n  float ph = 1e10; // big, such that y = 0 on the first iteration\n  for( int i=0; i<32; i++ ) {\n\t\tfloat h = map( ro + rd*t ).x;\n    float y = h*h/(2.0*ph);\n    float d = sqrt(h*h-y*y);\n    res = min( res, k*d/max(0.0,t-y) );\n    ph = h;\n    t += h;\n    if( res<0.0001 || t>tmax ) break;\n  }\n  return clamp( res, 0.0, 1.0 );\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x-map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x-map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x-map(p-eps.yyx).x\n\t));\n}\n\nfloat diffuse(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\n// glowing is an output that contains the rgb color that is glowing with a alpha that contains how much it's glowing (not bounded)\nvec2 marcher (inout vec3 p, vec3 dir, inout vec4 glowing) {\n  vec2 hit = vec2(999., 0.);\n  float t = 0.;\n  float ph = 0.;\n  float tA = 0.;\n  vec3 tC = vec3(0.);\n\n  for (int i=0; i<150; i++) {\n    vec2 h = map(p + t * dir);\n    h.x = min(.3, h.x);\n    t += h.x;\n    if (h.x < .001 || p.z > 20.) {\n      hit = h;\n      break;\n    }\n    if (h.y > 1.) {\n      float a = .8 * ph * pow(smoothstep(.8, .0, h.x), 16.);\n      ph = h.x;\n      tC += a * shade(h);\n      tA += a;\n    }\n  }\n\n  glowing = vec4(tC / tA, min(1., tA));\n\n  p += t * dir;\n  return hit;\n}\n\nvec2 opU (vec2 a, vec2 b) {\n  if (a.x < b.x) return a;\n  return b;\n}\n\nvec3 lighting (vec2 hit, vec3 p, vec3 n, vec3 dir) {\n  vec3 clr = shade(hit);\n  float glow = step(1., hit.y);\n  vec3 c = vec3(0.);\n  vec3 lamp1 = vec3(-6., 12., -4.);\n  vec3 lamp1dir = normalize(lamp1 - p);\n  vec3 lamp2 = vec3(6., 6., -4.);\n  vec3 lamp2dir = normalize(lamp2 - p);\n  c = .8 * glow * clr;\n  c +=\n    .6 *\n    (.45 * cos(time) + .5) *\n    vec3(1., .7, .5) * (\n      // ambient\n      0.1 +\n      // diffuse\n      clr *\n      // glow have half lambert\n      mix(diffuse(p, n, lamp1), 1., .5 * glow)  *\n      // glow don't receive shadows\n      mix(softshadow(p, lamp1dir, 0.02, 8., 20.), 1., glow)\n    );\n  c +=\n    .8 *\n    (.45 * sin(2. * time) + .5) *\n    vec3(.1, .4, .6) * (\n      // ambient\n      0.1 +\n      // diffuse\n      clr *\n      // glow have half lambert\n      mix(diffuse(p, n, lamp2), 1., .5 * glow)  *\n      // glow don't receive shadows\n      mix(softshadow(p, lamp2dir, 0.02, 8., 10.), 1., glow)\n    );\n  return c;\n}\n\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\nvec3 color (float t) {\n  return palette(\n    t + time,\n    vec3(.5),\n    vec3(.5),\n    vec3(1., 1.1, 1.),\n    vec3(.1, .3, .5)\n  );\n}\n\nvec3 shade (vec2 hit) {\n  float m = hit.y;\n  if (m<1.) return vec3(m);\n  return vec3(color(fract(m)));\n}\n\nvec2 map (vec3 p) {\n  vec2 s = vec2(p.y, .7); // ground\n  p.y -= .5;\n  // non glowing objects\n  s = opU(s, vec2(fBox(p, vec3(.5)), .4));\n  s = opU(s, vec2(fBox(p+vec3(1.2, 0.1, 1.2), vec3(.4)), 2.2));\n  s = opU(s, vec2(fBox(p+vec3(-1.2, 0.1, 1.2), vec3(.4)), 2.7));\n\n  // glowing objects\n  p.y -= .6;\n  s = opU(s, vec2(fSphere(p, .3), 2.));\n  s = opU(s, vec2(fSphere(p+vec3(1.2, -1. + .8 * cos(time), 1.2), .3), 2.2));\n  s = opU(s, vec2(fSphere(p+vec3(-1.2, -1. + .8 * sin(time), 1.2), .3), 2.7));\n  s = opU(s, vec2(sdSegment((p+vec3(1., 0.6, 1.2)).zxy, 2., .05), 2.2+.5*smoothstep(-1., 1., p.x + .5 * cos(time))));\n  pR(p.xz, time);\n  pR(p.xy, .5);\n  s = opU(s, vec2(sdSegment(p.zxy, 4., .05), 2.));\n  return s;\n}\n\nmat3 lookAt (vec3 ro, vec3 ta) {\n  float cr = 0.;\n  vec3 ww = normalize( ta - ro );\n  vec3 uu = normalize( cross(ww,vec3(sin(cr),cos(cr),0.0) ) );\n  vec3 vv =          ( cross(uu,ww));\n  return mat3(uu,vv,ww);\n}\n\nvoid main() {\n  origin = vec3(0., 10., -9.);\n  vec3 c = vec3(0.);\n  vec2 dt = vec2(0.);\n  vec2 uvP = uv + dt;\n  vec3 dir = normalize(vec3(uvP - .5, 2.5));\n  origin.x += 6. * sin(.5 + .2 * time);\n  dir = lookAt(origin, vec3(0., 0., 0.)) * dir;\n  vec3 p = origin;\n  vec4 glowing = vec4(0.);\n  vec2 hit = marcher(p, dir, glowing);\n  vec3 n = normal(p);\n  c += lighting(hit, p, n, dir);\n  if (glowing.a>0.) {\n    c = mix(c, glowing.rgb, glowing.a);\n  }\n  gl_FragColor = vec4(c, 1.0);\n}"]);return pi=function(){return n},n}var ui=47,di="glow experiment",vi=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:hi.node,uniforms:{time:e}})},hi=an.Shaders.create({node:{frag:Object(an.GLSL)(pi(),Math.PI)}});function mi(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\nuniform sampler2D img;\n\n#define PI ","\n\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\nvec3 color (float t) {\n  return palette(\n    t,\n    vec3(.5),\n    vec3(.5),\n    vec3(1.),\n    vec3(\n      .68 + .03 * cos(2. + .8 * time),\n      .75 + .05 * sin(.6 * time),\n      .25 + .07 * cos(.5 * time)\n    )\n  );\n}\n\nvoid main() {\n  vec2 p = uv - .5;\n  float t = pow(time * .2, 1.4);\n  float a = (atan(p.y, p.x)/PI+1.)/2.;\n  float b = pow(fract((3. + 2. * cos(.5 * t)) * length(p)- t), 2.);\n  vec3 clr = mix(\n    color(texture2D(img, vec2(a, b)).r),\n    color(.5),\n    smoothstep(.09, .08, length(p) + .01 * cos(time + a * 6. * PI + sin(a * 8. * PI - time) - cos(a * 10. * PI + pow(time-10., 1.4))))\n  );\n  gl_FragColor = vec4(clr, 1.0);\n}"]);return mi=function(){return n},n}var gi=48,yi="Starry Night",xi=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:bi.node,uniforms:{time:e,img:"/images/seamless-wood2.jpg"}})},bi=an.Shaders.create({node:{frag:Object(an.GLSL)(mi(),Math.PI)}});function _i(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\nvec2 map (vec3 p);\n\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec2 opU (vec2 a, vec2 b) {\n  if (a.x < b.x) return a;\n  return b;\n}\n\n#define PI ","\n\n// https://www.iquilezles.org/www/articles/rmshadows/rmshadows.htm\nfloat softshadow( in vec3 ro, in vec3 rd, in float mint, in float tmax, in float k) {\n\tfloat res = 1.0;\n  float t = mint;\n  float ph = 1e10; // big, such that y = 0 on the first iteration\n  for( int i=0; i<32; i++ ) {\n\t\tfloat h = map( ro + rd*t ).x;\n    float y = h*h/(2.0*ph);\n    float d = sqrt(h*h-y*y);\n    res = min( res, k*d/max(0.0,t-y) );\n    ph = h;\n    t += h;\n    if( res<0.0001 || t>tmax ) break;\n  }\n  return clamp( res, 0.0, 1.0 );\n}\n\n// huge kudos to https://www.iquilezles.org/www/articles/mandelbulb/mandelbulb.htm\nvec2 mandelbulb(vec3 p) {\n  vec3 w = p;\n  float dz = 1.;\n  float m = dot(w,w);\n  float index = 0.;\n  for (int i=0; i<4; i++) {\n    dz = 8.0*pow(sqrt(m),7.0)*dz + 1.0;\n    float x = w.x; float x2 = x*x; float x4 = x2*x2;\n    float y = w.y; float y2 = y*y; float y4 = y2*y2;\n    float z = w.z; float z2 = z*z; float z4 = z2*z2;\n\n    float k3 = x2 + z2;\n    float k2 = inversesqrt( k3*k3*k3*k3*k3*k3*k3 );\n    float k1 = x4 + y4 + z4 - 6.0*y2*z2 - 6.0*x2*y2 + 2.0*z2*x2;\n    float k4 = x2 - y2 + z2;\n\n    k1 += .4 * sin(.9 * time);\n    k4 += (.05 + pow(.005 * time, .5)) * cos(.8 * time);\n\n    w.x =  64.0*x*y*z*(x2-z2)*k4*(x4-6.0*x2*z2+z4)*k1*k2;\n    w.y = -16.0*y2*k3*k4*k4 + k1*k1;\n    w.z = -8.0*y*k4*(x4*x4 - 28.0*x4*x2*z2 + 70.0*x4*z4 - 28.0*x2*z2*z4 + z4*z4)*k1*k2;\n\n    w += p * (.5 + 2. * pow(smoothstep(.5, 1., sin(.2 * time)), 2.));\n\n    m = dot(w,w);\n    if (m>256.) break;\n    index += 1.;\n  }\n\n  return vec2(0.25*log(m)*sqrt(m)/dz, 2. + index);\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x-map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x-map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x-map(p-eps.yyx).x\n\t));\n}\n\nfloat diffuse(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\nvec2 marcher (inout vec3 p, vec3 dir) {\n  // raymarching perf technique from https://www.shadertoy.com/view/XsyGWV\n  vec2 hit = vec2(999., 0.);\n  float precis = 0.0001;\n  float t = 0.;\n  for (int i=0; i<60; i++) {\n    vec2 h = map(p + t * dir);\n    precis = t*0.0001;\n    float rl = max(t*.02, 1.);\n    t += .9 * h.x * rl;\n    if (abs(h.x) < precis || p.z > 20.) {\n      hit = h;\n      break;\n    }\n  }\n  p += t * dir;\n  return hit;\n}\n\nvec2 map (vec3 p) {\n  vec2 s = vec2(min(p.y, 40. - p.z), 1.); // ground\n  float z = p.z;\n  p.y -= 1.;\n  pR(p.xz, .05 * time);\n  pR(p.yz, -.1 * time);\n  s = opU(s, mandelbulb(p));\n  return s;\n}\n\nvec3 color (float t) {\n  if (t < 2.) return vec3(.9);\n  return palette(\n    .2 * t,\n    vec3(.5),\n    vec3(.5),\n    vec3(1.),\n    vec3(.9, .2, .3)\n  );\n}\n\nfloat specularStrength (float m) {\n  return 2.;\n}\n\nfloat specularPow (float m) {\n  return 8.0;\n}\n\nfloat specular (vec3 n, float m, vec3 ldir, vec3 dir) {\n  return specularStrength(m) * pow(max(dot(dir, reflect(-ldir, n)), 0.0), specularPow(m));\n}\n\nvec3 shade (vec2 hit) {\n  return color(hit.y);\n}\n\nvec3 lighting (vec2 hit, vec3 p, vec3 n, vec3 dir) {\n  vec3 c = vec3(0.);\n  vec3 lamp1 = vec3(-10., 10., -5.);\n  vec3 ldir1 = normalize(lamp1 - p);\n  c +=\n    vec3(.8, .6, .4) * (\n      // ambient\n      0.1 +\n      // diffuse\n      shade(hit)\n      * (.5 + .5 * diffuse(p, n, lamp1)) // half lambert\n      * softshadow(p, ldir1, 0.02, 8., 20.) +\n      // specular\n      specular(n, hit.y, ldir1, dir)\n    );\n  vec3 lamp2 = vec3(0., 10., 0.);\n  vec3 ldir2 = normalize(lamp2 - p);\n  c +=\n    vec3(.4, .6, .8) * (\n    // ambient\n    0.1 +\n    // diffuse\n    shade(hit)\n    * diffuse(p, n, lamp2) +\n    // specular\n    specular(n, hit.y, ldir2, dir)\n  );\n  return c;\n}\n\nmat3 lookAt (vec3 ro, vec3 ta) {\n  float cr = 0.;\n  vec3 ww = normalize( ta - ro );\n  vec3 uu = normalize( cross(ww,vec3(sin(cr),cos(cr),0.0) ) );\n  vec3 vv =          ( cross(uu,ww));\n  return mat3(uu,vv,ww);\n}\n\nvoid main() {\n  vec3 origin = vec3(0., 4., -4.);\n  vec3 clr = vec3(0.);\n  vec2 uvP = uv;\n  vec3 dir = normalize(vec3(uvP - .5, 1.6 + .5 * sin(.2 * time)));\n  dir = lookAt(origin, vec3(0., 1., 0.)) * dir;\n  vec3 p = origin;\n  vec2 hit = marcher(p, dir);\n  vec3 n = normal(p);\n  vec3 c = lighting(hit, p, n, dir);\n  clr += c;\n  gl_FragColor = vec4(clr, 1.0);\n}"]);return _i=function(){return n},n}function wi(){var n=rn(["\n    precision highp float;\n    varying vec2 uv;\n    uniform sampler2D t, back;\n    uniform float persistence;\n    void main () {\n      gl_FragColor = mix(\n        texture2D(t, uv),\n        texture2D(back, uv),\n        persistence\n      );\n    }\n        "]);return wi=function(){return n},n}var Si=49,Ei="chinese lantern",Ti=function(n){var e=n.time;return Object(on.jsx)(an.LinearCopy,{children:Object(on.jsx)(Ri,{persistence:.8,children:Object(on.jsx)(an.Node,{shader:zi.node,uniforms:{time:e}})})})},Ri=function(n){var e=n.children,t=n.persistence;return Object(on.jsx)(an.Node,{shader:zi.persistence,backbuffering:!0,uniforms:{t:e,back:an.Uniform.Backbuffer,persistence:t}})},zi=an.Shaders.create({persistence:{frag:Object(an.GLSL)(wi())},node:{frag:Object(an.GLSL)(_i(),Math.PI)}});function Oi(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\nuniform sampler2D wood;\n\n#define PI ","\n\n// camera origin\nvec3 origin;\n\n#define HIT vec4\nHIT map (vec3 p);\nvec3 shade (HIT m, vec3 p);\nvec3 lighting (HIT hit, vec3 p, vec3 n, vec3 dir);\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\n// ADAPTED from https://iquilezles.org/www/articles/distfunctions/distfunctions.htm\nfloat sdCone( in vec3 p, in float r, float h ) {\n  p.y -= h;\n  // c is the sin/cos of the angle, h is height\n  // Alternatively pass q instead of (c,h),\n  // which is the point at the base in 2D\n  vec2 q = h*vec2(r/h,-1.0);\n\n  vec2 w = vec2( length(p.xz), p.y );\n  vec2 a = w - q*clamp( dot(w,q)/dot(q,q), 0.0, 1.0 );\n  vec2 b = w - q*vec2( clamp( w.x/q.x, 0.0, 1.0 ), 1.0 );\n  float k = sign( q.y );\n  float d = min(dot( a, a ),dot(b, b));\n  float s = max( k*(w.x*q.y-w.y*q.x),k*(w.y-q.y)  );\n  return sqrt(d)*sign(s);\n}\n\n// from HG_SDF\nfloat vmax(vec2 v) {\n\treturn max(v.x, v.y);\n}\nfloat vmax(vec3 v) {\n\treturn max(max(v.x, v.y), v.z);\n}\nfloat vmax(vec4 v) {\n\treturn max(max(v.x, v.y), max(v.z, v.w));\n}\nfloat vmin(vec2 v) {\n\treturn min(v.x, v.y);\n}\nfloat vmin(vec3 v) {\n\treturn min(min(v.x, v.y), v.z);\n}\nfloat vmin(vec4 v) {\n\treturn min(min(v.x, v.y), min(v.z, v.w));\n}\nfloat pModInterval1(inout float p, float size, float start, float stop) {\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p+halfsize, size) - halfsize;\n\tif (c > stop) { //yes, this might not be the best thing numerically.\n\t\tp += size*(c - stop);\n\t\tc = stop;\n\t}\n\tif (c <start) {\n\t\tp += size*(c - start);\n\t\tc = start;\n\t}\n\treturn c;\n}\nfloat pModPolar(inout vec2 p, float repetitions) {\n\tfloat angle = 2.*PI/repetitions;\n\tfloat a = atan(p.y, p.x) + angle/2.;\n\tfloat r = length(p);\n\tfloat c = floor(a/angle);\n\ta = mod(a,angle) - angle/2.;\n\tp = vec2(cos(a), sin(a))*r;\n\t// For an odd number of repetitions, fix cell index of the cell in -x direction\n\t// (cell index would be e.g. -5 and 5 in the two halves of the cell):\n\tif (abs(c) >= (repetitions/2.)) c = abs(c);\n\treturn c;\n}\nfloat fOpUnionSoft(float r, float a, float b) {\n\tfloat e = max(r - abs(a - b), 0.);\n\treturn min(a, b) - e*e*0.25/r;\n}\nfloat fBox(vec3 p, vec3 b) {\n\tvec3 d = abs(p) - b;\n\treturn length(max(d, vec3(0))) + vmax(min(d, vec3(0)));\n}\nfloat fSphere(vec3 p, float r) {\n\treturn length(p) - r;\n}\nfloat fDisc(vec3 p, float r) {\n\tfloat l = length(p.xz) - r;\n\treturn l < 0. ? abs(p.y) : length(vec2(p.y, l));\n}\nfloat fCylinder(vec3 p, float r, float height) {\n\tfloat d = length(p.xz) - r;\n\td = max(d, abs(p.y) - height);\n\treturn d;\n}\n\n// https://www.iquilezles.org/www/articles/rmshadows/rmshadows.htm\nfloat softshadow( in vec3 ro, in vec3 rd, in float mint, in float tmax, in float k) {\n\tfloat res = 1.0;\n  float t = mint;\n  float ph = 1e10; // big, such that y = 0 on the first iteration\n  for( int i=0; i<32; i++ ) {\n\t\tfloat h = map( ro + rd*t ).x;\n    float y = h*h/(2.0*ph);\n    float d = sqrt(h*h-y*y);\n    res = min( res, k*d/max(0.0,t-y) );\n    ph = h;\n    t += h;\n    if( res<0.0001 || t>tmax ) break;\n  }\n  return clamp( res, 0.0, 1.0 );\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x-map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x-map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x-map(p-eps.yyx).x\n\t));\n}\n\nfloat diffuse(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\nHIT marcher (inout vec3 p, vec3 dir) {\n  // raymarching perf technique from https://www.shadertoy.com/view/XsyGWV\n  HIT hit = HIT(0.);\n  float precis = 0.0001;\n  float t = 0.;\n  for (int i=0; i<120; i++) {\n    HIT h = map(p + t * dir);\n    precis = t*0.0001;\n    float rl = max(t*.02, 1.);\n    t += h.x * rl;\n    if (abs(h.x) < precis || p.z > 20.) {\n      hit = h;\n      break;\n    }\n  }\n  p += t * dir;\n  return hit;\n}\n\nHIT opU (HIT a, HIT b) {\n  if (a.x < b.x) return a;\n  return b;\n}\n\nfloat specularStrength (float m) {\n  if (m<1.) return .0;\n  if (m<10.) return .3;\n  return .8;\n}\n\nfloat specular (vec3 n, float m, vec3 ldir, vec3 dir, float p) {\n  return specularStrength(m) * pow(max(dot(dir, reflect(ldir, n)), 0.0), p);\n}\n\nvec3 lighting (HIT hit, vec3 p, vec3 n, vec3 dir) {\n  vec3 c = vec3(0.);\n  vec3 lamp1 = vec3(-4., 5. + cos(time), -5.);\n  vec3 lamp1dir = normalize(lamp1 - p);\n  c +=\n    vec3(1., .8, .7) * (\n      // ambient\n      0.1\n      // diffuse\n      + shade(hit, p)\n        * (.5 + .5 * diffuse(p, n, lamp1)) // half lambert\n      + specular(n, hit.y, lamp1dir, dir, 60.)\n    );\n  vec3 lamp2 = vec3(4., 7., -3.);\n  vec3 lamp2dir = normalize(lamp2 - p);\n  c +=\n    vec3(.6) * (\n    // ambient\n    0.1\n    // diffuse\n    + shade(hit, p)\n      * (.5 + .5 *diffuse(p, n, lamp2)) // half lambert\n      * softshadow(p, lamp2dir, 0.02, 8., 32.)\n    + specular(n, hit.y, lamp2dir, dir, 20.)\n  );\n  vec3 lamp3 = vec3(0., 2., 10.);\n  vec3 lamp3dir = normalize(lamp3 - p);\n  c +=\n    vec3(.1, .2, .4) * (\n    // ambient\n    0.0\n    // diffuse\n    + shade(hit, p)\n      * diffuse(p, n, lamp3) // half lambert\n    + specular(n, hit.y, lamp3dir, dir, 10.)\n  );\n  return c;\n}\n\nvec3 shade (HIT hit, vec3 _p) {\n  float m = hit.y;\n  if (m < 1.) return vec3(.8);\n  float wFactor = fract(m) * 2.;\n  vec2 p = hit.zw;\n  vec2 tUV = fract(p);\n  float piece = step(10., m);\n  vec3 t = pow(texture2D(wood, tUV).r, .5) * mix(\n    vec3(.4, .2, .15) * (1. - .3 * piece),\n    vec3(.9, .8, .6) * (1. + piece),\n    wFactor\n  );\n  return t;\n}\n\n// height of 1m\nfloat sdChessKingOrQueen (vec3 p) {\n  float d;\n  float body = fOpUnionSoft(\n    .1,\n    sdCone(p * vec3(1., -1., 1.), .12, .5),\n    sdCone(p + vec3(0., 1., 0.), .16, .8)\n  );\n  d = fOpUnionSoft(.1, body, fDisc(p, .15)-.01);\n  vec3 q = p;\n  float discs;\n  q.y += 0.22;\n  discs = fDisc(q, .06) - .01;\n  q.y += 0.06;\n  discs = min(discs, fDisc(q, .07) - .01);\n  q.y += 0.04;\n  discs = min(discs, fDisc(q, .08) - .03);\n  q.y += 0.49;\n  discs = min(discs, fDisc(q, .11) - .02);\n  q.y += 0.11;\n  discs = min(discs, fDisc(q, .12) - .05);\n  d = fOpUnionSoft(.015, d, discs);\n  return d;\n}\n\n// height of 1m + crawn\nfloat sdChessQueen (vec3 p) {\n  float s = sdChessKingOrQueen(p);\n  float ball = fSphere((p-vec3(0., 0.05, 0.)) * vec3(1., 2., 1.), .05);\n  s = min(s, ball);\n  pModPolar(p.xz, 14.);\n  p.y -= .08;\n  p.x -= .2;\n  s = max(s, -fSphere(p, 0.1));\n  return s;\n}\n\nfloat sdChessKing (vec3 p) {\n  float s = sdChessKingOrQueen(p);\n  p.y -= .12;\n  p.y *= 1.1; // a bit stretched\n  float cross = length(p.xy)-.04;\n  pModPolar(p.xy, 4.);\n  pR(p.xy, .5 * PI);\n  p.y += 0.07;\n\n  vec3 q = abs(p);\n  float sz = .04;\n  cross = fOpUnionSoft(.02, cross, max(.5*q.x+.5*p.y,-p.y)-sz*0.5);\n  // cross = min(cross, p.x+p.y-0.2);\n  s = fOpUnionSoft(.02, s, max(cross, q.z-.02));\n  return s;\n}\n\nfloat sdChessPawn (vec3 p) {\n  float d;\n  p.y += .5;\n  float body = fOpUnionSoft(\n    .01,\n    fSphere(p, .1),\n    sdCone(p + vec3(0., .5, 0.), .16, .5)\n  );\n  p.y += .11;\n  d = min(body, fDisc(p, .08)-.02);\n  p.y += 0.27;\n  float base = min(fDisc(p, .04) - .08, fDisc(p+vec3(.0, .05, .0), .12) - .04);\n  d = fOpUnionSoft(.05, d, base);\n  return d;\n}\n\nfloat sdChessRook (vec3 p) {\n  p.y += .34;\n  // body\n  float d = max(\n    sdCone(p + vec3(0., .5, 0.), .14, .6),\n    p.y + .05\n  );\n  // crown\n  vec3 q = p;\n  q.y -= .2;\n  q.y *= -1.;\n  float cyl = max(\n    abs(p.y) - .06,\n    sdCone(q, .16, .5)\n  );\n  q = p - vec3(0., .06, 0.);\n  float dif = max(\n    abs(q.y) - .02,\n    min(\n      min(abs(q.z), abs(q.x)) - .02,\n      length(q.xz) - .08\n    )\n  );\n  d = min(d, max(cyl, -dif));\n  // crown base\n  d = min(\n    d,\n    min(\n      fDisc(p + vec3(.0, .07, .0), .08)-.01,\n      fDisc(p + vec3(.0, .09, .0), .06)-.02\n    ));\n  // body base\n  p.y += 0.5;\n  d = fOpUnionSoft(.03, d,\n    min(\n      fDisc(p, .05) - .1,\n      min(\n        fDisc(p-vec3(.0, .05, .0), .1)-.05,\n        fDisc(p-vec3(.0, .01, .0), .14)-.03\n      )\n    )\n  );\n  return d;\n}\n\n// tiles are of 1m x 1m\nHIT sdChessboard (vec3 p) {\n  float manhattan = max(abs(p.x), abs(p.z));\n  float o = step(4., manhattan);\n  float m = mix(\n    2. + .5 * step(1., mod(floor(p.x)+floor(p.z), 2.)),\n    3. + .5 * step(4.38, manhattan),\n    o\n  );\n  return HIT(fBox(p, vec3(4.4, 0.2, 4.4)), m, p.x, p.z);\n}\n\nfloat sdChessPiece(vec3 p, float id) {\n  float s = 99.;\n  p = (p - vec3(0., 1.4, 0.)) / 1.4;\n  if (id == 10.) s = sdChessKing(p);\n  if (id == 11.) s = sdChessQueen(p);\n  // if (id == 12.) s = sdChessBishop(p);\n  // if (id == 13.) s = sdChessKnight(p);\n  if (id == 14.) s = sdChessRook(p);\n  if (id == 15.) s = sdChessPawn(p);\n  return s;\n}\n\nfloat sdChessPieceId(float id, float white) {\n  return id + .5 * white;\n}\n\nHIT map (vec3 p) {\n  HIT s = HIT(p.y, 0.1, 0., 0.); // ground\n  p.y -= .1;\n  s = opU(s, sdChessboard(p));\n  p.y -= .1;\n  p.xz += vec2(3.5);\n  float id, m, piece;\n\n  float x = pModInterval1(p.x, 1., 0., 7.);\n  float y = pModInterval1(p.z, 1., 0., 7.);\n  p.y -= .5 * abs(cos(4. * time + .2 * length(vec2(x-3., y-3.))));\n  id = 14.;\n  m = sdChessPieceId(id, .5 * mod(1. + x + y, 2.));\n  piece = sdChessPiece(p, id);\n  s = opU(s, HIT(piece, m, p.x + .3 * p.y, p.z - .7 * p.y));\n  return s;\n}\n\nmat3 lookAt (vec3 ro, vec3 ta) {\n  float cr = 0.;\n  vec3 ww = normalize( ta - ro );\n  vec3 uu = normalize( cross(ww,vec3(sin(cr),cos(cr),0.0) ) );\n  vec3 vv =          ( cross(uu,ww));\n  return mat3(uu,vv,ww);\n}\n\nvoid main() {\n  origin = vec3(0., 6., -3.);\n  vec3 c = vec3(0.);\n  vec2 dt = vec2(0.);\n  vec2 uvP = uv + dt;\n  vec3 dir = normalize(vec3(uvP - .5, 2.5));\n  float zoom = 7. - 4. * cos(.4 * time);\n  origin.x = zoom * cos(.10 * time);\n  origin.z = zoom * sin(.09 * time);\n  dir = lookAt(origin, vec3(-0.5, 0.5, -0.5)) * dir;\n\n  // debug ortho camera\n  #if 0\n  origin.x = -0.5;\n  origin.y = 1.;\n  origin.z = -3.;\n  origin += vec3(3. * (uvP - .5)- vec2(0., 0.), 0.);\n  dir = normalize(vec3(0., 0., 1.));\n  #endif\n\n  vec3 p = origin;\n  HIT hit = marcher(p, dir);\n  vec3 n = normal(p);\n  c += lighting(hit, p, n, dir);\n  gl_FragColor = vec4(c, 1.0);\n}"]);return Oi=function(){return n},n}var Ii=50,ji="jumpy rooks",Ai=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:Ci.node,uniforms:{time:e,wood:"/images/seamless-wood2.jpg"}})},Ci=an.Shaders.create({node:{frag:Object(an.GLSL)(Oi(),Math.PI)}});function Pi(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\nuniform sampler2D wood;\n\n#define PI ","\n\n// camera origin\nvec3 origin;\n\n#define HIT vec4\nHIT map (vec3 p);\nvec3 shade (HIT m, vec3 p);\nvec3 lighting (HIT hit, vec3 p, vec3 n, vec3 dir);\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\n// ADAPTED from https://iquilezles.org/www/articles/distfunctions/distfunctions.htm\nfloat sdCone( in vec3 p, in float r, float h ) {\n  p.y -= h;\n  // c is the sin/cos of the angle, h is height\n  // Alternatively pass q instead of (c,h),\n  // which is the point at the base in 2D\n  vec2 q = h*vec2(r/h,-1.0);\n\n  vec2 w = vec2( length(p.xz), p.y );\n  vec2 a = w - q*clamp( dot(w,q)/dot(q,q), 0.0, 1.0 );\n  vec2 b = w - q*vec2( clamp( w.x/q.x, 0.0, 1.0 ), 1.0 );\n  float k = sign( q.y );\n  float d = min(dot( a, a ),dot(b, b));\n  float s = max( k*(w.x*q.y-w.y*q.x),k*(w.y-q.y)  );\n  return sqrt(d)*sign(s);\n}\n\n// from HG_SDF\nfloat vmax(vec2 v) {\n\treturn max(v.x, v.y);\n}\nfloat vmax(vec3 v) {\n\treturn max(max(v.x, v.y), v.z);\n}\nfloat vmax(vec4 v) {\n\treturn max(max(v.x, v.y), max(v.z, v.w));\n}\nfloat vmin(vec2 v) {\n\treturn min(v.x, v.y);\n}\nfloat vmin(vec3 v) {\n\treturn min(min(v.x, v.y), v.z);\n}\nfloat vmin(vec4 v) {\n\treturn min(min(v.x, v.y), min(v.z, v.w));\n}\nfloat pModInterval1(inout float p, float size, float start, float stop) {\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p+halfsize, size) - halfsize;\n\tif (c > stop) { //yes, this might not be the best thing numerically.\n\t\tp += size*(c - stop);\n\t\tc = stop;\n\t}\n\tif (c <start) {\n\t\tp += size*(c - start);\n\t\tc = start;\n\t}\n\treturn c;\n}\nfloat pModPolar(inout vec2 p, float repetitions) {\n\tfloat angle = 2.*PI/repetitions;\n\tfloat a = atan(p.y, p.x) + angle/2.;\n\tfloat r = length(p);\n\tfloat c = floor(a/angle);\n\ta = mod(a,angle) - angle/2.;\n\tp = vec2(cos(a), sin(a))*r;\n\t// For an odd number of repetitions, fix cell index of the cell in -x direction\n\t// (cell index would be e.g. -5 and 5 in the two halves of the cell):\n\tif (abs(c) >= (repetitions/2.)) c = abs(c);\n\treturn c;\n}\nfloat fOpUnionSoft(float r, float a, float b) {\n\tfloat e = max(r - abs(a - b), 0.);\n\treturn min(a, b) - e*e*0.25/r;\n}\nfloat fBox(vec3 p, vec3 b) {\n\tvec3 d = abs(p) - b;\n\treturn length(max(d, vec3(0))) + vmax(min(d, vec3(0)));\n}\nfloat fSphere(vec3 p, float r) {\n\treturn length(p) - r;\n}\nfloat fDisc(vec3 p, float r) {\n\tfloat l = length(p.xz) - r;\n\treturn l < 0. ? abs(p.y) : length(vec2(p.y, l));\n}\nfloat fCylinder(vec3 p, float r, float height) {\n\tfloat d = length(p.xz) - r;\n\td = max(d, abs(p.y) - height);\n\treturn d;\n}\n\n// https://www.iquilezles.org/www/articles/rmshadows/rmshadows.htm\nfloat softshadow( in vec3 ro, in vec3 rd, in float mint, in float tmax, in float k) {\n  float res = 1.0;\n  float t = mint;\n  float ph = 1e10; // big, such that y = 0 on the first iteration\n  for( int i=0; i<32; i++ ) {\n\t\tfloat h = map( ro + rd*t ).x;\n    float y = h*h/(2.0*ph);\n    float d = sqrt(h*h-y*y);\n    res = min( res, k*d/max(0.0,t-y) );\n    ph = h;\n    t += h;\n    if( res<0.0001 || t>tmax ) break;\n  }\n  return clamp( res, 0.0, 1.0 );\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x-map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x-map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x-map(p-eps.yyx).x\n\t));\n}\n\nfloat diffuse(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\nHIT marcher (inout vec3 p, vec3 dir) {\n  // raymarching perf technique from https://www.shadertoy.com/view/XsyGWV\n  HIT hit = HIT(0.);\n  float precis = 0.0001;\n  float t = 0.;\n  for (int i=0; i<80; i++) {\n    HIT h = map(p + t * dir);\n    precis = t*0.0001;\n    float rl = max(t*.02, 1.);\n    t += h.x * rl;\n    if (abs(h.x) < precis || p.z > 20.) {\n      hit = h;\n      break;\n    }\n  }\n  p += t * dir;\n  return hit;\n}\n\nHIT opU (HIT a, HIT b) {\n  if (a.x < b.x) return a;\n  return b;\n}\n\nfloat specularStrength (float m) {\n  if (m<1.) return .0;\n  if (m<10.) return .3;\n  return .8;\n}\n\nfloat specular (vec3 n, float m, vec3 ldir, vec3 dir, float p) {\n  return specularStrength(m) * pow(max(dot(dir, reflect(ldir, n)), 0.0), p);\n}\n\nvec3 lighting (HIT hit, vec3 p, vec3 n, vec3 dir) {\n  vec3 c = vec3(0.);\n  vec3 lamp1 = vec3(-4., 0.5, -5.);\n  vec3 lamp1dir = normalize(lamp1 - p);\n  c +=\n    vec3(.8, .9, .4) * (\n      // ambient\n      0.1\n      // diffuse\n      + shade(hit, p)\n        * (.5 + .5 * diffuse(p, n, lamp1)) // half lambert\n      + specular(n, hit.y, lamp1dir, dir, 60.)\n    );\n  vec3 lamp2 = vec3(4., 2., -3.);\n  vec3 lamp2dir = normalize(lamp2 - p);\n  c +=\n    vec3(1., .4, .3) * (\n    // ambient\n    0.3\n    // diffuse\n    + shade(hit, p)\n      * (.5 + .5 * diffuse(p, n, lamp2)) // half lambert\n      * softshadow(p, lamp2dir, 0.02, 4., 32.)\n    + specular(n, hit.y, lamp2dir, dir, 20.)\n  );\n  vec3 lamp3 = vec3(0., 1.5 + cos(time), 10.);\n  vec3 lamp3dir = normalize(lamp3 - p);\n  c +=\n    vec3(.5) * (\n    // ambient\n    .1\n    // diffuse\n    + shade(hit, p)\n      * diffuse(p, n, lamp3) // half lambert\n    + specular(n, hit.y, lamp3dir, dir, 10.)\n  );\n  return c;\n}\n\nvec3 shade (HIT hit, vec3 _p) {\n  float m = hit.y;\n  if (m < 1.) return vec3(.8);\n  float wFactor = fract(m) * 2.;\n  vec2 p = hit.zw;\n  vec2 tUV = fract(p);\n  float piece = step(10., m);\n  vec3 t = texture2D(wood, tUV).r * mix(\n    vec3(.1),\n    vec3(.9),\n    wFactor\n  );\n  return t;\n}\n\n// height of 1m\nfloat sdChessKingOrQueen (vec3 p) {\n  float d;\n  float body = fOpUnionSoft(\n    .1,\n    sdCone(p * vec3(1., -1., 1.), .12, .5),\n    sdCone(p + vec3(0., 1., 0.), .16, .8)\n  );\n  d = fOpUnionSoft(.1, body, fDisc(p, .15)-.01);\n  vec3 q = p;\n  float discs;\n  q.y += 0.22;\n  discs = fDisc(q, .06) - .01;\n  q.y += 0.06;\n  discs = min(discs, fDisc(q, .07) - .01);\n  q.y += 0.04;\n  discs = min(discs, fDisc(q, .08) - .03);\n  q.y += 0.49;\n  discs = min(discs, fDisc(q, .11) - .02);\n  q.y += 0.11;\n  discs = min(discs, fDisc(q, .12) - .05);\n  d = fOpUnionSoft(.015, d, discs);\n  return d;\n}\n\n// height of 1m + crawn\nfloat sdChessQueen (vec3 p) {\n  float s = sdChessKingOrQueen(p);\n  float ball = fSphere((p-vec3(0., 0.05, 0.)) * vec3(1., 2., 1.), .05);\n  s = min(s, ball);\n   pModPolar(p.xz, 14.);\n  p.y -= .08;\n  p.x -= .2;\n  s = max(s, -fSphere(p, 0.1));\n  return s;\n}\n\nfloat sdChessKing (vec3 p) {\n  float s = sdChessKingOrQueen(p);\n  p.y -= .12;\n  p.y *= 1.1; // a bit stretched\n  float cross = length(p.xy)-.04;\n  pModPolar(p.xy, 4.);\n  pR(p.xy, .5 * PI);\n  p.y += 0.07;\n\n  vec3 q = abs(p);\n  float sz = .04;\n  cross = fOpUnionSoft(.02, cross, max(.5*q.x+.5*p.y,-p.y)-sz*0.5);\n  // cross = min(cross, p.x+p.y-0.2);\n  s = fOpUnionSoft(.02, s, max(cross, q.z-.02));\n  return s;\n}\n\nfloat sdChessPawn (vec3 p) {\n  float d;\n  p.y += .5;\n  float body = fOpUnionSoft(\n    .01,\n    fSphere(p, .1),\n    sdCone(p + vec3(0., .5, 0.), .16, .5)\n  );\n  p.y += .11;\n  d = min(body, fDisc(p, .08)-.02);\n  p.y += 0.27;\n  float base = min(fDisc(p, .04) - .08, fDisc(p+vec3(.0, .05, .0), .12) - .04);\n  d = fOpUnionSoft(.05, d, base);\n  return d;\n}\n\nfloat sdChessRook (vec3 p) {\n  p.y += .4;\n  // body\n  float d = max(\n    sdCone(p + vec3(0., .5, 0.), .14, .6),\n    p.y + .05\n  );\n  // crown\n  vec3 q = p;\n  q.y -= .2;\n  q.y *= -1.;\n  float cyl = max(\n    abs(p.y) - .06,\n    sdCone(q, .16, .5)\n  );\n  q = p - vec3(0., .06, 0.);\n  float dif = max(\n    abs(q.y) - .02,\n    min(\n      min(abs(q.z), abs(q.x)) - .02,\n      length(q.xz) - .08\n    )\n  );\n  d = min(d, max(cyl, -dif));\n  // crown base\n  d = min(\n    d,\n    min(\n      fDisc(p + vec3(.0, .07, .0), .08)-.01,\n      fDisc(p + vec3(.0, .09, .0), .06)-.02\n    ));\n  // body base\n  p.y += 0.5;\n  d = fOpUnionSoft(.03, d,\n    min(\n      fDisc(p, .05) - .1,\n      min(\n        fDisc(p-vec3(.0, .05, .0), .1)-.05,\n        fDisc(p-vec3(.0, .01, .0), .14)-.03\n      )\n    )\n  );\n  return d;\n}\n\n// tiles are of 1m x 1m\nHIT sdChessboardMini (vec3 p) {\n  float manhattan = max(abs(p.x), abs(p.z));\n  float o = step(1., manhattan);\n  float m = mix(\n    2. + .5 * step(1., mod(floor(p.x)+floor(p.z), 2.)),\n    3. + .5 * step(1.1, manhattan),\n    o\n  );\n  return HIT(fBox(p, vec3(1.2, 0.1, 1.2)), m, p.x - .5 * p.y, p.z + .5 * p.y);\n}\n\nfloat sdChessPiece(vec3 p, float id) {\n  float s = 99.;\n  p = (p - vec3(0., 1.4, 0.)) / 1.4;\n  if (id == 10.) s = sdChessKing(p);\n  if (id == 11.) s = sdChessQueen(p);\n  // if (id == 12.) s = sdChessBishop(p);\n  // if (id == 13.) s = sdChessKnight(p);\n  if (id == 14.) s = sdChessRook(p);\n  if (id == 15.) s = sdChessPawn(p);\n  return s;\n}\n\nfloat sdChessPieceId(float id, float white) {\n  return id + .5 * white;\n}\n\nHIT piece (vec3 p, float id, float w) {\n  float m = sdChessPieceId(id, w);\n  float piece = sdChessPiece(p, id);\n  return HIT(piece, m, p.x + .3 * p.y, p.z - .7 * p.y);\n}\n\nHIT board (vec3 p) {\n  p.y -= .05;\n  HIT s = sdChessboardMini(p);\n  p.y -= .05;\n  p.xz += vec2(0.5);\n  float x = pModInterval1(p.x, 1., 0., 1.);\n  float y = pModInterval1(p.z, 1., 0., 1.);\n  s = opU(s, piece(p, 10. + x + 4. * y, mod(x + y, 2.)));\n  return s;\n}\n\nHIT map (vec3 p) {\n  HIT s = HIT(20. - length(p), 0.1, 0., 0.); // inside sphere\n  s = opU(s, board(p));\n  s = opU(s, board(vec3(0., 3.2, 0.) - p));\n  return s;\n}\n\nmat3 lookAt (vec3 ro, vec3 ta) {\n  float cr = 0.;\n  vec3 ww = normalize( ta - ro );\n  vec3 uu = normalize( cross(ww,vec3(sin(cr),cos(cr),0.0) ) );\n  vec3 vv =          ( cross(uu,ww));\n  return mat3(uu,vv,ww);\n}\n\nvoid main() {\n  float zoom = 4. + sin(.1 * time);\n  origin = vec3(\n    zoom * cos(.2 * time),\n    1.6 + cos(.3 * time),\n    zoom * sin(.2 * time)\n  );\n  vec3 c = vec3(0.);\n  vec2 dt = vec2(0.);\n  vec2 uvP = uv + dt;\n  vec3 dir = normalize(vec3(uvP - .5, .8));\n  dir = lookAt(origin, vec3(0., 1.6, 0.)) * dir;\n\n  // debug ortho camera\n  #if 0\n  origin.x = -0.5;\n  origin.y = 1.;\n  origin.z = -3.;\n  origin += vec3(3. * (uvP - .5)- vec2(0., 0.), 0.);\n  dir = normalize(vec3(0., 0., 1.));\n  #endif\n\n  vec3 p = origin;\n  HIT hit = marcher(p, dir);\n  vec3 n = normal(p);\n  c += lighting(hit, p, n, dir);\n  // special cell shading effect on pieces\n  if (hit.y > 9.) {\n    c *= 1.2 - .5 * step(-.8, dot(dir, n));\n  }\n  gl_FragColor = vec4(c, 1.0);\n}"]);return Pi=function(){return n},n}var Di=51,Li="symmetry chess",Ni=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:Mi.node,uniforms:{time:e,wood:"/images/seamless-wood2.jpg"}})},Mi=an.Shaders.create({node:{frag:Object(an.GLSL)(Pi(),Math.PI)}});function ki(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\nuniform sampler2D wood;\n\n#define PI ","\n\n// camera origin\nvec3 origin;\n\n#define HIT vec4\nHIT map (vec3 p);\nvec3 shade (HIT m, vec3 p);\nvec3 lighting (HIT hit, vec3 p, vec3 n, vec3 dir);\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\n// ADAPTED from https://iquilezles.org/www/articles/distfunctions/distfunctions.htm\nfloat sdCone( in vec3 p, in float r, float h ) {\n  p.y -= h;\n  // c is the sin/cos of the angle, h is height\n  // Alternatively pass q instead of (c,h),\n  // which is the point at the base in 2D\n  vec2 q = h*vec2(r/h,-1.0);\n\n  vec2 w = vec2( length(p.xz), p.y );\n  vec2 a = w - q*clamp( dot(w,q)/dot(q,q), 0.0, 1.0 );\n  vec2 b = w - q*vec2( clamp( w.x/q.x, 0.0, 1.0 ), 1.0 );\n  float k = sign( q.y );\n  float d = min(dot( a, a ),dot(b, b));\n  float s = max( k*(w.x*q.y-w.y*q.x),k*(w.y-q.y)  );\n  return sqrt(d)*sign(s);\n}\n\n// from HG_SDF\nfloat vmax(vec2 v) {\n\treturn max(v.x, v.y);\n}\nfloat vmax(vec3 v) {\n\treturn max(max(v.x, v.y), v.z);\n}\nfloat vmax(vec4 v) {\n\treturn max(max(v.x, v.y), max(v.z, v.w));\n}\nfloat vmin(vec2 v) {\n\treturn min(v.x, v.y);\n}\nfloat vmin(vec3 v) {\n\treturn min(min(v.x, v.y), v.z);\n}\nfloat vmin(vec4 v) {\n\treturn min(min(v.x, v.y), min(v.z, v.w));\n}\nfloat pModInterval1(inout float p, float size, float start, float stop) {\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p+halfsize, size) - halfsize;\n\tif (c > stop) { //yes, this might not be the best thing numerically.\n\t\tp += size*(c - stop);\n\t\tc = stop;\n\t}\n\tif (c <start) {\n\t\tp += size*(c - start);\n\t\tc = start;\n\t}\n\treturn c;\n}\nfloat pModPolar(inout vec2 p, float repetitions) {\n\tfloat angle = 2.*PI/repetitions;\n\tfloat a = atan(p.y, p.x) + angle/2.;\n\tfloat r = length(p);\n\tfloat c = floor(a/angle);\n\ta = mod(a,angle) - angle/2.;\n\tp = vec2(cos(a), sin(a))*r;\n\t// For an odd number of repetitions, fix cell index of the cell in -x direction\n\t// (cell index would be e.g. -5 and 5 in the two halves of the cell):\n\tif (abs(c) >= (repetitions/2.)) c = abs(c);\n\treturn c;\n}\nfloat fOpUnionSoft(float r, float a, float b) {\n\tfloat e = max(r - abs(a - b), 0.);\n\treturn min(a, b) - e*e*0.25/r;\n}\nfloat fBox(vec3 p, vec3 b) {\n\tvec3 d = abs(p) - b;\n\treturn length(max(d, vec3(0))) + vmax(min(d, vec3(0)));\n}\nfloat fSphere(vec3 p, float r) {\n\treturn length(p) - r;\n}\nfloat fDisc(vec3 p, float r) {\n\tfloat l = length(p.xz) - r;\n\treturn l < 0. ? abs(p.y) : length(vec2(p.y, l));\n}\nfloat fCylinder(vec3 p, float r, float height) {\n\tfloat d = length(p.xz) - r;\n\td = max(d, abs(p.y) - height);\n\treturn d;\n}\n\n// https://www.iquilezles.org/www/articles/rmshadows/rmshadows.htm\nfloat softshadow( in vec3 ro, in vec3 rd, in float mint, in float tmax, in float k) {\n  float res = 1.0;\n  float t = mint;\n  float ph = 1e10; // big, such that y = 0 on the first iteration\n  for( int i=0; i<32; i++ ) {\n\t\tfloat h = map( ro + rd*t ).x;\n    float y = h*h/(2.0*ph);\n    float d = sqrt(h*h-y*y);\n    res = min( res, k*d/max(0.0,t-y) );\n    ph = h;\n    t += h;\n    if( res<0.0001 || t>tmax ) break;\n  }\n  return clamp( res, 0.0, 1.0 );\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x-map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x-map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x-map(p-eps.yyx).x\n\t));\n}\n\nfloat diffuse(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\nHIT marcher (inout vec3 p, vec3 dir) {\n  // raymarching perf technique from https://www.shadertoy.com/view/XsyGWV\n  HIT hit = HIT(0.);\n  float precis = 0.0001;\n  float t = 0.;\n  for (int i=0; i<100; i++) {\n    HIT h = map(p + t * dir);\n    precis = t*0.0001;\n    float rl = max(t*.02, 1.);\n    t += h.x * rl;\n    if (abs(h.x) < precis || p.z > 20.) {\n      hit = h;\n      break;\n    }\n  }\n  p += t * dir;\n  return hit;\n}\n\nHIT opU (HIT a, HIT b) {\n  if (a.x < b.x) return a;\n  return b;\n}\n\nfloat specularStrength (float m) {\n  if (m<1.) return .0;\n  if (m<10.) return .2;\n  return 1.;\n}\n\nfloat specular (vec3 n, float m, vec3 ldir, vec3 dir, float p) {\n  return specularStrength(m) * pow(max(dot(dir, reflect(ldir, n)), 0.0), p);\n}\n\nvec3 lighting (HIT hit, vec3 p, vec3 n, vec3 dir) {\n  vec3 l, ldir;\n  vec3 c = vec3(0.);\n  l = vec3(-4., 4., -4.);\n  ldir = normalize(l - p);\n  c +=\n    .8 * vec3(1., .8, .5) * (\n      // ambient\n      0.15\n      // diffuse\n      + shade(hit, p)\n        * (.5 + .5 * diffuse(p, n, l)) // half lambert\n        * softshadow(p, ldir, 0.02, 4., 16.)\n      + specular(n, hit.y, ldir, dir, 20.)\n    );\n  l = vec3(4., 3., -4.);\n  ldir = normalize(l - p);\n  c +=\n    .8 * vec3(.4, .5, .7) * (\n    // ambient\n    0.1\n    // diffuse\n    + shade(hit, p)\n      * (.5 + .5 * diffuse(p, n, l)) // half lambert\n    + specular(n, hit.y, ldir, dir, 40.)\n  );\n  l = vec3(0., 3., -2.);\n  ldir = normalize(l - p);\n  c +=\n    vec3(.5) * (\n    // diffuse\n    + shade(hit, p)\n      * diffuse(p, n, l)\n    + specular(n, hit.y, ldir, dir, 80.)\n  );\n  return c;\n}\n\nvec3 shade (HIT hit, vec3 _p) {\n  float m = hit.y;\n  if (m < 1.) return vec3(.8);\n  float wFactor = fract(m) * 2.;\n  vec2 p = hit.zw;\n  vec2 tUV = fract(p);\n  float piece = step(10., m);\n  return (.5 + .5 * texture2D(wood, tUV).r) * mix(\n    mix(vec3(.35, .2, .15), vec3(.1), piece),\n    mix(vec3(.8, .7, .5), vec3(.9), piece),\n    wFactor\n  );\n}\n\n// tiles are of 1m x 1m\nHIT sdChessboard (vec3 p) {\n  float manhattan = max(abs(p.x), abs(p.z));\n  float o = step(4., manhattan);\n  float m = mix(\n    2. + .5 * step(1., mod(floor(p.x)+floor(p.z), 2.)),\n    3. + .5 * step(4.1, manhattan),\n    o\n  );\n  return HIT(fBox(p, vec3(4.4, 0.2, 4.4)), m, .3 * (p.x - p.y), .3 * (p.z + p.y));\n}\n\n// height of 1m\nfloat sdChessKingOrQueen (vec3 p) {\n  float d;\n  float body = fOpUnionSoft(\n    .1,\n    sdCone(p * vec3(1., -1., 1.), .12, .5),\n    sdCone(p + vec3(0., 1., 0.), .16, .8)\n  );\n  d = fOpUnionSoft(.1, body, fDisc(p, .15)-.01);\n  vec3 q = p;\n  float discs;\n  q.y += 0.22;\n  discs = fDisc(q, .06) - .01;\n  q.y += 0.06;\n  discs = min(discs, fDisc(q, .07) - .01);\n  q.y += 0.04;\n  discs = min(discs, fDisc(q, .08) - .03);\n  q.y += 0.49;\n  discs = min(discs, fDisc(q, .11) - .02);\n  q.y += 0.11;\n  discs = min(discs, fDisc(q, .12) - .05);\n  d = fOpUnionSoft(.015, d, discs);\n  return d;\n}\n\n// height of 1m + crawn\nfloat sdChessQueen (vec3 p) {\n  float s = sdChessKingOrQueen(p);\n  float ball = fSphere((p-vec3(0., 0.05, 0.)) * vec3(1., 2., 1.), .05);\n  s = min(s, ball);\n   pModPolar(p.xz, 14.);\n  p.y -= .08;\n  p.x -= .2;\n  s = max(s, -fSphere(p, 0.1));\n  return s;\n}\n\nfloat sdChessKing (vec3 p) {\n  float s = sdChessKingOrQueen(p);\n  p.y -= .12;\n  p.y *= 1.1; // a bit stretched\n  float cross = length(p.xy)-.04;\n  pModPolar(p.xy, 4.);\n  pR(p.xy, .5 * PI);\n  p.y += 0.07;\n\n  vec3 q = abs(p);\n  float sz = .04;\n  cross = fOpUnionSoft(.02, cross, max(.5*q.x+.5*p.y,-p.y)-sz*0.5);\n  // cross = min(cross, p.x+p.y-0.2);\n  s = fOpUnionSoft(.02, s, max(cross, q.z-.02));\n  return s;\n}\n\nfloat sdChessPawn (vec3 p) {\n  float d;\n  p.y += .5;\n  float body = fOpUnionSoft(\n    .01,\n    fSphere(p, .1),\n    sdCone(p + vec3(0., .5, 0.), .16, .5)\n  );\n  p.y += .11;\n  d = min(body, fDisc(p, .08)-.02);\n  p.y += 0.27;\n  float base = min(fDisc(p, .04) - .08, fDisc(p+vec3(.0, .05, .0), .12) - .04);\n  d = fOpUnionSoft(.05, d, base);\n  return d;\n}\n\nfloat sdChessRook (vec3 p) {\n  p.y += .4;\n  // body\n  float d = max(\n    sdCone(p + vec3(0., .5, 0.), .14, .6),\n    p.y + .05\n  );\n  // crown\n  vec3 q = p;\n  q.y -= .2;\n  q.y *= -1.;\n  float cyl = max(\n    abs(p.y) - .06,\n    sdCone(q, .16, .5)\n  );\n  q = p - vec3(0., .06, 0.);\n  float dif = max(\n    abs(q.y) - .02,\n    min(\n      min(abs(q.z), abs(q.x)) - .02,\n      length(q.xz) - .08\n    )\n  );\n  d = min(d, max(cyl, -dif));\n  // crown base\n  d = min(\n    d,\n    min(\n      fDisc(p + vec3(.0, .07, .0), .08)-.01,\n      fDisc(p + vec3(.0, .09, .0), .06)-.02\n    ));\n  // body base\n  p.y += 0.5;\n  d = fOpUnionSoft(.03, d,\n    min(\n      fDisc(p, .05) - .1,\n      min(\n        fDisc(p-vec3(.0, .05, .0), .1)-.05,\n        fDisc(p-vec3(.0, .01, .0), .14)-.03\n      )\n    )\n  );\n  return d;\n}\n\nfloat sdChessKnight (vec3 p) {\n  float d = min(\n    fDisc(p + vec3(.0, .91, .0), .04) - .08,\n    fDisc(p + vec3(.0, .96, .0), .12) - .04\n  );\n  vec3 q = p + vec3(0., .6, .0);\n  q.y += .05;\n  d = min(d, fBox(q, vec3(.03, .16, .0)) - .05);\n  q.y -= .05;\n  pR(q.xy, 1.);\n  q.x += .05;\n  q.y += .05;\n  d = fOpUnionSoft(.1, d, fBox(q, vec3(.02, .08, .0)) - .03);\n  q.y -= .15;\n  q.x -= .2;\n  float hair = fSphere(q * vec3(1., 3., 2.), .04);\n  q.x += .05;\n  q.x -= .08;\n  q.y += .12;\n  pR(q.xy, -.1);\n  d = fOpUnionSoft(.05, d, max(\n    fBox(q, vec3(.02, .08, .0)) - .05,\n    -min(\n      fSphere((q + vec3(.0, .12, .0)) * vec3(3., 2., 1.), .06),\n      fSphere((vec3(q.x * 1.5, q.y, abs(q.z)) - vec3(.02, .03, .07)), .03)\n    )\n  ));\n  d = fOpUnionSoft(.2, d, hair);\n  return d;\n}\n\nfloat sdChessPiece(vec3 p, float id) {\n  float s = 99.;\n  p = (p - vec3(0., 1.4, 0.)) / 1.4;\n  if (id == 10.) s = sdChessKing(p);\n  if (id == 11.) s = sdChessQueen(p);\n  // if (id == 12.) s = sdChessBishop(p);\n  if (id == 13.) s = sdChessKnight(p);\n  if (id == 14.) s = sdChessRook(p);\n  if (id == 15.) s = sdChessPawn(p);\n  return s;\n}\n\nfloat sdChessPieceId(float id, float white) {\n  return id + .5 * white;\n}\n\nHIT piece (vec3 p, float id, float w) {\n  float m = sdChessPieceId(id, w);\n  float piece = sdChessPiece(p, id);\n  return HIT(piece, m, p.x + .3 * p.y, p.z - .7 * p.y);\n}\n\n// t: 0->1\n// from and to are relative delta\nvec2 moveKnight (float t, vec2 from, vec2 to) {\n  vec2 d = to - from;\n  vec2 ad = abs(d);\n  float s = ad.x + ad.y;\n  return from + d * mix(\n    // longer first\n    vec2(\n      smoothstep(0., ad.x, s * t),\n      smoothstep(ad.x, s, s * t)\n    ),\n    vec2(\n      smoothstep(ad.y, s, s * t),\n      smoothstep(0., ad.y, s * t)\n    ),\n    step(ad.x, ad.y)\n  );\n}\n\nvec2 knightPhase (float i) {\n  // I wish it was just one formula\n  if (i==0.) return vec2(0., -1.);\n  if (i==1.) return vec2(-1., 1.);\n  if (i==2.) return vec2(1., 0.);\n  if (i==3.) return vec2(-1., -1.);\n  if (i==4.) return vec2(0., 1.);\n  if (i==5.) return vec2(1., -1.);\n  if (i==6.) return vec2(-1., 0.);\n  if (i==7.) return vec2(1., 1.);\n}\n\nHIT knight (vec3 p, float offset, float i) {\n  float t0 = mod(4. * offset + time, 32.);\n  float t1 = mod(t0, 4.);\n  t0 = floor(t0 / 4.);\n  vec2 from = knightPhase(t0);\n  vec2 to = knightPhase(mod(t0+1., 8.));\n  p.xz += moveKnight(max(0., t1-i), from, to);\n  pR(p.xz, mod(i, 2.) * PI);\n  return piece(p, 13., mod(i, 2.));\n}\n\nHIT board (vec3 p) {\n  vec3 q = p+vec3(-.4,0.,0.);\n  p.y -= .05;\n  HIT s = sdChessboard(p);\n  p.y -= .05;\n  p.xz += 3.5;\n  s = opU(s, knight(p - vec3(2., 0., 2.), 0., 1.));\n  s = opU(s, knight(p - vec3(5., 0., 5.), 4., 3.));\n  s = opU(s, knight(p - vec3(5., 0., 2.), 2., 0.));\n  s = opU(s, knight(p - vec3(2., 0., 5.), 6., 2.));\n  return s;\n}\n\nHIT map (vec3 p) {\n  HIT s = HIT(20. - length(p), 0.1, 0., 0.); // inside sphere\n  s = opU(s, board(p));\n  return s;\n}\n\nmat3 lookAt (vec3 ro, vec3 ta) {\n  float cr = 0.;\n  vec3 ww = normalize( ta - ro );\n  vec3 uu = normalize( cross(ww,vec3(sin(cr),cos(cr),0.0) ) );\n  vec3 vv =          ( cross(uu,ww));\n  return mat3(uu,vv,ww);\n}\n\nvoid main() {\n  origin = vec3(\n    3. * cos(.18 * time),\n    3. + 1. * cos(.1 * time),\n    -7. + 2. * sin(.13 * time)\n  );\n  vec3 c = vec3(0.);\n  vec2 dt = vec2(0.);\n  vec2 uvP = uv + dt;\n  vec3 dir = normalize(vec3(uvP - .5, 1.5));\n  dir = lookAt(origin, vec3(0., 0., 0.)) * dir;\n\n  // debug ortho camera\n  #if 0\n  origin.x = -0.5;\n  origin.y = 1.;\n  origin.z = -3.;\n  origin += vec3(2.8 * (uvP - .5)- vec2(0., 0.), 0.);\n  dir = normalize(vec3(0., 0., 1.));\n  #endif\n\n  vec3 p = origin;\n  HIT hit = marcher(p, dir);\n  vec3 n = normal(p);\n  c += lighting(hit, p, n, dir);\n  gl_FragColor = vec4(c, 1.0);\n}"]);return ki=function(){return n},n}var Ui=52,Bi="knights dance",Fi=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:qi.node,uniforms:{time:e,wood:"/images/seamless-wood2.jpg"}})},qi=an.Shaders.create({node:{frag:Object(an.GLSL)(ki(),Math.PI)}});function Gi(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\nvec3 color (float t) {\n  return palette(\n    t,\n    vec3(.5),\n    vec3(.5),\n    vec3(1.),\n    vec3(1., .2, .3)\n  );\n}\n\nvoid main() {\n  float ci = 0.;\n  float z = 5. + .01 * time;\n  vec2 p = uv;\n  p.y -= .1 * time;\n  vec2 id = floor(p * z);\n  p *= z;\n  float even = mod(id.y, 2.);\n  p.x += even * .5;\n  p = fract(p);\n  p.y = mix(p.y, 1.-p.y, even);\n  float y = p.y;\n  p.y = min(y, 1.-y);\n  float alt = step(y, p.y);\n  p.x = fract(p.x + mix(-time, time, alt));\n  float l = length(p - vec2(.5, .0));\n  float smooth = .01;\n  float a = smoothstep(-smooth, smooth, abs(l-0.1)-.05);\n  float b = smoothstep(-smooth, smooth, abs(l-0.4)-.05);\n  float c = smoothstep(smooth, -smooth, abs(l-0.25)-.08);\n  ci += a * b;\n  ci += (1. + alt) * c;\n  float mul = .2 + .3 * cos(.2 * time);\n  vec3 from = color(floor(ci) * mul);\n  vec3 to = color(ceil(ci) * mul);\n  gl_FragColor = vec4(mix(from, to, fract(ci)), 1.0);\n  /*\n  // debug palette\n  if (uv.y < .05) {\n    gl_FragColor = vec4(color(uv.x), 1.0);\n  }\n  */\n}"]);return Gi=function(){return n},n}var Hi=53,Vi="cross waves",Xi=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:Yi.node,uniforms:{time:e}})},Yi=an.Shaders.create({node:{frag:Object(an.GLSL)(Gi())}});function Wi(){var n=rn(["#version 300 es\nprecision highp float;\nin vec2 uv;\nout vec4 color;\nuniform float time;\nuniform sampler2D wood;\n\n#define PI ","\n\n// camera origin\nvec3 origin;\n\n#define HIT vec4\nHIT map (vec3 p);\nvec3 shade (HIT m, vec3 p);\nvec3 lighting (HIT hit, vec3 p, vec3 n, vec3 dir);\n\nvoid pR(inout vec2 p, float a) {\n\tp = cos(a)*p + sin(a)*vec2(p.y, -p.x);\n}\n\n// ADAPTED from https://iquilezles.org/www/articles/distfunctions/distfunctions.htm\nfloat sdCone( in vec3 p, in float r, float h ) {\n  p.y -= h;\n  // c is the sin/cos of the angle, h is height\n  // Alternatively pass q instead of (c,h),\n  // which is the point at the base in 2D\n  vec2 q = h*vec2(r/h,-1.0);\n\n  vec2 w = vec2( length(p.xz), p.y );\n  vec2 a = w - q*clamp( dot(w,q)/dot(q,q), 0.0, 1.0 );\n  vec2 b = w - q*vec2( clamp( w.x/q.x, 0.0, 1.0 ), 1.0 );\n  float k = sign( q.y );\n  float d = min(dot( a, a ),dot(b, b));\n  float s = max( k*(w.x*q.y-w.y*q.x),k*(w.y-q.y)  );\n  return sqrt(d)*sign(s);\n}\n\n// from HG_SDF\nfloat vmax(vec2 v) {\n\treturn max(v.x, v.y);\n}\nfloat vmax(vec3 v) {\n\treturn max(max(v.x, v.y), v.z);\n}\nfloat vmax(vec4 v) {\n\treturn max(max(v.x, v.y), max(v.z, v.w));\n}\nfloat vmin(vec2 v) {\n\treturn min(v.x, v.y);\n}\nfloat vmin(vec3 v) {\n\treturn min(min(v.x, v.y), v.z);\n}\nfloat vmin(vec4 v) {\n\treturn min(min(v.x, v.y), min(v.z, v.w));\n}\nfloat pModInterval1(inout float p, float size, float start, float stop) {\n\tfloat halfsize = size*0.5;\n\tfloat c = floor((p + halfsize)/size);\n\tp = mod(p+halfsize, size) - halfsize;\n\tif (c > stop) { //yes, this might not be the best thing numerically.\n\t\tp += size*(c - stop);\n\t\tc = stop;\n\t}\n\tif (c <start) {\n\t\tp += size*(c - start);\n\t\tc = start;\n\t}\n\treturn c;\n}\nfloat pModPolar(inout vec2 p, float repetitions) {\n\tfloat angle = 2.*PI/repetitions;\n\tfloat a = atan(p.y, p.x) + angle/2.;\n\tfloat r = length(p);\n\tfloat c = floor(a/angle);\n\ta = mod(a,angle) - angle/2.;\n\tp = vec2(cos(a), sin(a))*r;\n\t// For an odd number of repetitions, fix cell index of the cell in -x direction\n\t// (cell index would be e.g. -5 and 5 in the two halves of the cell):\n\tif (abs(c) >= (repetitions/2.)) c = abs(c);\n\treturn c;\n}\nfloat fOpUnionSoft(float r, float a, float b) {\n\tfloat e = max(r - abs(a - b), 0.);\n\treturn min(a, b) - e*e*0.25/r;\n}\nfloat fBox(vec3 p, vec3 b) {\n\tvec3 d = abs(p) - b;\n\treturn length(max(d, vec3(0))) + vmax(min(d, vec3(0)));\n}\nfloat fSphere(vec3 p, float r) {\n\treturn length(p) - r;\n}\nfloat fDisc(vec3 p, float r) {\n\tfloat l = length(p.xz) - r;\n\treturn l < 0. ? abs(p.y) : length(vec2(p.y, l));\n}\nfloat fCylinder(vec3 p, float r, float height) {\n\tfloat d = length(p.xz) - r;\n\td = max(d, abs(p.y) - height);\n\treturn d;\n}\n\n// https://www.iquilezles.org/www/articles/rmshadows/rmshadows.htm\nfloat softshadow( in vec3 ro, in vec3 rd, in float mint, in float tmax, in float k) {\n  float res = 1.0;\n  float t = mint;\n  float ph = 1e10; // big, such that y = 0 on the first iteration\n  for( int i=0; i<32; i++ ) {\n\t\tfloat h = map( ro + rd*t ).x;\n    float y = h*h/(2.0*ph);\n    float d = sqrt(h*h-y*y);\n    res = min( res, k*d/max(0.0,t-y) );\n    ph = h;\n    t += h;\n    if( res<0.0001 || t>tmax ) break;\n  }\n  return clamp( res, 0.0, 1.0 );\n}\n\nvec3 normal (in vec3 p) {\n\tvec3 eps = vec3(0.001, 0.0, 0.0);\n\treturn normalize(vec3(\n\t\tmap(p+eps.xyy).x-map(p-eps.xyy).x,\n\t\tmap(p+eps.yxy).x-map(p-eps.yxy).x,\n\t\tmap(p+eps.yyx).x-map(p-eps.yyx).x\n\t));\n}\n\nfloat diffuse(vec3 p, vec3 n, vec3 lpos) {\n  vec3 l = normalize(lpos-p);\n  float dif = clamp(dot(n, l), 0.01, 1.);\n  return dif;\n}\n\nHIT marcher (inout vec3 p, vec3 dir) {\n  // raymarching perf technique from https://www.shadertoy.com/view/XsyGWV\n  HIT hit = HIT(0.);\n  float precis = 0.0001;\n  float t = 0.;\n  for (int i=0; i<140; i++) {\n    HIT h = map(p + t * dir);\n    precis = t*0.0001;\n    float rl = max(t*.02, 1.);\n    t += h.x * rl;\n    if (abs(h.x) < precis || p.z > 20.) {\n      hit = h;\n      break;\n    }\n  }\n  p += t * dir;\n  return hit;\n}\n\nHIT opU (HIT a, HIT b) {\n  if (a.x < b.x) return a;\n  return b;\n}\n\nfloat specularStrength (float m) {\n  if (m<1.) return .0;\n  if (m<10.) return .3;\n  return 1.;\n}\n\nfloat specular (vec3 n, float m, vec3 ldir, vec3 dir, float p) {\n  return specularStrength(m) * pow(max(dot(dir, reflect(ldir, n)), 0.0), p);\n}\n\nvec3 lighting (HIT hit, vec3 p, vec3 n, vec3 dir) {\n  vec3 l, ldir;\n  vec3 c = vec3(0.);\n  l = vec3(-4., 4., -4.);\n  ldir = normalize(l - p);\n  c +=\n    vec3(1., .8, .5) * (\n      // ambient\n      0.1\n      // diffuse\n      + shade(hit, p)\n        * (.5 + .5 * diffuse(p, n, l)) // half lambert\n      + specular(n, hit.y, ldir, dir, 20.)\n    );\n  l = vec3(4., 3., -4.);\n  ldir = normalize(l - p);\n  c +=\n    vec3(.4, .5, .7) * (\n    // ambient\n    0.1\n    // diffuse\n    + shade(hit, p)\n      * (.5 + .5 * diffuse(p, n, l)) // half lambert\n      * softshadow(p, ldir, 0.02, 4., 16.)\n    + specular(n, hit.y, ldir, dir, 40.)\n  );\n  l = vec3(0., 3., 4.);\n  ldir = normalize(l - p);\n  c +=\n    vec3(.3) * (\n    // ambient\n    0.05\n    // diffuse\n    + shade(hit, p)\n      * (.5 + .5 * diffuse(p, n, l)) // half lambert\n    + specular(n, hit.y, ldir, dir, 80.)\n  );\n  return c;\n}\n\nvec3 shade (HIT hit, vec3 _p) {\n  float m = hit.y;\n  if (m < 1.) {\n    return mix(vec3(.8), vec3(.4, .5, .8), smoothstep(-2., 6., _p.y));\n  }\n  float wFactor = fract(m) * 2.;\n  vec2 p = hit.zw;\n  vec2 tUV = fract(p);\n  float piece = step(10., m);\n  return (.5 + .5 * texture(wood, tUV).r) * mix(\n    mix(vec3(.35, .2, .15), vec3(.1), piece),\n    mix(vec3(.8, .7, .5), vec3(.9), piece),\n    wFactor\n  );\n}\n\n// tiles are of 1m x 1m\nHIT sdChessboard (vec3 p) {\n  float manhattan = max(abs(p.x), abs(p.z));\n  float o = step(4., manhattan);\n  float m = mix(\n    2. + .5 * step(1., mod(1.+floor(p.x)+floor(p.z), 2.)),\n    3. + .5 * step(4.1, manhattan),\n    o\n  );\n  return HIT(fBox(p, vec3(4.4, 0.2, 4.4)), m, .3 * (p.x - p.y), .3 * (p.z + p.y));\n}\n\n// height of 1m\nfloat sdChessKingOrQueen (vec3 p) {\n  float d;\n  float body = fOpUnionSoft(\n    .1,\n    sdCone(p * vec3(1., -1., 1.), .12, .5),\n    sdCone(p + vec3(0., 1., 0.), .16, .8)\n  );\n  d = fOpUnionSoft(.1, body, fDisc(p, .15)-.01);\n  vec3 q = p;\n  float discs;\n  q.y += 0.22;\n  discs = fDisc(q, .06) - .01;\n  q.y += 0.06;\n  discs = min(discs, fDisc(q, .07) - .01);\n  q.y += 0.04;\n  discs = min(discs, fDisc(q, .08) - .03);\n  q.y += 0.49;\n  discs = min(discs, fDisc(q, .11) - .02);\n  q.y += 0.11;\n  discs = min(discs, fDisc(q, .12) - .05);\n  d = fOpUnionSoft(.015, d, discs);\n  return d;\n}\n\n// height of 1m + crawn\nfloat sdChessQueen (vec3 p) {\n  float s = sdChessKingOrQueen(p);\n  float ball = fSphere((p-vec3(0., 0.05, 0.)) * vec3(1., 2., 1.), .05);\n  s = min(s, ball);\n   pModPolar(p.xz, 14.);\n  p.y -= .08;\n  p.x -= .2;\n  s = max(s, -fSphere(p, 0.1));\n  return s;\n}\n\nfloat sdChessKing (vec3 p) {\n  float s = sdChessKingOrQueen(p);\n  p.y -= .12;\n  p.y *= 1.1; // a bit stretched\n  float cross = length(p.xy)-.04;\n  pModPolar(p.xy, 4.);\n  pR(p.xy, .5 * PI);\n  p.y += 0.07;\n\n  vec3 q = abs(p);\n  float sz = .04;\n  cross = fOpUnionSoft(.02, cross, max(.5*q.x+.5*p.y,-p.y)-sz*0.5);\n  // cross = min(cross, p.x+p.y-0.2);\n  s = fOpUnionSoft(.02, s, max(cross, q.z-.02));\n  return s;\n}\n\nfloat sdChessPawn (vec3 p) {\n  float d;\n  p.y += .5;\n  float body = fOpUnionSoft(\n    .01,\n    fSphere(p, .1),\n    sdCone(p + vec3(0., .5, 0.), .16, .5)\n  );\n  p.y += .11;\n  d = min(body, fDisc(p, .08)-.02);\n  p.y += 0.27;\n  float base = min(fDisc(p, .04) - .08, fDisc(p+vec3(.0, .05, .0), .12) - .04);\n  d = fOpUnionSoft(.05, d, base);\n  return d;\n}\n\nfloat sdChessBishop (vec3 p) {\n  p.y += .2;\n  float head = fOpUnionSoft(\n    .15,\n    fDisc(p + vec3(0., -.04, 0.), .03)-.01,\n    fSphere((p + vec3(0., .09, 0.)) * vec3(1., 1.6, 1.), .1)\n  );\n  vec3 q = p;\n  q.x += .05;\n  pR(q.xy, .6);\n  float cut = fBox(q, vec3(.01, .1, .1));\n  head = max(head, -cut);\n  head = min(head, min(\n    fSphere(p + vec3(0., .18, 0.), .05),\n    fDisc(p + vec3(0., .23, 0.), .07)-.02\n  ));\n  float d = fOpUnionSoft(\n    .03,\n    sdCone(p + vec3(0., .75, 0.), .16, .78),\n    head\n  );\n  p.y += .56;\n  float base = min(\n    fDisc(p, .04) - .08,\n    fDisc(p+vec3(.0, .05, .0), .12) - .04\n  );\n  d = min(d, base);\n  return d;\n}\n\nfloat sdChessRook (vec3 p) {\n  p.y += .4;\n  // body\n  float d = max(\n    sdCone(p + vec3(0., .5, 0.), .14, .6),\n    p.y + .05\n  );\n  // crown\n  vec3 q = p;\n  q.y -= .2;\n  q.y *= -1.;\n  float cyl = max(\n    abs(p.y) - .06,\n    sdCone(q, .16, .5)\n  );\n  q = p - vec3(0., .06, 0.);\n  float dif = max(\n    abs(q.y) - .02,\n    min(\n      min(abs(q.z), abs(q.x)) - .02,\n      length(q.xz) - .08\n    )\n  );\n  d = min(d, max(cyl, -dif));\n  // crown base\n  d = min(\n    d,\n    min(\n      fDisc(p + vec3(.0, .07, .0), .08)-.01,\n      fDisc(p + vec3(.0, .09, .0), .06)-.02\n    ));\n  // body base\n  p.y += 0.5;\n  d = fOpUnionSoft(.03, d,\n    min(\n      fDisc(p, .05) - .1,\n      min(\n        fDisc(p-vec3(.0, .05, .0), .1)-.05,\n        fDisc(p-vec3(.0, .01, .0), .14)-.03\n      )\n    )\n  );\n  return d;\n}\n\nfloat sdChessKnight (vec3 p) {\n  float d = min(\n    fDisc(p + vec3(.0, .91, .0), .04) - .08,\n    fDisc(p + vec3(.0, .96, .0), .12) - .04\n  );\n  vec3 q = p + vec3(0., .6, .0);\n  q.y += .05;\n  d = min(d, fBox(q, vec3(.03, .16, .0)) - .05);\n  q.y -= .05;\n  pR(q.xy, 1.);\n  q.x += .05;\n  q.y += .05;\n  d = fOpUnionSoft(.1, d, fBox(q, vec3(.02, .08, .0)) - .03);\n  q.y -= .15;\n  q.x -= .2;\n  float hair = fSphere(q * vec3(1., 3., 2.), .04);\n  q.x += .05;\n  q.x -= .08;\n  q.y += .12;\n  pR(q.xy, -.1);\n  d = fOpUnionSoft(.05, d, max(\n    fBox(q, vec3(.02, .08, .0)) - .05,\n    -min(\n      fSphere((q + vec3(.0, .12, .0)) * vec3(3., 2., 1.), .06),\n      fSphere((vec3(q.x * 1.5, q.y, abs(q.z)) - vec3(.02, .03, .07)), .03)\n    )\n  ));\n  d = fOpUnionSoft(.2, d, hair);\n  return d;\n}\n\nfloat sdChessPiece(vec3 p, float id) {\n  float s = .3;\n  p = (p - vec3(0., 1.4, 0.)) / 1.4;\n  if (id == 10.) s = sdChessKing(p);\n  if (id == 11.) s = sdChessQueen(p);\n  if (id == 12.) s = sdChessBishop(p);\n  if (id == 13.) s = sdChessKnight(p);\n  if (id == 14.) s = sdChessRook(p);\n  if (id == 15.) s = sdChessPawn(p);\n  return s;\n}\n\nfloat sdChessPieceId(float id, float white) {\n  return id + .5 * white;\n}\n\nHIT piece (vec3 p, float id, float w) {\n  float m = sdChessPieceId(id, w);\n  float piece = sdChessPiece(p, id);\n  return HIT(piece, m, p.x + .3 * p.y, p.z - .7 * p.y);\n}\n\nHIT board (vec3 p) {\n  p.y -= .05;\n  HIT s = sdChessboard(p);\n  p.y -= .05;\n  p.xz += 3.5;\n  float x = 7. - pModInterval1(p.x, 1., 0., 7.);\n  float y = pModInterval1(p.z, 1., 0., 7.);\n  float sx = min(x, 7.-x);\n  float sy = min(y, 7.-y);\n  float white = step(y, 3.);\n  float id = mix(\n    10. // first line\n    + step(sx, 0.)\n    + step(sx, 1.)\n    + step(sx, 2.)\n    + step(sx, 3.)\n    - step(4., x) * step(x, 4.),\n    15., // second line (pawns)\n    step(1., sy)\n  ) * step(sy, 1.);\n  s = opU(s, piece(p, id, white));\n  return s;\n}\n\nHIT map (vec3 p) {\n  HIT s = HIT(20. - length(p), 0.1, 0., 0.); // inside sphere\n  s = opU(s, board(p));\n  return s;\n}\n\nmat3 lookAt (vec3 ro, vec3 ta) {\n  float cr = 0.;\n  vec3 ww = normalize( ta - ro );\n  vec3 uu = normalize( cross(ww,vec3(sin(cr),cos(cr),0.0) ) );\n  vec3 vv =          ( cross(uu,ww));\n  return mat3(uu,vv,ww);\n}\n\nvoid main() {\n  float t = .2 * time;\n  float z = .5 + .5 * cos(.3 * t);\n  float dist = 12. - 6. * pow(z, 0.5);\n  origin = vec3(\n    dist * cos(t),\n    2. + 6. * z,\n    dist * sin(t)\n  );\n  vec3 poi = vec3(0., 0.3, 1. - 6. * pow(z, 4.));\n  vec3 c = vec3(0.);\n  vec2 dt = vec2(0.);\n  vec2 uvP = uv + dt;\n  vec3 dir = normalize(vec3(uvP - .5, 1.5));\n  dir = lookAt(origin, poi) * dir;\n\n  // debug ortho camera\n  #if 0\n  origin.x = -0.5;\n  origin.y = 1.;\n  origin.z = -3.;\n  origin += vec3(2.4 * (uvP - .5)- vec2(0., 0.), 0.);\n  dir = normalize(vec3(0., 0., 1.));\n  #endif\n\n  vec3 p = origin;\n  HIT hit = marcher(p, dir);\n  vec3 n = normal(p);\n  c += lighting(hit, p, n, dir);\n  color = vec4(c, 1.0);\n}"]);return Wi=function(){return n},n}var Ki=54,Qi="chess set",Zi=function(n){var e=n.time;return Object(on.jsx)(an.Node,{shader:$i.node,uniforms:{time:e,wood:"/images/seamless-wood2.jpg"}})},$i=an.Shaders.create({node:{frag:Object(an.GLSL)(Wi(),Math.PI)}});function Ji(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\n\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvoid main() {\n  float t = time * smoothstep(0., 8., time);\n  float y = 0.4 + 0.8 * uv.y + 0.1 * cos(uv.x + t) + 0.05 * sin(uv.x * 0.1 + 0.2 * t);\n  vec3 bg = palette(\n    y,\n    vec3(0.6, 0.5, 0.5),\n    vec3(0.5, 0.4, 0.5),\n    vec3(0.8, 1.0, 1.0),\n    vec3(0.55+0.1 * sin(0.1 * t), 0.28, 0.2)\n  );\n  float curve = -.7 + y + 0.1*(sin(t) + 0.5*smoothstep(4., 14., t) * fract((5.*sin((t + 2. * uv.x)) * 04.)))*cos((pow(t*0.2 + 0.1 * cos(t), 1.2) + sin(pow(t*0.1, 0.2)) * uv.x) * 20.0);\n  vec3 c = mix(\n    bg,\n    vec3(1.),\n    step(0., curve) * step(curve, 0.01)\n  );\n  gl_FragColor = vec4(c, 1.0);\n}"]);return Ji=function(){return n},n}an.Shaders.create({node:{frag:Object(an.GLSL)(Ji())}});function na(){var n=rn(["\nprecision highp float;\nvarying vec2 uv;\nuniform float time;\nuniform sampler2D t;\n\n#define PI ","\n#define SIZE ",".\n\n// from http://glslsandbox.com/e#43182.0\n#define SQRT3 1.7320508\nconst vec2 s = vec2(1.0, SQRT3);\nfloat hex(in vec2 p){\n  p = abs(p);\n  return max(dot(p, s*.5), p.x);\n}\nvec4 getHex(vec2 p) {\n  vec4 hC = floor(vec4(p, p - vec2(.5, 1))/s.xyxy) + .5;\n  vec4 h = vec4(p - hC.xy*s, p - (hC.zw + .5)*s);\n  return dot(h.xy, h.xy)<dot(h.zw, h.zw) ? vec4(h.xy, hC.xy) : vec4(h.zw, hC.zw - .27);\n}\n// https://iquilezles.org/www/articles/palettes/palettes.htm\nvec3 palette( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d ) {\n  return a + b*cos( 6.28318*(c*t+d) );\n}\n///////////////////////////////////////////\n\nmat2 rot (float a) {\n  float c = cos(a);\n  float s = sin(a);\n  return mat2(c,s,-s,c);\n}\n\nfloat sdSegment (in vec3 p, in float L, in float R) {\n  p.y -= min(L, max(0.0, p.y));\n  return length(p) - R;\n}\n\nfloat sdSphere (in vec3 p, in float R) {\n  return length(p) - R;\n}\n\nvec2 id;\nfloat inBound;\nfloat active;\n\n// IDEA : hexagon tower with a game of life in it? and that repeat itself recursively?\n\nfloat SDF(vec3 p) {\n  // The whole 3D objects are defined in this function\n  p.z -= 8.;\n  //p.yz *= rot(-1. + 0.1 * pow(.5 + .5*cos(0.9 * time), 4.) + 0.2 * cos(.08 * time));\n  //p.xz *= rot(.1 * time);\n  p.yz *= rot(-1.6);\n  vec4 h = getHex(p.xz);\n  id = h.zw;\n  vec2 u = id / vec2(SIZE, SIZE / 2.);\n  inBound = step(0., u.x) * step(0., u.y) * step(u.x, 1.) * step(u.y, 1.);\n  active = step(0.1, texture2D(t, u).r);\n  p.x = h.x;\n  p.z = h.y;\n  float s = sdSphere(p.xyz, 0.1 + 0.3 * active);\n  return s;\n}\n\nvoid main() {\n  vec3 p = vec3(SIZE/2., SIZE/2., -0.);\n  vec3 dir = normalize(vec3((uv - 0.5) * 2.,1.));\n  float shad = 1.;\n  for (int i=0; i<60; i++) {\n    float d = SDF(p);\n    if (d<0.001) {\n      shad = float(i)/60.;\n      break;\n    }\n    p += d * dir * 0.5;\n  }\n\n  // Coloring\n  vec3 c = inBound *\n    sqrt(vec3(1. - shad));\n  gl_FragColor = vec4(c,1.0);\n}"]);return na=function(){return n},n}an.Shaders.create({node:{frag:Object(an.GLSL)(na(),Math.PI,20)}});var ea=[r,o,i,a,s,c,l,f,p,u,d,v,h,m,g,y,x,b,_,w,S,E,T,R,z,O,I,j,A,C,P,D,L,N,M,k,U,B,F,q,G,H,V,X,Y,W,K,Q,Z,$,J,nn,en,tn];function ta(){return ea[ea.length-1]}function ra(n){return ea.find((function(e){return e.n===n}))}},rQ2n:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var r=t("nKUr"),o=t("MX0m"),i=t.n(o);t("q1tI");function a(n){var e=n.children;return Object(r.jsxs)("div",{className:"jsx-3621368397 container",children:[e,Object(r.jsx)(i.a,{id:"3621368397",children:[".container.jsx-3621368397{min-height:100vh;padding:0 0.5rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}"]})]})}},rhSW:function(n,e){n.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},"rr/c":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Bus",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"connectSize",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"createSurface",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"listSurfaces",{enumerable:!0,get:function(){return i.list}}),Object.defineProperty(e,"GLSL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"LinearCopy",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"NearestCopy",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"Shaders",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"Uniform",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"Visitor",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"VisitorLogger",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"Visitors",{enumerable:!0,get:function(){return v.default}}),e.Backbuffer=void 0;var r=m(t("dLFq")),o=m(t("5rLZ")),i=function(n){if(n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};var e=h();if(e&&e.has(n))return e.get(n);var t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var i=r?Object.getOwnPropertyDescriptor(n,o):null;i&&(i.get||i.set)?Object.defineProperty(t,o,i):t[o]=n[o]}t.default=n,e&&e.set(n,t);return t}(t("dGjt")),a=m(t("dEu3")),s=m(t("9tIV")),c=m(t("FRc1")),l=m(t("JwSf")),f=m(t("laZL")),p=m(t("nXQg")),u=m(t("8e5R")),d=m(t("UWhB")),v=m(t("38ab"));function h(){if("function"!==typeof WeakMap)return null;var n=new WeakMap;return h=function(){return n},n}function m(n){return n&&n.__esModule?n:{default:n}}t("y0kB");e.Backbuffer="Backbuffer"},st01:function(n,e,t){var r=t("AAS3"),o=t("6v/u");n.exports=function(n){for(var e=Array.isArray(n)?n:r(n),t=0;t<e.length;t++){var i=e[t];if("preprocessor"===i.type){var a=i.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(a&&a[2]){var s=a[1],c=a[2];return(s?o(c):c).trim()}}}}},szI9:function(n,e){n.exports=function(n,e){var t={identity:e},r=n.valueOf;return Object.defineProperty(n,"valueOf",{value:function(n){return n!==e?r.apply(this,arguments):t},writable:!0}),t}},tCpK:function(n,e,t){var r=t("rhSW");n.exports=function(n){return r[n]}},tXdy:function(n,e,t){"use strict";t.d(e,"a",(function(){return a}));var r=t("nKUr"),o=t("MX0m"),i=t.n(o);t("q1tI");function a(n){var e=n.Day;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("footer",{className:"jsx-2226201077",children:Object(r.jsx)("a",{target:"_blank",href:"https://github.com/gre/shaderday.com/blob/master/day/".concat((e.n+"").padStart(3,"0"),".js"),className:"jsx-2226201077",children:"source code"})}),Object(r.jsx)(i.a,{id:"2226201077",children:["footer.jsx-2226201077{padding:1rem 0;font-size:0.8rem;font-style:italic;}"]})]})}},tbvF:function(n,e,t){var r=t("IDFI"),o=t("BEtg"),i="undefined"!==typeof Float64Array;function a(n,e){return n[0]-e[0]}function s(){var n,e=this.stride,t=new Array(e.length);for(n=0;n<t.length;++n)t[n]=[Math.abs(e[n]),n];t.sort(a);var r=new Array(t.length);for(n=0;n<r.length;++n)r[n]=t[n][1];return r}function c(n,e){var t=["View",e,"d",n].join("");e<0&&(t="View_Nil"+n);var o="generic"===n;if(-1===e){var i="function "+t+"(a){this.data=a;};var proto="+t+".prototype;proto.dtype='"+n+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+t+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+t+"(a){return new "+t+"(a);}";return new Function(i)()}if(0===e){i="function "+t+"(a,d) {this.data = a;this.offset = d};var proto="+t+".prototype;proto.dtype='"+n+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+t+"_copy() {return new "+t+"(this.data,this.offset)};proto.pick=function "+t+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+t+"_get(){return "+(o?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+t+"_set(v){return "+(o?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+t+"(a,b,c,d){return new "+t+"(a,d)}";return new Function("TrivialArray",i)(l[n][0])}i=["'use strict'"];var a=r(e),c=a.map((function(n){return"i"+n})),f="this.offset+"+a.map((function(n){return"this.stride["+n+"]*i"+n})).join("+"),p=a.map((function(n){return"b"+n})).join(","),u=a.map((function(n){return"c"+n})).join(",");i.push("function "+t+"(a,"+p+","+u+",d){this.data=a","this.shape=["+p+"]","this.stride=["+u+"]","this.offset=d|0}","var proto="+t+".prototype","proto.dtype='"+n+"'","proto.dimension="+e),i.push("Object.defineProperty(proto,'size',{get:function "+t+"_size(){return "+a.map((function(n){return"this.shape["+n+"]"})).join("*"),"}})"),1===e?i.push("proto.order=[0]"):(i.push("Object.defineProperty(proto,'order',{get:"),e<4?(i.push("function "+t+"_order(){"),2===e?i.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&i.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):i.push("ORDER})")),i.push("proto.set=function "+t+"_set("+c.join(",")+",v){"),o?i.push("return this.data.set("+f+",v)}"):i.push("return this.data["+f+"]=v}"),i.push("proto.get=function "+t+"_get("+c.join(",")+"){"),o?i.push("return this.data.get("+f+")}"):i.push("return this.data["+f+"]}"),i.push("proto.index=function "+t+"_index(",c.join(),"){return "+f+"}"),i.push("proto.hi=function "+t+"_hi("+c.join(",")+"){return new "+t+"(this.data,"+a.map((function(n){return["(typeof i",n,"!=='number'||i",n,"<0)?this.shape[",n,"]:i",n,"|0"].join("")})).join(",")+","+a.map((function(n){return"this.stride["+n+"]"})).join(",")+",this.offset)}");var d=a.map((function(n){return"a"+n+"=this.shape["+n+"]"})),v=a.map((function(n){return"c"+n+"=this.stride["+n+"]"}));i.push("proto.lo=function "+t+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+v.join(","));for(var h=0;h<e;++h)i.push("if(typeof i"+h+"==='number'&&i"+h+">=0){d=i"+h+"|0;b+=c"+h+"*d;a"+h+"-=d}");i.push("return new "+t+"(this.data,"+a.map((function(n){return"a"+n})).join(",")+","+a.map((function(n){return"c"+n})).join(",")+",b)}"),i.push("proto.step=function "+t+"_step("+c.join(",")+"){var "+a.map((function(n){return"a"+n+"=this.shape["+n+"]"})).join(",")+","+a.map((function(n){return"b"+n+"=this.stride["+n+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(h=0;h<e;++h)i.push("if(typeof i"+h+"==='number'){d=i"+h+"|0;if(d<0){c+=b"+h+"*(a"+h+"-1);a"+h+"=ceil(-a"+h+"/d)}else{a"+h+"=ceil(a"+h+"/d)}b"+h+"*=d}");i.push("return new "+t+"(this.data,"+a.map((function(n){return"a"+n})).join(",")+","+a.map((function(n){return"b"+n})).join(",")+",c)}");var m=new Array(e),g=new Array(e);for(h=0;h<e;++h)m[h]="a[i"+h+"]",g[h]="b[i"+h+"]";i.push("proto.transpose=function "+t+"_transpose("+c+"){"+c.map((function(n,e){return n+"=("+n+"===undefined?"+e+":"+n+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+t+"(this.data,"+m.join(",")+","+g.join(",")+",this.offset)}"),i.push("proto.pick=function "+t+"_pick("+c+"){var a=[],b=[],c=this.offset");for(h=0;h<e;++h)i.push("if(typeof i"+h+"==='number'&&i"+h+">=0){c=(c+this.stride["+h+"]*i"+h+")|0}else{a.push(this.shape["+h+"]);b.push(this.stride["+h+"])}");return i.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),i.push("return function construct_"+t+"(data,shape,stride,offset){return new "+t+"(data,"+a.map((function(n){return"shape["+n+"]"})).join(",")+","+a.map((function(n){return"stride["+n+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",i.join("\n"))(l[n],s)}var l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};n.exports=function(n,e,t,r){if(void 0===n)return(0,l.array[0])([]);"number"===typeof n&&(n=[n]),void 0===e&&(e=[n.length]);var a=e.length;if(void 0===t){t=new Array(a);for(var s=a-1,f=1;s>=0;--s)t[s]=f,f*=e[s]}if(void 0===r){r=0;for(s=0;s<a;++s)t[s]<0&&(r-=(e[s]-1)*t[s])}for(var p=function(n){if(o(n))return"buffer";if(i)switch(Object.prototype.toString.call(n)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(n)?"array":"generic"}(n),u=l[p];u.length<=a+1;)u.push(c(p,u.length-1));return(0,u[a+1])(n,e,t,r)}},v25H:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(n){if(n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};var e=l();if(e&&e.has(n))return e.get(n);var t={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var i=r?Object.getOwnPropertyDescriptor(n,o):null;i&&(i.get||i.set)?Object.defineProperty(t,o,i):t[o]=n[o]}t.default=n,e&&e.set(n,t);return t}(t("q1tI")),o=c(t("17x9")),i=c(t("QLaP")),a=c(t("Cz5J")),s=c(t("Ry8g"));function c(n){return n&&n.__esModule?n:{default:n}}function l(){if("function"!==typeof WeakMap)return null;var n=new WeakMap;return l=function(){return n},n}function f(){return(f=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function p(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function u(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?p(Object(t),!0).forEach((function(e){v(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function d(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}function v(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}const h={onContextCreate:o.default.func.isRequired,onContextFailure:o.default.func.isRequired,onContextLost:o.default.func.isRequired,onContextRestored:o.default.func.isRequired,webglContextAttributes:o.default.object,width:o.default.number.isRequired,height:o.default.number.isRequired,style:o.default.object,pixelRatio:o.default.number,version:o.default.string};class m extends r.Component{render(){const{error:n}=this.props;let e=String(n.rawError||n.message||n),t=String(n.longMessage||n.rawError||"");return r.default.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,padding:"1em",background:"#a00",color:"#fff",fontSize:"12px",lineHeight:"1.2em",fontStyle:"normal",fontWeight:"normal",fontFamily:"monospace",overflow:"auto"}},r.default.createElement("div",{style:{fontWeight:"bold",marginBottom:"1em"}},e),r.default.createElement("div",{style:{whiteSpace:"pre"}},t))}}class g extends r.Component{constructor(...n){super(...n),v(this,"state",{error:null}),v(this,"webglContextAttributes",void 0),v(this,"canvas",void 0),v(this,"gl",void 0),v(this,"_onContextLost",(n=>{n.preventDefault(),this.gl=null,this.props.onContextLost()})),v(this,"_onContextRestored",(()=>{this.gl=this._createContext(),this.props.onContextRestored(this.gl)})),v(this,"onRef",(n=>{this.canvas=n})),v(this,"debugError",null),v(this,"afterDraw",null)}componentDidMount(){const{onContextCreate:n,onContextFailure:e}=this.props,t=this._createContext();if(t){this.gl=t,n(t);const{canvas:e}=this;(0,i.default)(e,"canvas is not settled in GLViewDOM#componentDidMount"),e.addEventListener("webglcontextlost",this._onContextLost),e.addEventListener("webglcontextrestored",this._onContextRestored)}else e(new Error("no-webgl-context"))}componentWillUnmount(){this.gl&&((0,s.default)(this.gl),this.gl=null);const{canvas:n}=this;n&&(n.removeEventListener("webglcontextlost",this._onContextLost),n.removeEventListener("webglcontextrestored",this._onContextRestored))}render(){const{error:n}=this.state;let e=this.props,{width:t,height:o,pixelRatio:i,style:a,debug:s,version:c}=e,l=d(e,["width","height","pixelRatio","style","debug","version"]);i||(i=Number("object"===typeof window&&window.devicePixelRatio||1));for(let r in h)l.hasOwnProperty(r)&&delete l[r];return r.default.createElement("span",{style:u(u({position:"relative"},a),{},{display:"inline-block",width:t,height:o})},r.default.createElement("canvas",f({ref:this.onRef,style:{width:t,height:o},width:t*i,height:o*i},l)),n?r.default.createElement(m,{error:n}):null)}_createContext(){const{webglContextAttributes:n,debug:e,version:t}=this.props,r=(0,a.default)(this.canvas,e?u(u({},n),{},{preserveDrawingBuffer:!0}):n,t||"webgl2");return this.webglContextAttributes=n||{},r}captureAsDataURL(...n){return this.webglContextAttributes.preserveDrawingBuffer||console.warn("Surface#captureAsDataURL is likely to not work if you don't define webglContextAttributes={{ preserveDrawingBuffer: true }}"),(0,i.default)(this.canvas,"canvas is no longer available"),this.canvas.toDataURL(...n)}captureAsBlob(...n){return this.webglContextAttributes.preserveDrawingBuffer||console.warn("Surface#captureAsBlob is likely to not work if you don't define webglContextAttributes={{ preserveDrawingBuffer: true }}"),Promise.resolve().then((()=>new Promise(((e,t)=>this.canvas?this.canvas.toBlob(e,...n):t(new Error("canvas is no longer available"))))))}}e.default=g,v(g,"propTypes",h)},vNVm:function(n,e,t){"use strict";var r=t("J4zp"),o=t("TqRt");e.__esModule=!0,e.useIntersection=function(n){var e=n.rootMargin,t=n.disabled||!s,o=(0,i.useRef)(),l=(0,i.useState)(!1),f=r(l,2),p=f[0],u=f[1],d=(0,i.useCallback)((function(n){o.current&&(o.current(),o.current=void 0),t||p||n&&n.tagName&&(o.current=function(n,e,t){var r=function(n){var e=n.rootMargin||"",t=c.get(e);if(t)return t;var r=new Map,o=new IntersectionObserver((function(n){n.forEach((function(n){var e=r.get(n.target),t=n.isIntersecting||n.intersectionRatio>0;e&&t&&e(t)}))}),n);return c.set(e,t={id:e,observer:o,elements:r}),t}(t),o=r.id,i=r.observer,a=r.elements;return a.set(n,e),i.observe(n),function(){i.unobserve(n),0===a.size&&(i.disconnect(),c.delete(o))}}(n,(function(n){return n&&u(n)}),{rootMargin:e}))}),[t,e,p]);return(0,i.useEffect)((function(){s||p||(0,a.default)((function(){return u(!0)}))}),[p]),[d,p]};var i=t("q1tI"),a=o(t("0G5g")),s="undefined"!==typeof IntersectionObserver;var c=new Map},xEkU:function(n,e,t){(function(e){for(var r=t("bQgK"),o="undefined"===typeof window?e:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],c=o["cancel"+a]||o["cancelRequest"+a],l=0;!s&&l<i.length;l++)s=o[i[l]+"Request"+a],c=o[i[l]+"Cancel"+a]||o[i[l]+"CancelRequest"+a];if(!s||!c){var f=0,p=0,u=[];s=function(n){if(0===u.length){var e=r(),t=Math.max(0,16.666666666666668-(e-f));f=t+e,setTimeout((function(){var n=u.slice(0);u.length=0;for(var e=0;e<n.length;e++)if(!n[e].cancelled)try{n[e].callback(f)}catch(t){setTimeout((function(){throw t}),0)}}),Math.round(t))}return u.push({handle:++p,callback:n,cancelled:!1}),p},c=function(n){for(var e=0;e<u.length;e++)u[e].handle===n&&(u[e].cancelled=!0)}}n.exports=function(n){return s.call(o,n)},n.exports.cancel=function(){c.apply(o,arguments)},n.exports.polyfill=function(n){n||(n=o),n.requestAnimationFrame=s,n.cancelAnimationFrame=c}}).call(this,t("yLpj"))},y0kB:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,o=t("TGEO"),i=(r=t("O8XB"))&&r.__esModule?r:{default:r};class a extends o.WebGLTextureLoaderSyncHashCache{constructor(n){super(n),function(n,e,t){e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}(this,"floatSupported",void 0),this.floatSupported=n.getExtension("OES_texture_float_linear")}canLoad(n){return n.shape&&n.data&&n.stride}inputHash(n){return n}getNoCache(n){const{gl:e}=this,t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);const[r,o]=n.shape;return(0,i.default)(e,t,n,this.floatSupported),{texture:t,width:r,height:o}}update(n){const{gl:e}=this,{texture:t}=this.get(n);e.bindTexture(e.TEXTURE_2D,t),(0,i.default)(e,t,n,this.floatSupported)}}o.globalRegistry.add(a);var s=a;e.default=s},yLpj:function(n,e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(r){"object"===typeof window&&(t=window)}n.exports=t},zqV6:function(n,e,t){"use strict";(function(n){var r=t("pIo5"),o=t("hK8l"),i=t("HDXh").Buffer;n.__TYPEDARRAY_POOL||(n.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),BIGUINT64:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),BIGINT64:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var a="undefined"!==typeof Uint8ClampedArray,s="undefined"!==typeof BigUint64Array,c="undefined"!==typeof BigInt64Array,l=n.__TYPEDARRAY_POOL;l.UINT8C||(l.UINT8C=o([32,0])),l.BIGUINT64||(l.BIGUINT64=o([32,0])),l.BIGINT64||(l.BIGINT64=o([32,0])),l.BUFFER||(l.BUFFER=o([32,0]));var f=l.DATA,p=l.BUFFER;function u(n){if(n){var e=n.length||n.byteLength,t=r.log2(e);f[t].push(n)}}function d(n){n=r.nextPow2(n);var e=r.log2(n),t=f[e];return t.length>0?t.pop():new ArrayBuffer(n)}function v(n){return new Uint8Array(d(n),0,n)}function h(n){return new Uint16Array(d(2*n),0,n)}function m(n){return new Uint32Array(d(4*n),0,n)}function g(n){return new Int8Array(d(n),0,n)}function y(n){return new Int16Array(d(2*n),0,n)}function x(n){return new Int32Array(d(4*n),0,n)}function b(n){return new Float32Array(d(4*n),0,n)}function _(n){return new Float64Array(d(8*n),0,n)}function w(n){return a?new Uint8ClampedArray(d(n),0,n):v(n)}function S(n){return s?new BigUint64Array(d(8*n),0,n):null}function E(n){return c?new BigInt64Array(d(8*n),0,n):null}function T(n){return new DataView(d(n),0,n)}function R(n){n=r.nextPow2(n);var e=r.log2(n),t=p[e];return t.length>0?t.pop():new i(n)}e.free=function(n){if(i.isBuffer(n))p[r.log2(n.length)].push(n);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(n)&&(n=n.buffer),!n)return;var e=n.length||n.byteLength,t=0|r.log2(e);f[t].push(n)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeBigUint64=e.freeInt8=e.freeInt16=e.freeInt32=e.freeBigInt64=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=function(n){u(n.buffer)},e.freeArrayBuffer=u,e.freeBuffer=function(n){p[r.log2(n.length)].push(n)},e.malloc=function(n,e){if(void 0===e||"arraybuffer"===e)return d(n);switch(e){case"uint8":return v(n);case"uint16":return h(n);case"uint32":return m(n);case"int8":return g(n);case"int16":return y(n);case"int32":return x(n);case"float":case"float32":return b(n);case"double":case"float64":return _(n);case"uint8_clamped":return w(n);case"bigint64":return E(n);case"biguint64":return S(n);case"buffer":return R(n);case"data":case"dataview":return T(n);default:return null}return null},e.mallocArrayBuffer=d,e.mallocUint8=v,e.mallocUint16=h,e.mallocUint32=m,e.mallocInt8=g,e.mallocInt16=y,e.mallocInt32=x,e.mallocFloat32=e.mallocFloat=b,e.mallocFloat64=e.mallocDouble=_,e.mallocUint8Clamped=w,e.mallocBigUint64=S,e.mallocBigInt64=E,e.mallocDataView=T,e.mallocBuffer=R,e.clearCache=function(){for(var n=0;n<32;++n)l.UINT8[n].length=0,l.UINT16[n].length=0,l.UINT32[n].length=0,l.INT8[n].length=0,l.INT16[n].length=0,l.INT32[n].length=0,l.FLOAT[n].length=0,l.DOUBLE[n].length=0,l.BIGUINT64[n].length=0,l.BIGINT64[n].length=0,l.UINT8C[n].length=0,f[n].length=0,p[n].length=0}}).call(this,t("yLpj"))}}]);